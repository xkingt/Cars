// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function b(h,n,t){var y=n[0],B=n[1],C=n[2];n=n[3];var F=t[0],I=t[1],L=t[2];t=t[3];h[0]=y*F+C*I;h[1]=B*F+n*I;h[2]=y*L+C*t;h[3]=B*L+n*t;return h}function a(h,n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];h[2]=n[2]-t[2];h[3]=n[3]-t[3];return h}function e(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4];n=n[5];var L=t[0],O=t[1],S=t[2],T=t[3],X=t[4];t=t[5];h[0]=y*L+C*O;h[1]=B*L+F*O;h[2]=y*S+C*T;h[3]=B*S+F*T;h[4]=y*X+C*t+I;h[5]=B*X+F*t+n;return h}function c(h,n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];h[2]=n[2]-
t[2];h[3]=n[3]-t[3];h[4]=n[4]-t[4];h[5]=n[5]-t[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7];n=n[8];var T=t[0],X=t[1],W=t[2],fa=t[3],da=t[4],aa=t[5],ua=t[6],pa=t[7];t=t[8];h[0]=T*y+X*F+W*O;h[1]=T*B+X*I+W*S;h[2]=T*C+X*L+W*n;h[3]=fa*y+da*F+aa*O;h[4]=fa*B+da*I+aa*S;h[5]=fa*C+da*L+aa*n;h[6]=ua*y+pa*F+t*O;h[7]=ua*B+pa*I+t*S;h[8]=ua*C+pa*L+
t*n;return h}function g(h,n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];h[2]=n[2]-t[2];h[3]=n[3]-t[3];h[4]=n[4]-t[4];h[5]=n[5]-t[5];h[6]=n[6]-t[6];h[7]=n[7]-t[7];h[8]=n[8]-t[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function p(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7],T=n[8],X=n[9],W=n[10],fa=n[11],da=n[12],aa=n[13],ua=n[14];n=n[15];var pa=t[0],sa=t[1],ta=t[2],ra=t[3];h[0]=
pa*y+sa*I+ta*T+ra*da;h[1]=pa*B+sa*L+ta*X+ra*aa;h[2]=pa*C+sa*O+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*n;pa=t[4];sa=t[5];ta=t[6];ra=t[7];h[4]=pa*y+sa*I+ta*T+ra*da;h[5]=pa*B+sa*L+ta*X+ra*aa;h[6]=pa*C+sa*O+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*n;pa=t[8];sa=t[9];ta=t[10];ra=t[11];h[8]=pa*y+sa*I+ta*T+ra*da;h[9]=pa*B+sa*L+ta*X+ra*aa;h[10]=pa*C+sa*O+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*n;pa=t[12];sa=t[13];ta=t[14];ra=t[15];h[12]=pa*y+sa*I+ta*T+ra*da;h[13]=pa*B+sa*L+ta*X+ra*aa;h[14]=pa*C+sa*O+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*n;return h}function r(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=y+y,L=B+B,O=C+C;n=y*I;var S=y*L;y*=O;var T=B*L;B*=O;C*=O;I*=F;L*=F;F*=O;h[0]=1-(T+C);h[1]=S+F;h[2]=y-L;h[3]=0;h[4]=S-F;h[5]=1-(n+C);h[6]=B+I;h[7]=0;h[8]=y+L;h[9]=B-I;h[10]=1-(n+T);h[11]=0;h[12]=t[0];h[13]=t[1];h[14]=t[2];h[15]=1;return h}function v(h,n){h[0]=n[12];h[1]=n[13];h[2]=n[14];return h}function q(h,n){var t=n[4],y=n[5],B=n[6],C=n[8],F=n[9],I=n[10];h[0]=Math.hypot(n[0],n[1],n[2]);h[1]=Math.hypot(t,y,B);h[2]=Math.hypot(C,
F,I);return h}function x(h,n){var t=new qa(3);q(t,n);var y=1/t[0],B=1/t[1],C=1/t[2],F=n[0]*y;t=n[1]*B;var I=n[2]*C,L=n[4]*y,O=n[5]*B,S=n[6]*C;y*=n[8];B*=n[9];n=n[10]*C;C=F+O+n;0<C?(F=2*Math.sqrt(C+1),h[3]=.25*F,h[0]=(S-B)/F,h[1]=(y-I)/F,h[2]=(t-L)/F):F>O&&F>n?(F=2*Math.sqrt(1+F-O-n),h[3]=(S-B)/F,h[0]=.25*F,h[1]=(t+L)/F,h[2]=(y+I)/F):O>n?(F=2*Math.sqrt(1+O-F-n),h[3]=(y-I)/F,h[0]=(t+L)/F,h[1]=.25*F,h[2]=(S+B)/F):(F=2*Math.sqrt(1+n-F-O),h[3]=(t-L)/F,h[0]=(y+I)/F,h[1]=(S+B)/F,h[2]=.25*F);return h}function u(h,
n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];h[2]=n[2]-t[2];h[3]=n[3]-t[3];h[4]=n[4]-t[4];h[5]=n[5]-t[5];h[6]=n[6]-t[6];h[7]=n[7]-t[7];h[8]=n[8]-t[8];h[9]=n[9]-t[9];h[10]=n[10]-t[10];h[11]=n[11]-t[11];h[12]=n[12]-t[12];h[13]=n[13]-t[13];h[14]=n[14]-t[14];h[15]=n[15]-t[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function z(h){return Math.hypot(h[0],h[1],h[2])}function A(h,n,t){var y=new qa(3);y[0]=h;y[1]=n;y[2]=t;return y}function E(h,n,t){h[0]=n[0]-t[0];h[1]=
n[1]-t[1];h[2]=n[2]-t[2];return h}function G(h,n,t){h[0]=n[0]*t[0];h[1]=n[1]*t[1];h[2]=n[2]*t[2];return h}function P(h,n,t){h[0]=n[0]/t[0];h[1]=n[1]/t[1];h[2]=n[2]/t[2];return h}function D(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],n[2]-h[2])}function H(h,n){var t=n[0]-h[0],y=n[1]-h[1];h=n[2]-h[2];return t*t+y*y+h*h}function J(h){var n=h[0],t=h[1];h=h[2];return n*n+t*t+h*h}function M(h,n){var t=n[0],y=n[1],B=n[2];t=t*t+y*y+B*B;0<t&&(t=1/Math.sqrt(t));h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;return h}function Q(h,
n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]}function R(h,n,t){var y=n[0],B=n[1];n=n[2];var C=t[0],F=t[1];t=t[2];h[0]=B*t-n*F;h[1]=n*C-y*t;h[2]=y*F-B*C;return h}function V(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];return n}function ca(h,n,t,y){var B=new qa(4);B[0]=h;B[1]=n;B[2]=t;B[3]=y;return B}function Y(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h}function ha(h,n,t,y,B){h[0]=n;h[1]=t;h[2]=
y;h[3]=B;return h}function ka(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];return h}function za(h,n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];h[2]=n[2]-t[2];h[3]=n[3]-t[3];return h}function Oa(h,n,t){h[0]=n[0]*t[0];h[1]=n[1]*t[1];h[2]=n[2]*t[2];h[3]=n[3]*t[3];return h}function ab(h,n,t){h[0]=n[0]/t[0];h[1]=n[1]/t[1];h[2]=n[2]/t[2];h[3]=n[3]/t[3];return h}function Ua(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;return h}function bb(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],
n[2]-h[2],n[3]-h[3])}function mb(h,n){var t=n[0]-h[0],y=n[1]-h[1],B=n[2]-h[2];h=n[3]-h[3];return t*t+y*y+B*B+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var n=h[0],t=h[1],y=h[2];h=h[3];return n*n+t*t+y*y+h*h}function fb(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=t*t+y*y+B*B+n*n;0<C&&(C=1/Math.sqrt(C));h[0]=t*C;h[1]=y*C;h[2]=B*C;h[3]=n*C;return h}function cb(h,n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]+h[3]*n[3]}function ub(h,n,t,y){var B=n[0],C=n[1],F=n[2];n=n[3];h[0]=B+
y*(t[0]-B);h[1]=C+y*(t[1]-C);h[2]=F+y*(t[2]-F);h[3]=n+y*(t[3]-n);return h}function vb(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]}function wb(h,n){var t=h[0],y=h[1],B=h[2];h=h[3];var C=n[0],F=n[1],I=n[2];n=n[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,n,t){t*=.5;var y=Math.sin(t);h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=Math.cos(t);return h}function yb(h,n,t){var y=n[0],B=n[1],C=n[2];n=n[3];var F=t[0],I=t[1],L=t[2];t=t[3];h[0]=y*t+n*F+B*L-C*I;h[1]=B*t+n*I+C*F-y*L;h[2]=C*t+n*L+y*I-B*F;h[3]=n*t-y*F-B*I-C*L;return h}function zb(h,n,t){t*=.5;var y=n[0],B=n[1],C=n[2];n=n[3];var F=Math.sin(t);t=Math.cos(t);h[0]=y*t+n*F;h[1]=B*t+C*F;h[2]=C*t-B*F;h[3]=n*t-y*F;return h}function Ab(h,n,t){t*=.5;var y=
n[0],B=n[1],C=n[2];n=n[3];var F=Math.sin(t);t=Math.cos(t);h[0]=y*t-C*F;h[1]=B*t+n*F;h[2]=C*t+y*F;h[3]=n*t-B*F;return h}function Bb(h,n,t){t*=.5;var y=n[0],B=n[1],C=n[2];n=n[3];var F=Math.sin(t);t=Math.cos(t);h[0]=y*t+B*F;h[1]=B*t-y*F;h[2]=C*t+n*F;h[3]=n*t-C*F;return h}function Cb(h,n){var t=n[0],y=n[1],B=n[2],C=Math.sqrt(t*t+y*y+B*B);n=Math.exp(n[3]);var F=0<C?n*Math.sin(C)/C:0;h[0]=t*F;h[1]=y*F;h[2]=B*F;h[3]=n*Math.cos(C);return h}function Db(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=Math.sqrt(t*
t+y*y+B*B);C=0<C?Math.atan2(C,n)/C:0;h[0]=t*C;h[1]=y*C;h[2]=B*C;h[3]=.5*Math.log(t*t+y*y+B*B+n*n);return h}function hb(h,n,t,y){var B=n[0],C=n[1],F=n[2];n=n[3];var I=t[0],L=t[1],O=t[2];t=t[3];var S=B*I+C*L+F*O+n*t;0>S&&(S=-S,I=-I,L=-L,O=-O,t=-t);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;h[0]=S*B+y*I;h[1]=S*C+y*L;h[2]=S*F+y*O;h[3]=S*n+y*t;return h}function Eb(h,n){var t=n[0]+n[4]+n[8];if(0<t)t=Math.sqrt(t+1),h[3]=.5*t,t=.5/t,h[0]=(n[5]-n[7])*
t,h[1]=(n[6]-n[2])*t,h[2]=(n[1]-n[3])*t;else{var y=0;n[4]>n[0]&&(y=1);n[8]>n[3*y+y]&&(y=2);var B=(y+1)%3,C=(y+2)%3;t=Math.sqrt(n[3*y+y]-n[3*B+B]-n[3*C+C]+1);h[y]=.5*t;t=.5/t;h[3]=(n[3*B+C]-n[3*C+B])*t;h[B]=(n[3*B+y]+n[3*y+B])*t;h[C]=(n[3*C+y]+n[3*y+C])*t}return h}function Fb(h,n,t){var y=.5*t[0],B=.5*t[1];t=.5*t[2];var C=n[0],F=n[1],I=n[2];n=n[3];h[0]=C;h[1]=F;h[2]=I;h[3]=n;h[4]=y*n+B*I-t*F;h[5]=B*n+t*C-y*I;h[6]=t*n+y*F-B*C;h[7]=-y*C-B*F-t*I;return h}function Gb(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];
h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];return h}function Hb(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=t[4],L=t[5],O=t[6],S=t[7],T=n[4],X=n[5],W=n[6];n=n[7];var fa=t[0],da=t[1],aa=t[2];t=t[3];h[0]=y*t+F*fa+B*aa-C*da;h[1]=B*t+F*da+C*fa-y*aa;h[2]=C*t+F*aa+y*da-B*fa;h[3]=F*t-y*fa-B*da-C*aa;h[4]=y*S+F*I+B*O-C*L+T*t+n*fa+X*aa-W*da;h[5]=B*S+F*L+C*I-y*O+X*t+n*da+W*fa-T*aa;h[6]=C*S+F*O+y*L-B*I+W*t+n*aa+T*da-X*fa;h[7]=F*S-y*I-B*L-C*O+n*t-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,n,t){h[0]=n[0]-t[0];h[1]=n[1]-t[1];return h}function jb(h,n,t){h[0]=n[0]*t[0];h[1]=n[1]*t[1];return h}function kb(h,n,t){h[0]=n[0]/t[0];h[1]=n[1]/t[1];return h}function Wa(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1])}function lb(h,n){var t=n[0]-h[0];h=n[1]-h[1];return t*t+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var n=h[0];h=h[1];return n*n+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,n=arguments.length;n--;)h+=arguments[n]*arguments[n];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Fga(){return qa},ana:Ka,Gua:function(h){qa=h},Qua:function(h){return h*Ib},Yc:function(h,n){return Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];
n[2]=h[2];n[3]=h[3];return n},pa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},Of:function(h,n,t,y){var B=new qa(4);B[0]=h;B[1]=n;B[2]=t;B[3]=y;return B},set:function(h,n,t,y,B){h[0]=n;h[1]=t;h[2]=y;h[3]=B;return h},GW:function(h,n){if(h===n){var t=n[1];h[1]=n[2];h[2]=t}else h[0]=n[0],h[1]=n[2],h[2]=n[1],h[3]=n[3];return h},xt:function(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=t*n-B*y;if(!C)return null;C=1/C;h[0]=n*C;h[1]=-y*
C;h[2]=-B*C;h[3]=t*C;return h},JV:function(h,n){var t=n[0];h[0]=n[3];h[1]=-n[1];h[2]=-n[2];h[3]=t;return h},iL:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:b,rotate:function(h,n,t){var y=n[0],B=n[1],C=n[2];n=n[3];var F=Math.sin(t);t=Math.cos(t);h[0]=y*t+C*F;h[1]=B*t+n*F;h[2]=y*-F+C*t;h[3]=B*-F+n*t;return h},scale:function(h,n,t){var y=n[1],B=n[2],C=n[3],F=t[0];t=t[1];h[0]=n[0]*F;h[1]=y*F;h[2]=B*t;h[3]=C*t;return h},rD:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=t;h[2]=-t;h[3]=n;
return h},mL:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];return h},Gm:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},lL:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},ala:function(h,n,t,y){h[2]=y[2]/y[0];t[0]=y[0];t[1]=y[1];t[3]=y[3]-h[2]*t[1];return[h,n,t]},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];return h},Hm:a,Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]},Yc:function(h,n){var t=h[0],y=h[1],B=h[2];h=
h[3];var C=n[0],F=n[1],I=n[2];n=n[3];return Math.abs(t-C)<=1E-6*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-I)<=1E-6*Math.max(1,Math.abs(B),Math.abs(I))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},yL:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;return h},zL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;h[3]=n[3]+t[3]*y;return h},yo:b,sub:a}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(6);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];return n},pa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},Of:function(h,n,t,y,B,C){var F=new qa(6);F[0]=h;F[1]=n;F[2]=t;F[3]=y;F[4]=B;F[5]=C;return F},set:function(h,n,t,y,B,C,F){h[0]=n;h[1]=t;h[2]=y;h[3]=B;h[4]=C;h[5]=
F;return h},xt:function(h,n){var t=n[0],y=n[1],B=n[2],C=n[3],F=n[4];n=n[5];var I=t*C-y*B;if(!I)return null;I=1/I;h[0]=C*I;h[1]=-y*I;h[2]=-B*I;h[3]=t*I;h[4]=(B*n-C*F)*I;h[5]=(y*F-t*n)*I;return h},iL:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4];n=n[5];var L=Math.sin(t);t=Math.cos(t);h[0]=y*t+C*L;h[1]=B*t+F*L;h[2]=y*-L+C*t;h[3]=B*-L+F*t;h[4]=I;h[5]=n;return h},scale:function(h,n,t){var y=n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=t[0];t=t[1];
h[0]=n[0]*L;h[1]=y*L;h[2]=B*t;h[3]=C*t;h[4]=F;h[5]=I;return h},translate:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4];n=n[5];var L=t[0];t=t[1];h[0]=y;h[1]=B;h[2]=C;h[3]=F;h[4]=y*L+C*t+I;h[5]=B*L+F*t+n;return h},rD:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=t;h[2]=-t;h[3]=n;h[4]=0;h[5]=0;return h},mL:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];h[4]=0;h[5]=0;return h},nL:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=n[0];h[5]=n[1];return h},Gm:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},lL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];h[4]=n[4]+t[4];h[5]=n[5]+t[5];return h},Hm:c,yL:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;h[4]=n[4]*t;h[5]=n[5]*t;return h},zL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;h[3]=n[3]+t[3]*y;h[4]=n[4]+t[4]*y;h[5]=n[5]+t[5]*y;return h},Kj:function(h,n){return h[0]===
n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]},Yc:function(h,n){var t=h[0],y=h[1],B=h[2],C=h[3],F=h[4];h=h[5];var I=n[0],L=n[1],O=n[2],S=n[3],T=n[4];n=n[5];return Math.abs(t-I)<=1E-6*Math.max(1,Math.abs(t),Math.abs(I))&&Math.abs(y-L)<=1E-6*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(B-O)<=1E-6*Math.max(1,Math.abs(B),Math.abs(O))&&Math.abs(C-S)<=1E-6*Math.max(1,Math.abs(C),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-n)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(n))},yo:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,lfa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[4];h[4]=n[5];h[5]=n[6];h[6]=n[8];h[7]=n[9];h[8]=n[10];return h},clone:function(h){var n=new qa(9);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];return n},pa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},Of:function(h,n,t,y,B,C,F,I,L){var O=new qa(9);O[0]=
h;O[1]=n;O[2]=t;O[3]=y;O[4]=B;O[5]=C;O[6]=F;O[7]=I;O[8]=L;return O},set:function(h,n,t,y,B,C,F,I,L,O){h[0]=n;h[1]=t;h[2]=y;h[3]=B;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},GW:function(h,n){if(h===n){var t=n[1],y=n[2],B=n[5];h[1]=n[3];h[2]=n[6];h[3]=t;h[5]=n[7];h[6]=y;h[7]=B}else h[0]=n[0],h[1]=n[3],h[2]=n[6],h[3]=n[1],h[4]=n[4],h[5]=n[7],h[6]=n[2],h[7]=n[5],h[8]=n[8];return h},xt:function(h,n){var t=n[0],y=
n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=n[6],O=n[7];n=n[8];var S=n*F-I*O,T=-n*C+I*L,X=O*C-F*L,W=t*S+y*T+B*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-n*y+B*O)*W;h[2]=(I*y-B*F)*W;h[3]=T*W;h[4]=(n*t-B*L)*W;h[5]=(-I*t+B*C)*W;h[6]=X*W;h[7]=(-O*t+y*L)*W;h[8]=(F*t-y*C)*W;return h},JV:function(h,n){var t=n[0],y=n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=n[6],O=n[7];n=n[8];h[0]=F*n-I*O;h[1]=B*O-y*n;h[2]=y*I-B*F;h[3]=I*L-C*n;h[4]=t*n-B*L;h[5]=B*C-t*I;h[6]=C*O-F*L;h[7]=y*L-t*O;h[8]=t*F-y*C;return h},iL:function(h){var n=
h[3],t=h[4],y=h[5],B=h[6],C=h[7],F=h[8];return h[0]*(F*t-y*C)+h[1]*(-F*n+y*B)+h[2]*(C*n-t*B)},multiply:k,translate:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7];n=n[8];var T=t[0];t=t[1];h[0]=y;h[1]=B;h[2]=C;h[3]=F;h[4]=I;h[5]=L;h[6]=T*y+t*F+O;h[7]=T*B+t*I+S;h[8]=T*C+t*L+n;return h},rotate:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7];n=n[8];var T=Math.sin(t);t=Math.cos(t);h[0]=t*y+T*F;h[1]=t*B+T*I;h[2]=t*C+T*L;h[3]=t*F-T*y;h[4]=t*I-T*B;h[5]=
t*L-T*C;h[6]=O;h[7]=S;h[8]=n;return h},scale:function(h,n,t){var y=t[0];t=t[1];h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=t*n[3];h[4]=t*n[4];h[5]=t*n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},nL:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=n[0];h[7]=n[1];h[8]=1;return h},rD:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=t;h[2]=0;h[3]=-t;h[4]=n;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},mL:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=n[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
Dsa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=0;h[3]=n[2];h[4]=n[3];h[5]=0;h[6]=n[4];h[7]=n[5];h[8]=1;return h},mfa:function(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=t+t,F=y+y,I=B+B;t*=C;var L=y*C;y*=F;var O=B*C,S=B*F;B*=I;C*=n;F*=n;n*=I;h[0]=1-y-B;h[3]=L-n;h[6]=O+F;h[1]=L+n;h[4]=1-t-B;h[7]=S-C;h[2]=O-F;h[5]=S+C;h[8]=1-t-y;return h},Ota:function(h,n){var t=n[0],y=n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=n[6],O=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=t*I-y*F,pa=t*L-B*
F,sa=t*O-C*F,ta=y*L-B*I,ra=y*O-C*I,Da=B*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*n-W*fa;var Ga=T*aa-X*da;T=T*n-W*da;X=X*n-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(I*X-L*T+O*Ga)*W;h[1]=(L*S-F*X-O*Fa)*W;h[2]=(F*T-I*S+O*Ea)*W;h[3]=(B*T-y*X-C*Ga)*W;h[4]=(t*X-B*S+C*Fa)*W;h[5]=(y*S-t*T-C*Ea)*W;h[6]=(da*Da-aa*ra+n*ta)*W;h[7]=(aa*sa-fa*Da-n*pa)*W;h[8]=(fa*ra-da*sa+n*ua)*W;return h},uW:function(h,n,t){h[0]=2/n;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/t;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},Gm:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},lL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];h[4]=n[4]+t[4];h[5]=n[5]+t[5];h[6]=n[6]+t[6];h[7]=n[7]+t[7];h[8]=n[8]+t[8];return h},Hm:g,yL:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;h[4]=n[4]*t;h[5]=n[5]*t;h[6]=n[6]*t;h[7]=n[7]*t;h[8]=n[8]*t;return h},zL:function(h,n,t,y){h[0]=
n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;h[3]=n[3]+t[3]*y;h[4]=n[4]+t[4]*y;h[5]=n[5]+t[5]*y;h[6]=n[6]+t[6]*y;h[7]=n[7]+t[7]*y;h[8]=n[8]+t[8]*y;return h},Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]},Yc:function(h,n){var t=h[0],y=h[1],B=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7];h=h[8];var S=n[0],T=n[1],X=n[2],W=n[3],fa=n[4],da=n[5],aa=n[6],ua=n[7];n=n[8];return Math.abs(t-S)<=1E-6*Math.max(1,Math.abs(t),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(B-X)<=1E-6*Math.max(1,Math.abs(B),Math.abs(X))&&Math.abs(C-W)<=1E-6*Math.max(1,Math.abs(C),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(I-da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(da))&&Math.abs(L-aa)<=1E-6*Math.max(1,Math.abs(L),Math.abs(aa))&&Math.abs(O-ua)<=1E-6*Math.max(1,Math.abs(O),Math.abs(ua))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},yo:k,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var n=new qa(16);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];n[9]=h[9];n[10]=h[10];n[11]=h[11];n[12]=h[12];n[13]=h[13];n[14]=h[14];n[15]=h[15];return n},pa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=
n[8];h[9]=n[9];h[10]=n[10];h[11]=n[11];h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},Of:function(h,n,t,y,B,C,F,I,L,O,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=n;aa[2]=t;aa[3]=y;aa[4]=B;aa[5]=C;aa[6]=F;aa[7]=I;aa[8]=L;aa[9]=O;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,n,t,y,B,C,F,I,L,O,S,T,X,W,fa,da,aa){h[0]=n;h[1]=t;h[2]=y;h[3]=B;h[4]=C;h[5]=F;h[6]=I;h[7]=L;h[8]=O;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},Jx:l,GW:function(h,
n){if(h===n){var t=n[1],y=n[2],B=n[3],C=n[6],F=n[7],I=n[11];h[1]=n[4];h[2]=n[8];h[3]=n[12];h[4]=t;h[6]=n[9];h[7]=n[13];h[8]=y;h[9]=C;h[11]=n[14];h[12]=B;h[13]=F;h[14]=I}else h[0]=n[0],h[1]=n[4],h[2]=n[8],h[3]=n[12],h[4]=n[1],h[5]=n[5],h[6]=n[9],h[7]=n[13],h[8]=n[2],h[9]=n[6],h[10]=n[10],h[11]=n[14],h[12]=n[3],h[13]=n[7],h[14]=n[11],h[15]=n[15];return h},xt:function(h,n){var t=n[0],y=n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=n[6],O=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=
t*I-y*F,pa=t*L-B*F,sa=t*O-C*F,ta=y*L-B*I,ra=y*O-C*I,Da=B*O-C*L,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*n-W*fa,Ia=T*aa-X*da,Qa=T*n-W*da,Ra=X*n-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(I*Ra-L*Qa+O*Ia)*Aa;h[1]=(B*Qa-y*Ra-C*Ia)*Aa;h[2]=(da*Da-aa*ra+n*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(L*Ga-F*Ra-O*Fa)*Aa;h[5]=(t*Ra-B*Ga+C*Fa)*Aa;h[6]=(aa*sa-fa*Da-n*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-I*Ga+O*Ea)*Aa;h[9]=(y*Ga-t*Qa-C*Ea)*Aa;h[10]=(fa*ra-da*sa+n*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(I*Fa-F*Ia-L*Ea)*Aa;h[13]=(t*Ia-y*Fa+B*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},JV:function(h,n){var t=n[0],y=n[1],B=n[2],C=n[3],F=n[4],I=n[5],L=n[6],O=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];h[0]=I*(X*n-W*aa)-T*(L*n-O*aa)+da*(L*W-O*X);h[1]=-(y*(X*n-W*aa)-T*(B*n-C*aa)+da*(B*W-C*X));h[2]=y*(L*n-O*aa)-I*(B*n-C*aa)+da*(B*O-C*L);h[3]=-(y*(L*W-O*X)-I*(B*W-C*X)+T*(B*O-C*L));h[4]=-(F*(X*n-W*aa)-S*(L*n-O*aa)+fa*(L*W-O*X));h[5]=t*
(X*n-W*aa)-S*(B*n-C*aa)+fa*(B*W-C*X);h[6]=-(t*(L*n-O*aa)-F*(B*n-C*aa)+fa*(B*O-C*L));h[7]=t*(L*W-O*X)-F*(B*W-C*X)+S*(B*O-C*L);h[8]=F*(T*n-W*da)-S*(I*n-O*da)+fa*(I*W-O*T);h[9]=-(t*(T*n-W*da)-S*(y*n-C*da)+fa*(y*W-C*T));h[10]=t*(I*n-O*da)-F*(y*n-C*da)+fa*(y*O-C*I);h[11]=-(t*(I*W-O*T)-F*(y*W-C*T)+S*(y*O-C*I));h[12]=-(F*(T*aa-X*da)-S*(I*aa-L*da)+fa*(I*X-L*T));h[13]=t*(T*aa-X*da)-S*(y*aa-B*da)+fa*(y*X-B*T);h[14]=-(t*(I*aa-L*da)-F*(y*aa-B*da)+fa*(y*L-B*I));h[15]=t*(I*X-L*T)-F*(y*X-B*T)+S*(y*L-B*I);return h},
iL:function(h){var n=h[0],t=h[1],y=h[2],B=h[3],C=h[4],F=h[5],I=h[6],L=h[7],O=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(n*F-t*C)*(T*h-X*da)-(n*I-y*C)*(S*h-X*fa)+(n*L-B*C)*(S*da-T*fa)+(t*I-y*F)*(O*h-X*W)-(t*L-B*F)*(O*da-T*W)+(y*L-B*I)*(O*fa-S*W)},multiply:p,translate:function(h,n,t){var y=t[0],B=t[1];t=t[2];if(n===h)h[12]=n[0]*y+n[4]*B+n[8]*t+n[12],h[13]=n[1]*y+n[5]*B+n[9]*t+n[13],h[14]=n[2]*y+n[6]*B+n[10]*t+n[14],h[15]=n[3]*y+n[7]*B+n[11]*t+n[15];else{var C=n[0];var F=n[1];
var I=n[2];var L=n[3];var O=n[4];var S=n[5];var T=n[6];var X=n[7];var W=n[8];var fa=n[9];var da=n[10];var aa=n[11];h[0]=C;h[1]=F;h[2]=I;h[3]=L;h[4]=O;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=C*y+O*B+W*t+n[12];h[13]=F*y+S*B+fa*t+n[13];h[14]=I*y+T*B+da*t+n[14];h[15]=L*y+X*B+aa*t+n[15]}return h},scale:function(h,n,t){var y=t[0],B=t[1];t=t[2];h[0]=n[0]*y;h[1]=n[1]*y;h[2]=n[2]*y;h[3]=n[3]*y;h[4]=n[4]*B;h[5]=n[5]*B;h[6]=n[6]*B;h[7]=n[7]*B;h[8]=n[8]*t;h[9]=n[9]*t;h[10]=n[10]*t;h[11]=n[11]*
t;h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},rotate:function(h,n,t,y){var B=y[0],C=y[1];y=y[2];var F=Math.hypot(B,C,y);if(1E-6>F)return null;F=1/F;B*=F;C*=F;y*=F;var I=Math.sin(t);var L=Math.cos(t);var O=1-L;t=n[0];F=n[1];var S=n[2];var T=n[3];var X=n[4];var W=n[5];var fa=n[6];var da=n[7];var aa=n[8];var ua=n[9];var pa=n[10];var sa=n[11];var ta=B*B*O+L;var ra=C*B*O+y*I;var Da=y*B*O-C*I;var Ea=B*C*O-y*I;var Fa=C*C*O+L;var Ga=y*C*O+B*I;var Ia=B*y*O+C*I;B=C*y*O-B*I;C=y*y*O+L;h[0]=t*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=t*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=t*Ia+X*B+aa*C;h[9]=F*Ia+W*B+ua*C;h[10]=S*Ia+fa*B+pa*C;h[11]=T*Ia+da*B+sa*C;n!==h&&(h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);return h},NL:function(h,n,t){var y=Math.sin(t);t=Math.cos(t);var B=n[4],C=n[5],F=n[6],I=n[7],L=n[8],O=n[9],S=n[10],T=n[11];n!==h&&(h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3],h[12]=n[12],h[13]=n[13],h[14]=n[14],
h[15]=n[15]);h[4]=B*t+L*y;h[5]=C*t+O*y;h[6]=F*t+S*y;h[7]=I*t+T*y;h[8]=L*t-B*y;h[9]=O*t-C*y;h[10]=S*t-F*y;h[11]=T*t-I*y;return h},OL:function(h,n,t){var y=Math.sin(t);t=Math.cos(t);var B=n[0],C=n[1],F=n[2],I=n[3],L=n[8],O=n[9],S=n[10],T=n[11];n!==h&&(h[4]=n[4],h[5]=n[5],h[6]=n[6],h[7]=n[7],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=B*t-L*y;h[1]=C*t-O*y;h[2]=F*t-S*y;h[3]=I*t-T*y;h[8]=B*y+L*t;h[9]=C*y+O*t;h[10]=F*y+S*t;h[11]=I*y+T*t;return h},PL:function(h,n,t){var y=Math.sin(t);t=Math.cos(t);
var B=n[0],C=n[1],F=n[2],I=n[3],L=n[4],O=n[5],S=n[6],T=n[7];n!==h&&(h[8]=n[8],h[9]=n[9],h[10]=n[10],h[11]=n[11],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=B*t+L*y;h[1]=C*t+O*y;h[2]=F*t+S*y;h[3]=I*t+T*y;h[4]=L*t-B*y;h[5]=O*t-C*y;h[6]=S*t-F*y;h[7]=T*t-I*y;return h},nL:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=n[0];h[13]=n[1];h[14]=n[2];h[15]=1;return h},mL:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=n[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},rD:function(h,n,t){var y=t[0],B=t[1];t=t[2];var C=Math.hypot(y,B,t);if(1E-6>C)return null;C=1/C;y*=C;B*=C;t*=C;C=Math.sin(n);n=Math.cos(n);var F=1-n;h[0]=y*y*F+n;h[1]=B*y*F+t*C;h[2]=t*y*F-B*C;h[3]=0;h[4]=y*B*F-t*C;h[5]=B*B*F+n;h[6]=t*B*F+y*C;h[7]=0;h[8]=y*t*F+B*C;h[9]=B*t*F-y*C;h[10]=t*t*F+n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Jsa:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=n;h[6]=t;h[7]=0;h[8]=0;h[9]=-t;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Ksa:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=0;h[2]=-t;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=t;h[9]=0;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Lsa:function(h,n){var t=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=t;h[2]=0;h[3]=0;h[4]=-t;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},nfa:r,Fsa:function(h,n){var t=new qa(3),
y=-n[0],B=-n[1],C=-n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7],T=y*y+B*B+C*C+F*F;0<T?(t[0]=2*(I*F+S*y+L*C-O*B)/T,t[1]=2*(L*F+S*B+O*y-I*C)/T,t[2]=2*(O*F+S*C+I*B-L*y)/T):(t[0]=2*(I*F+S*y+L*C-O*B),t[1]=2*(L*F+S*B+O*y-I*C),t[2]=2*(O*F+S*C+I*B-L*y));r(h,n,t);return h},qfa:v,Wsa:q,Vsa:x,Gsa:function(h,n,t,y){var B=n[0],C=n[1],F=n[2],I=n[3],L=B+B,O=C+C,S=F+F;n=B*L;var T=B*O;B*=S;var X=C*O;C*=S;F*=S;L*=I;O*=I;I*=S;S=y[0];var W=y[1];y=y[2];h[0]=(1-(X+F))*S;h[1]=(T+I)*S;h[2]=(B-O)*S;h[3]=0;h[4]=(T-I)*W;h[5]=(1-
(n+F))*W;h[6]=(C+L)*W;h[7]=0;h[8]=(B+O)*y;h[9]=(C-L)*y;h[10]=(1-(n+X))*y;h[11]=0;h[12]=t[0];h[13]=t[1];h[14]=t[2];h[15]=1;return h},Hsa:function(h,n,t,y,B){var C=n[0],F=n[1],I=n[2],L=n[3],O=C+C,S=F+F,T=I+I;n=C*O;var X=C*S,W=C*T;C=F*S;F*=T;var fa=I*T;I=L*O;S*=L;var da=L*T,aa=y[0],ua=y[1];T=y[2];y=B[0];L=B[1];B=B[2];O=(1-(C+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(n+fa))*ua;ua*=F+I;W=(W+S)*T;F=(F-I)*T;n=(1-(n+C))*T;h[0]=O;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=n;h[11]=0;h[12]=t[0]+y-(O*y+X*L+W*B);h[13]=t[1]+L-(pa*y+fa*L+F*B);h[14]=t[2]+B-(aa*y+ua*L+n*B);h[15]=1;return h},mfa:function(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=t+t,F=y+y,I=B+B;t*=C;var L=y*C;y*=F;var O=B*C,S=B*F;B*=I;C*=n;F*=n;n*=I;h[0]=1-y-B;h[1]=L+n;h[2]=O-F;h[3]=0;h[4]=L-n;h[5]=1-t-B;h[6]=S+C;h[7]=0;h[8]=O+F;h[9]=S-C;h[10]=1-t-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},ofa:function(h,n,t,y,B,C,F){var I=1/(t-n),L=1/(B-y),O=1/(C-F);h[0]=2*C*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*C*L;h[6]=0;h[7]=0;h[8]=(t+n)*I;h[9]=(B+y)*L;h[10]=(F+C)*O;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*C*2*O;h[15]=0;return h},perspective:function(h,n,t,y,B){n=1/Math.tan(n/2);h[0]=n/t;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=B&&Infinity!==B?(t=1/(y-B),h[10]=(B+y)*t,h[14]=2*B*y*t):(h[10]=-1,h[14]=-2*y);return h},Vta:function(h,n,t,y){var B=Math.tan(n.Xua*Math.PI/180),C=Math.tan(n.qsa*Math.PI/180),F=Math.tan(n.Bta*Math.PI/180);n=Math.tan(n.qua*Math.PI/
180);var I=2/(F+n),L=2/(B+C);h[0]=I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=L;h[6]=0;h[7]=0;h[8]=-((F-n)*I*.5);h[9]=(B-C)*L*.5;h[10]=y/(t-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*t/(t-y);h[15]=0;return h},Yfa:function(h,n,t,y,B,C,F){var I=1/(n-t),L=1/(y-B),O=1/(C-F);h[0]=-2*I;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*L;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*O;h[11]=0;h[12]=(n+t)*I;h[13]=(B+y)*L;h[14]=(F+C)*O;h[15]=1;return h},Ofa:function(h,n,t,y){var B=n[0],C=n[1];n=n[2];var F=y[0];var I=y[1];var L=y[2];var O=t[0];y=
t[1];var S=t[2];if(1E-6>Math.abs(B-O)&&1E-6>Math.abs(C-y)&&1E-6>Math.abs(n-S))return l(h);t=B-O;y=C-y;O=n-S;var T=1/Math.hypot(t,y,O);t*=T;y*=T;O*=T;S=I*O-L*y;L=L*t-F*O;F=F*y-I*t;(T=Math.hypot(S,L,F))?(T=1/T,S*=T,L*=T,F*=T):F=L=S=0;I=y*F-O*L;var X=O*S-t*F;var W=t*L-y*S;(T=Math.hypot(I,X,W))?(T=1/T,I*=T,X*=T,W*=T):W=X=I=0;h[0]=S;h[1]=I;h[2]=t;h[3]=0;h[4]=L;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=W;h[10]=O;h[11]=0;h[12]=-(S*B+L*C+F*n);h[13]=-(I*B+X*C+W*n);h[14]=-(t*B+y*C+O*n);h[15]=1;return h},Nua:function(h,
n,t,y){var B=n[0],C=n[1];n=n[2];var F=y[0],I=y[1],L=y[2];y=B-t[0];var O=C-t[1];t=n-t[2];var S=y*y+O*O+t*t;0<S&&(S=1/Math.sqrt(S),y*=S,O*=S,t*=S);var T=I*t-L*O;L=L*y-F*t;F=F*O-I*y;S=T*T+L*L+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,L*=S,F*=S);h[0]=T;h[1]=L;h[2]=F;h[3]=0;h[4]=O*F-t*L;h[5]=t*T-y*F;h[6]=y*L-O*T;h[7]=0;h[8]=y;h[9]=O;h[10]=t;h[11]=0;h[12]=B;h[13]=C;h[14]=n;h[15]=1;return h},Gm:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},lL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];h[4]=n[4]+t[4];h[5]=n[5]+t[5];h[6]=n[6]+t[6];h[7]=n[7]+t[7];h[8]=n[8]+t[8];h[9]=n[9]+t[9];h[10]=n[10]+t[10];h[11]=n[11]+t[11];h[12]=n[12]+t[12];h[13]=n[13]+t[13];h[14]=n[14]+t[14];h[15]=n[15]+t[15];return h},Hm:u,yL:function(h,n,
t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;h[4]=n[4]*t;h[5]=n[5]*t;h[6]=n[6]*t;h[7]=n[7]*t;h[8]=n[8]*t;h[9]=n[9]*t;h[10]=n[10]*t;h[11]=n[11]*t;h[12]=n[12]*t;h[13]=n[13]*t;h[14]=n[14]*t;h[15]=n[15]*t;return h},zL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;h[3]=n[3]+t[3]*y;h[4]=n[4]+t[4]*y;h[5]=n[5]+t[5]*y;h[6]=n[6]+t[6]*y;h[7]=n[7]+t[7]*y;h[8]=n[8]+t[8]*y;h[9]=n[9]+t[9]*y;h[10]=n[10]+t[10]*y;h[11]=n[11]+t[11]*y;h[12]=n[12]+t[12]*y;h[13]=n[13]+t[13]*y;h[14]=n[14]+t[14]*
y;h[15]=n[15]+t[15]*y;return h},Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]&&h[9]===n[9]&&h[10]===n[10]&&h[11]===n[11]&&h[12]===n[12]&&h[13]===n[13]&&h[14]===n[14]&&h[15]===n[15]},Yc:function(h,n){var t=h[0],y=h[1],B=h[2],C=h[3],F=h[4],I=h[5],L=h[6],O=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=n[0],pa=n[1],sa=n[2],ta=n[3],ra=n[4],Da=n[5],Ea=n[6],Fa=n[7],Ga=n[8],Ia=n[9],
Qa=n[10],Ra=n[11],Aa=n[12],Jb=n[13],Kb=n[14];n=n[15];return Math.abs(t-ua)<=1E-6*Math.max(1,Math.abs(t),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(B-sa)<=1E-6*Math.max(1,Math.abs(B),Math.abs(sa))&&Math.abs(C-ta)<=1E-6*Math.max(1,Math.abs(C),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(I-Da)<=1E-6*Math.max(1,Math.abs(I),Math.abs(Da))&&Math.abs(L-Ea)<=1E-6*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(O-Fa)<=1E-6*Math.max(1,
Math.abs(O),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},
yo:p,sub:u}),ob=function(){var h=w();return function(n,t,y,B,C,F){t||(t=3);y||(y=0);for(B=B?Math.min(B*t+y,n.length):n.length;y<B;y+=t)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],C(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2];return n}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var n=new qa(3);n[0]=h[0];n[1]=h[1];n[2]=h[2];return n},length:z,Of:A,pa:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];return h},set:function(h,n,t,y){h[0]=n;h[1]=t;h[2]=y;return h},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=
n[1]+t[1];h[2]=n[2]+t[2];return h},Hm:E,multiply:G,Vk:P,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);return h},min:function(h,n,t){h[0]=Math.min(n[0],t[0]);h[1]=Math.min(n[1],t[1]);h[2]=Math.min(n[2],t[2]);return h},max:function(h,n,t){h[0]=Math.max(n[0],t[0]);h[1]=Math.max(n[1],t[1]);h[2]=Math.max(n[2],t[2]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=
Math.round(n[1]);h[2]=Math.round(n[2]);return h},scale:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;return h},QL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;return h},Gx:D,DW:H,HD:J,lW:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];return h},normalize:M,uo:Q,hL:R,td:function(h,n,t,y){var B=n[0],C=n[1];n=n[2];h[0]=B+y*(t[0]-B);h[1]=C+y*(t[1]-C);h[2]=n+y*(t[2]-n);return h},ata:function(h,n,t,y,B,C){var F=
C*C,I=F*(2*C-3)+1,L=F*(C-2)+C,O=F*(C-1);C=F*(3-2*C);h[0]=n[0]*I+t[0]*L+y[0]*O+B[0]*C;h[1]=n[1]*I+t[1]*L+y[1]*O+B[1]*C;h[2]=n[2]*I+t[2]*L+y[2]*O+B[2]*C;return h},Zra:function(h,n,t,y,B,C){var F=1-C,I=F*F,L=C*C,O=I*F;I*=3*C;F*=3*L;C*=L;h[0]=n[0]*O+t[0]*I+y[0]*F+B[0]*C;h[1]=n[1]*O+t[1]*I+y[1]*F+B[1]*C;h[2]=n[2]*O+t[2]*I+y[2]*F+B[2]*C;return h},random:function(h,n){n=n||1;var t=2*Ka()*Math.PI,y=2*Ka()-1,B=Math.sqrt(1-y*y)*n;h[0]=Math.cos(t)*B;h[1]=Math.sin(t)*B;h[2]=y*n;return h},$L:function(h,n,t){var y=
n[0],B=n[1];n=n[2];var C=t[3]*y+t[7]*B+t[11]*n+t[15];C=C||1;h[0]=(t[0]*y+t[4]*B+t[8]*n+t[12])/C;h[1]=(t[1]*y+t[5]*B+t[9]*n+t[13])/C;h[2]=(t[2]*y+t[6]*B+t[10]*n+t[14])/C;return h},wga:function(h,n,t){var y=n[0],B=n[1];n=n[2];h[0]=y*t[0]+B*t[3]+n*t[6];h[1]=y*t[1]+B*t[4]+n*t[7];h[2]=y*t[2]+B*t[5]+n*t[8];return h},xga:function(h,n,t){var y=t[0],B=t[1],C=t[2],F=n[0],I=n[1];n=n[2];var L=B*n-C*I,O=C*F-y*n,S=y*I-B*F;t=2*t[3];h[0]=F+L*t+2*(B*S-C*O);h[1]=I+O*t+2*(C*L-y*S);h[2]=n+S*t+2*(y*O-B*L);return h},NL:function(h,
n,t,y){var B=[],C=[];B[0]=n[0]-t[0];B[1]=n[1]-t[1];B[2]=n[2]-t[2];C[0]=B[0];C[1]=B[1]*Math.cos(y)-B[2]*Math.sin(y);C[2]=B[1]*Math.sin(y)+B[2]*Math.cos(y);h[0]=C[0]+t[0];h[1]=C[1]+t[1];h[2]=C[2]+t[2];return h},OL:function(h,n,t,y){var B=[],C=[];B[0]=n[0]-t[0];B[1]=n[1]-t[1];B[2]=n[2]-t[2];C[0]=B[2]*Math.sin(y)+B[0]*Math.cos(y);C[1]=B[1];C[2]=B[2]*Math.cos(y)-B[0]*Math.sin(y);h[0]=C[0]+t[0];h[1]=C[1]+t[1];h[2]=C[2]+t[2];return h},PL:function(h,n,t,y){var B=[],C=[];B[0]=n[0]-t[0];B[1]=n[1]-t[1];B[2]=
n[2]-t[2];C[0]=B[0]*Math.cos(y)-B[1]*Math.sin(y);C[1]=B[0]*Math.sin(y)+B[1]*Math.cos(y);C[2]=B[2];h[0]=C[0]+t[0];h[1]=C[1]+t[1];h[2]=C[2]+t[2];return h},angle:function(h,n){var t=h[0],y=h[1],B=h[2],C=n[0],F=n[1],I=n[2];h=(t=Math.sqrt(t*t+y*y+B*B)*Math.sqrt(C*C+F*F+I*I))&&Q(h,n)/t;return Math.acos(Math.min(Math.max(h,-1),1))},PW:function(h){h[0]=0;h[1]=0;h[2]=0;return h},Gm:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]},Yc:function(h,
n){var t=h[0],y=h[1];h=h[2];var B=n[0],C=n[1];n=n[2];return Math.abs(t-B)<=1E-6*Math.max(1,Math.abs(t),Math.abs(B))&&Math.abs(y-C)<=1E-6*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},sub:E,yo:G,XV:P,VV:D,BW:H,Mx:z,GD:J,forEach:ob});var pb=function(){var h=V();return function(n,t,y,B,C,F){t||(t=4);y||(y=0);for(B=B?Math.min(B*t+y,n.length):n.length;y<B;y+=t)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],h[3]=n[y+3],C(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2],n[y+3]=
h[3];return n}}();pb=Object.freeze({__proto__:null,create:V,clone:Z,Of:ca,pa:Y,set:ha,add:ka,Hm:za,multiply:Oa,Vk:ab,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);h[3]=Math.ceil(n[3]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);h[3]=Math.floor(n[3]);return h},min:function(h,n,t){h[0]=Math.min(n[0],t[0]);h[1]=Math.min(n[1],t[1]);h[2]=Math.min(n[2],t[2]);h[3]=Math.min(n[3],t[3]);return h},max:function(h,n,t){h[0]=
Math.max(n[0],t[0]);h[1]=Math.max(n[1],t[1]);h[2]=Math.max(n[2],t[2]);h[3]=Math.max(n[3],t[3]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);h[2]=Math.round(n[2]);h[3]=Math.round(n[3]);return h},scale:Ua,QL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;h[2]=n[2]+t[2]*y;h[3]=n[3]+t[3]*y;return h},Gx:bb,DW:mb,length:Va,HD:Pa,lW:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=-n[3];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];h[3]=1/n[3];return h},
normalize:fb,uo:cb,hL:function(h,n,t,y){var B=t[0]*y[1]-t[1]*y[0],C=t[0]*y[2]-t[2]*y[0],F=t[0]*y[3]-t[3]*y[0],I=t[1]*y[2]-t[2]*y[1],L=t[1]*y[3]-t[3]*y[1];t=t[2]*y[3]-t[3]*y[2];y=n[0];var O=n[1],S=n[2];n=n[3];h[0]=O*t-S*L+n*I;h[1]=-(y*t)+S*F-n*C;h[2]=y*L-O*F+n*B;h[3]=-(y*I)+O*C-S*B;return h},td:ub,random:function(h,n){n=n||1;do{var t=2*Ka()-1;var y=2*Ka()-1;var B=t*t+y*y}while(1<=B);do{var C=2*Ka()-1;var F=2*Ka()-1;var I=C*C+F*F}while(1<=I);B=Math.sqrt((1-B)/I);h[0]=n*t;h[1]=n*y;h[2]=n*C*B;h[3]=n*
F*B;return h},$L:function(h,n,t){var y=n[0],B=n[1],C=n[2];n=n[3];h[0]=t[0]*y+t[4]*B+t[8]*C+t[12]*n;h[1]=t[1]*y+t[5]*B+t[9]*C+t[13]*n;h[2]=t[2]*y+t[6]*B+t[10]*C+t[14]*n;h[3]=t[3]*y+t[7]*B+t[11]*C+t[15]*n;return h},xga:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=t[0],I=t[1],L=t[2];t=t[3];var O=t*y+I*C-L*B,S=t*B+L*y-F*C,T=t*C+F*B-I*y;y=-F*y-I*B-L*C;h[0]=O*t+y*-F+S*-L-T*-I;h[1]=S*t+y*-I+T*-F-O*-L;h[2]=T*t+y*-L+O*-I-S*-F;h[3]=n[3];return h},PW:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},Gm:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Kj:vb,Yc:wb,sub:za,yo:Oa,XV:ab,VV:bb,BW:mb,Mx:Va,GD:Pa,forEach:pb});var qb=function(){var h=w(),n=A(1,0,0),t=A(0,1,0);return function(y,B,C){var F=Q(B,C);if(-.999999>F)return R(h,n,B),1E-6>z(h)&&R(h,t,B),M(h,h),xb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(h,B,C);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var h=gb(),n=gb();return function(t,y,B,C,F,I){hb(h,y,F,I);hb(n,B,C,I);hb(t,h,n,2*I*(1-I));return t}}(),
db=function(){var h=f();return function(n,t,y,B){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=B[0];h[4]=B[1];h[7]=B[2];h[2]=-t[0];h[5]=-t[1];h[8]=-t[2];return fb(n,Eb(n,h))}}();qb=Object.freeze({__proto__:null,create:gb,Jx:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},Eua:xb,Ssa:function(h,n){var t=2*Math.acos(n[3]),y=Math.sin(t/2);1E-6<y?(h[0]=n[0]/y,h[1]=n[1]/y,h[2]=n[2]/y):(h[0]=1,h[1]=0,h[2]=0);return t},Qsa:function(h,n){h=cb(h,n);return Math.acos(2*h*h-1)},multiply:yb,NL:zb,OL:Ab,PL:Bb,$ra:function(h,
n){var t=n[0],y=n[1];n=n[2];h[0]=t;h[1]=y;h[2]=n;h[3]=Math.sqrt(Math.abs(1-t*t-y*y-n*n));return h},exp:Cb,Nfa:Db,pow:function(h,n,t){Db(h,n);Ua(h,h,t);Cb(h,h);return h},Jua:hb,random:function(h){var n=Ka(),t=Ka(),y=Ka(),B=Math.sqrt(1-n);n=Math.sqrt(n);h[0]=B*Math.sin(2*Math.PI*t);h[1]=B*Math.cos(2*Math.PI*t);h[2]=n*Math.sin(2*Math.PI*y);h[3]=n*Math.cos(2*Math.PI*y);return h},xt:function(h,n){var t=n[0],y=n[1],B=n[2];n=n[3];var C=t*t+y*y+B*B+n*n;C=C?1/C:0;h[0]=-t*C;h[1]=-y*C;h[2]=-B*C;h[3]=n*C;return h},
Xea:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];return h},Esa:Eb,Csa:function(h,n,t,y){var B=.5*Math.PI/180;n*=B;t*=B;y*=B;B=Math.sin(n);n=Math.cos(n);var C=Math.sin(t);t=Math.cos(t);var F=Math.sin(y);y=Math.cos(y);h[0]=B*t*y-n*C*F;h[1]=n*C*y+B*t*F;h[2]=n*t*F-B*C*y;h[3]=n*t*y+B*C*F;return h},Gm:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,Of:ca,pa:Y,set:ha,add:ka,yo:yb,scale:Ua,uo:cb,td:ub,length:Va,Mx:Va,HD:Pa,GD:Pa,normalize:fb,Kj:vb,Yc:wb,uua:qb,Kua:rb,
Dua:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var n=new qa(8);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];return n},Of:function(h,n,t,y,B,C,F,I){var L=new qa(8);L[0]=h;L[1]=n;L[2]=t;L[3]=y;L[4]=B;L[5]=C;L[6]=F;L[7]=I;return L},Isa:function(h,n,t,y,B,C,F){var I=new qa(8);I[0]=h;I[1]=n;I[2]=t;I[3]=y;B*=.5;C*=.5;F*=.5;I[4]=B*y+C*t-F*
n;I[5]=C*y+F*h-B*t;I[6]=F*y+B*n-C*h;I[7]=-B*h-C*n-F*t;return I},nfa:Fb,nL:function(h,n){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*n[0];h[5]=.5*n[1];h[6]=.5*n[2];h[7]=0;return h},rD:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},lfa:function(h,n){var t=gb();x(t,n);var y=new qa(3);v(y,n);Fb(h,t,y);return h},pa:Gb,Jx:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,n,t,y,B,C,F,I,L){h[0]=n;h[1]=t;h[2]=y;h[3]=B;h[4]=C;h[5]=
F;h[6]=I;h[7]=L;return h},Usa:Y,Tsa:function(h,n){h[0]=n[4];h[1]=n[5];h[2]=n[6];h[3]=n[7];return h},Hua:Y,Fua:function(h,n){h[4]=n[0];h[5]=n[1];h[6]=n[2];h[7]=n[3];return h},qfa:function(h,n){var t=n[4],y=n[5],B=n[6],C=n[7],F=-n[0],I=-n[1],L=-n[2];n=n[3];h[0]=2*(t*n+C*F+y*L-B*I);h[1]=2*(y*n+C*I+B*F-t*L);h[2]=2*(B*n+C*L+t*I-y*F);return h},translate:function(h,n,t){var y=n[0],B=n[1],C=n[2],F=n[3],I=.5*t[0],L=.5*t[1];t=.5*t[2];var O=n[4],S=n[5],T=n[6];n=n[7];h[0]=y;h[1]=B;h[2]=C;h[3]=F;h[4]=F*I+B*t-
C*L+O;h[5]=F*L+C*I-y*t+S;h[6]=F*t+y*L-B*I+T;h[7]=-y*I-B*L-C*t+n;return h},NL:function(h,n,t){var y=-n[0],B=-n[1],C=-n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7],T=I*F+S*y+L*C-O*B,X=L*F+S*B+O*y-I*C,W=O*F+S*C+I*B-L*y;I=S*F-I*y-L*B-O*C;zb(h,n,t);y=h[0];B=h[1];C=h[2];F=h[3];h[4]=T*F+I*y+X*C-W*B;h[5]=X*F+I*B+W*y-T*C;h[6]=W*F+I*C+T*B-X*y;h[7]=I*F-T*y-X*B-W*C;return h},OL:function(h,n,t){var y=-n[0],B=-n[1],C=-n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7],T=I*F+S*y+L*C-O*B,X=L*F+S*B+O*y-I*C,W=O*F+S*C+I*B-L*y;I=S*F-
I*y-L*B-O*C;Ab(h,n,t);y=h[0];B=h[1];C=h[2];F=h[3];h[4]=T*F+I*y+X*C-W*B;h[5]=X*F+I*B+W*y-T*C;h[6]=W*F+I*C+T*B-X*y;h[7]=I*F-T*y-X*B-W*C;return h},PL:function(h,n,t){var y=-n[0],B=-n[1],C=-n[2],F=n[3],I=n[4],L=n[5],O=n[6],S=n[7],T=I*F+S*y+L*C-O*B,X=L*F+S*B+O*y-I*C,W=O*F+S*C+I*B-L*y;I=S*F-I*y-L*B-O*C;Bb(h,n,t);y=h[0];B=h[1];C=h[2];F=h[3];h[4]=T*F+I*y+X*C-W*B;h[5]=X*F+I*B+W*y-T*C;h[6]=W*F+I*C+T*B-X*y;h[7]=I*F-T*y-X*B-W*C;return h},sua:function(h,n,t){var y=t[0],B=t[1],C=t[2];t=t[3];var F=n[0],I=n[1],L=
n[2],O=n[3];h[0]=F*t+O*y+I*C-L*B;h[1]=I*t+O*B+L*y-F*C;h[2]=L*t+O*C+F*B-I*y;h[3]=O*t-F*y-I*B-L*C;F=n[4];I=n[5];L=n[6];O=n[7];h[4]=F*t+O*y+I*C-L*B;h[5]=I*t+O*B+L*y-F*C;h[6]=L*t+O*C+F*B-I*y;h[7]=O*t-F*y-I*B-L*C;return h},tua:function(h,n,t){var y=n[0],B=n[1],C=n[2];n=n[3];var F=t[0],I=t[1],L=t[2],O=t[3];h[0]=y*O+n*F+B*L-C*I;h[1]=B*O+n*I+C*F-y*L;h[2]=C*O+n*L+y*I-B*F;h[3]=n*O-y*F-B*I-C*L;F=t[4];I=t[5];L=t[6];O=t[7];h[4]=y*O+n*F+B*L-C*I;h[5]=B*O+n*I+C*F-y*L;h[6]=C*O+n*L+y*I-B*F;h[7]=n*O-y*F-B*I-C*L;return h},
rua:function(h,n,t,y){if(1E-6>Math.abs(y))return Gb(h,n);var B=Math.hypot(t[0],t[1],t[2]);y*=.5;var C=Math.sin(y),F=C*t[0]/B,I=C*t[1]/B;t=C*t[2]/B;y=Math.cos(y);B=n[0];C=n[1];var L=n[2],O=n[3];h[0]=B*y+O*F+C*t-L*I;h[1]=C*y+O*I+L*F-B*t;h[2]=L*y+O*t+B*I-C*F;h[3]=O*y-B*F-C*I-L*t;B=n[4];C=n[5];L=n[6];n=n[7];h[4]=B*y+n*F+C*t-L*I;h[5]=C*y+n*I+L*F-B*t;h[6]=L*y+n*t+B*I-C*F;h[7]=n*y-B*F-C*I-L*t;return h},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];h[2]=n[2]+t[2];h[3]=n[3]+t[3];h[4]=n[4]+t[4];h[5]=n[5]+
t[5];h[6]=n[6]+t[6];h[7]=n[7]+t[7];return h},multiply:Hb,yo:Hb,scale:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;h[2]=n[2]*t;h[3]=n[3]*t;h[4]=n[4]*t;h[5]=n[5]*t;h[6]=n[6]*t;h[7]=n[7]*t;return h},uo:cb,td:function(h,n,t,y){var B=1-y;0>cb(n,t)&&(y=-y);h[0]=n[0]*B+t[0]*y;h[1]=n[1]*B+t[1]*y;h[2]=n[2]*B+t[2]*y;h[3]=n[3]*B+t[3]*y;h[4]=n[4]*B+t[4]*y;h[5]=n[5]*B+t[5]*y;h[6]=n[6]*B+t[6]*y;h[7]=n[7]*B+t[7]*y;return h},xt:function(h,n){var t=Pa(n);h[0]=-n[0]/t;h[1]=-n[1]/t;h[2]=-n[2]/t;h[3]=n[3]/t;h[4]=-n[4]/t;
h[5]=-n[5]/t;h[6]=-n[6]/t;h[7]=n[7]/t;return h},Xea:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];h[4]=-n[4];h[5]=-n[5];h[6]=-n[6];h[7]=n[7];return h},length:Va,Mx:Va,HD:Pa,GD:Pa,normalize:function(h,n){var t=Pa(n);if(0<t){t=Math.sqrt(t);var y=n[0]/t,B=n[1]/t,C=n[2]/t,F=n[3]/t,I=n[4],L=n[5],O=n[6];n=n[7];var S=y*I+B*L+C*O+F*n;h[0]=y;h[1]=B;h[2]=C;h[3]=F;h[4]=(I-y*S)/t;h[5]=(L-B*S)/t;h[6]=(O-C*S)/t;h[7]=(n-F*S)/t}return h},Gm:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]},Yc:function(h,n){var t=h[0],y=h[1],B=h[2],C=h[3],F=h[4],I=h[5],L=h[6];h=h[7];var O=n[0],S=n[1],T=n[2],X=n[3],W=n[4],fa=n[5],da=n[6];n=n[7];return Math.abs(t-O)<=1E-6*Math.max(1,Math.abs(t),Math.abs(O))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(B-T)<=1E-6*Math.max(1,Math.abs(B),Math.abs(T))&&Math.abs(C-
X)<=1E-6*Math.max(1,Math.abs(C),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(I-fa)<=1E-6*Math.max(1,Math.abs(I),Math.abs(fa))&&Math.abs(L-da)<=1E-6*Math.max(1,Math.abs(L),Math.abs(da))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}});db=function(){var h=ib();return function(n,t,y,B,C,F){t||(t=2);y||(y=0);for(B=B?Math.min(B*t+y,n.length):n.length;y<B;y+=t)h[0]=n[y],h[1]=n[y+1],C(h,h,F),n[y]=h[0],n[y+1]=h[1];return n}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var n=new qa(2);n[0]=h[0];n[1]=h[1];return n},Of:function(h,n){var t=new qa(2);t[0]=h;t[1]=n;return t},pa:function(h,n){h[0]=n[0];h[1]=n[1];return h},set:function(h,n,t){h[0]=n;h[1]=t;return h},add:function(h,n,t){h[0]=n[0]+t[0];h[1]=n[1]+t[1];return h},Hm:Sa,multiply:jb,Vk:kb,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);return h},min:function(h,n,t){h[0]=Math.min(n[0],t[0]);h[1]=
Math.min(n[1],t[1]);return h},max:function(h,n,t){h[0]=Math.max(n[0],t[0]);h[1]=Math.max(n[1],t[1]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);return h},scale:function(h,n,t){h[0]=n[0]*t;h[1]=n[1]*t;return h},QL:function(h,n,t,y){h[0]=n[0]+t[0]*y;h[1]=n[1]+t[1]*y;return h},Gx:Wa,DW:lb,length:Ma,HD:nb,lW:function(h,n){h[0]=-n[0];h[1]=-n[1];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];return h},normalize:function(h,n){var t=n[0],y=n[1];t=t*t+y*y;0<t&&(t=1/Math.sqrt(t));
h[0]=n[0]*t;h[1]=n[1]*t;return h},uo:function(h,n){return h[0]*n[0]+h[1]*n[1]},hL:function(h,n,t){n=n[0]*t[1]-n[1]*t[0];h[0]=h[1]=0;h[2]=n;return h},td:function(h,n,t,y){var B=n[0];n=n[1];h[0]=B+y*(t[0]-B);h[1]=n+y*(t[1]-n);return h},random:function(h,n){n=n||1;var t=2*Ka()*Math.PI;h[0]=Math.cos(t)*n;h[1]=Math.sin(t)*n;return h},Uua:function(h,n,t){var y=n[0];n=n[1];h[0]=t[0]*y+t[2]*n;h[1]=t[1]*y+t[3]*n;return h},Vua:function(h,n,t){var y=n[0];n=n[1];h[0]=t[0]*y+t[2]*n+t[4];h[1]=t[1]*y+t[3]*n+t[5];
return h},wga:function(h,n,t){var y=n[0];n=n[1];h[0]=t[0]*y+t[3]*n+t[6];h[1]=t[1]*y+t[4]*n+t[7];return h},$L:function(h,n,t){var y=n[0];n=n[1];h[0]=t[0]*y+t[4]*n+t[12];h[1]=t[1]*y+t[5]*n+t[13];return h},rotate:function(h,n,t,y){var B=n[0]-t[0];n=n[1]-t[1];var C=Math.sin(y);y=Math.cos(y);h[0]=B*y-n*C+t[0];h[1]=B*C+n*y+t[1];return h},angle:function(h,n){var t=h[0];h=h[1];var y=n[0];n=n[1];var B=Math.sqrt(t*t+h*h)*Math.sqrt(y*y+n*n);return Math.acos(Math.min(Math.max(B&&(t*y+h*n)/B,-1),1))},PW:function(h){h[0]=
0;h[1]=0;return h},Gm:function(h){return"vec2("+h[0]+", "+h[1]+")"},Kj:function(h,n){return h[0]===n[0]&&h[1]===n[1]},Yc:function(h,n){var t=h[0];h=h[1];var y=n[0];n=n[1];return Math.abs(t-y)<=1E-6*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},Mx:Ma,sub:Sa,yo:jb,XV:kb,VV:Wa,BW:lb,GD:nb,forEach:db});d.Xk=Ob;d.Gta=Pb;d.Hta=Qb;d.Ita=Rb;d.xo=Sb;d.bua=qb;d.cua=rb;d.bva=db;d.LD=ob;d.Zx=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.Sra?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.Xk={}));
{"use strict";function d(u,w,z,A){var E=w[0]-u[0];w=w[1]-u[1];var G=A[0]-z[0],P=A[1]-z[1];if(0===G*w-P*E)return!1;A=(E*(z[1]-u[1])+w*(u[0]-z[0]))/(G*w-P*E);u=(G*(u[1]-z[1])+P*(z[0]-u[0]))/(P*E-G*w);return 0<=A&&1>=A&&0<=u&&1>=u}function b(u,w,z){return(w[0]-u[0])*(z[1]-u[1])-(z[0]-u[0])*(w[1]-u[1])}function a(u,w,z){return 0<b(u,w,z)}function e(u,w,z){return 0<=b(u,w,z)}function c(u,w,z){return 0>=b(u,w,z)}var Ya=[],Za=[];function f(u,w){var z=w[0]-u[0];u=w[1]-u[1];return z*z+u*u}function k(u,w){var z=
u.length;return u[0>w?w%z+z:w%z]}function g(u,w,z,A){for(;z<A;z++)u.push(w[z])}function l(u,w){var z=k(u,w-1),A=k(u,w);u=k(u,w+1);return 0>b(z,A,u)}var $a=[],sb=[];function p(u,w,z,A){A=A||[];A.length=0;if(w<z)for(var E=w;E<=z;E++)A.push(u[E]);else{for(E=0;E<=z;E++)A.push(u[E]);for(E=w;E<u.length;E++)A.push(u[E])}return A}function r(u){for(var w=[],z,A,E=[],G=Number.MAX_VALUE,P=0;P<u.length;++P)if(l(u,P))for(var D=0;D<u.length;++D){a:{A=u;var H=P,J=D;if(e(k(A,H+1),k(A,H),k(A,J))&&c(k(A,H-1),k(A,H),
k(A,J)))z=!1;else{z=f(k(A,H),k(A,J));for(var M=0;M!==A.length;++M)if((M+1)%A.length!==H&&M!==H&&e(k(A,H),k(A,J),k(A,M+1))&&c(k(A,H),k(A,J),k(A,M))){$a[0]=k(A,H);$a[1]=k(A,J);sb[0]=k(A,M);sb[1]=k(A,M+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var V=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+V*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*V;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-V*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(A,H),ka)<z){z=!1;break a}}z=!0}}if(z){z=r(p(u,
P,D,E));A=r(p(u,D,P,E));for(H=0;H<A.length;H++)z.push(A[H]);z.length<G&&(w=z,G=z.length,w.push([k(u,P),k(u,D)]))}}return w}function v(u,w){if(0===w.length)return[u];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){u=[u];for(var z=0;z<w.length;z++)for(var A=w[z],E=0;E<u.length;E++){var G=v(u[E],A);if(G){u.splice(E,1);u.push(G[0],G[1]);break}}return u}A=w;z=u.indexOf(A[0]);E=u.indexOf(A[1]);return-1!==z&&-1!==E?[p(u,z,E),p(u,E,z)]:!1}function q(u,w,z,
A,E){var G=w[1]-u[1];w=u[0]-w[0];u=G*u[0]+w*u[1];var P=A[1]-z[1];A=z[0]-A[0];z=P*z[0]+A*z[1];var D=G*A-P*w;return Math.abs(D-0)<=(E||0)?[0,0]:[(A*u-w*z)/D,(G*z-P*u)/D]}function x(u,w,z,A,E,G,P){G=G||100;P=P||0;E=E||25;w="undefined"!==typeof w?w:[];z=z||[];A=A||[];var D=[0,0],H=[0,0],J=[0,0],M,Q=0,R=0,V=0,Z=[],ca=[];if(3>u.length)return w;P++;if(P>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<u.length;++Y)if(l(u,Y)){z.push(u[Y]);var ha=M=Number.MAX_VALUE;for(var ka=
0;ka<u.length;++ka){if(a(k(u,Y-1),k(u,Y),k(u,ka))&&c(k(u,Y-1),k(u,Y),k(u,ka-1))){J=q(k(u,Y-1),k(u,Y),k(u,ka),k(u,ka-1));var za=k(u,Y+1);var Oa=k(u,Y);0>b(za,Oa,J)&&(za=f(u[Y],J),za<M&&(M=za,H=J,R=ka))}a(k(u,Y+1),k(u,Y),k(u,ka+1))&&c(k(u,Y+1),k(u,Y),k(u,ka))&&(J=q(k(u,Y+1),k(u,Y),k(u,ka),k(u,ka+1)),a(k(u,Y-1),k(u,Y),J)&&(za=f(u[Y],J),za<ha&&(ha=za,D=J,Q=ka)))}if(R===(Q+1)%u.length)J[0]=(H[0]+D[0])/2,J[1]=(H[1]+D[1])/2,A.push(J),Y<Q?(g(Z,u,Y,Q+1),Z.push(J),ca.push(J),0!==R&&g(ca,u,R,u.length),g(ca,
u,0,Y+1)):(0!==Y&&g(Z,u,Y,u.length),g(Z,u,0,Q+1),Z.push(J),ca.push(J),g(ca,u,R,Y+1));else{R>Q&&(Q+=u.length);D=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(k(u,Y-1),k(u,Y),k(u,ka))&&c(k(u,Y+1),k(u,Y),k(u,ka))){za=f(k(u,Y),k(u,ka));if(R=za<D)a:{R=u;H=Y;J=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==J&&(ha+1)%R.length!==H&&(ha+1)%R.length!==J&&d(k(R,H),k(R,J),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(D=za,V=ka%u.length)}Y<V?(g(Z,u,Y,V+1),0!==V&&g(ca,u,V,u.length),g(ca,u,0,Y+1)):(0!==
Y&&g(Z,u,Y,u.length),g(Z,u,0,V+1),g(ca,u,V,Y+1))}Z.length<ca.length?(x(Z,w,z,A,E,G,P),x(ca,w,z,A,E,G,P)):(x(ca,w,z,A,E,G,P),x(Z,w,z,A,E,G,P));return w}w.push(u);return w}self.Yta={nsa:function(u){var w=r(u);return 0<w.length?v(u,w):[u]},dua:x,hta:function(u){var w;for(w=0;w<u.length-1;w++)for(var z=0;z<w-1;z++)if(d(u[w],u[w+1],u[z],u[z+1]))return!1;for(w=1;w<u.length-2;w++)if(d(u[0],u[u.length-1],u[w],u[w+1]))return!1;return!0},iua:function(u,w){for(var z=0,A=u.length-1;3<u.length&&0<=A;--A){var E=
k(u,A-1);var G=k(u,A),P=k(u,A+1),D=w;D?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=P[0]-G[0],Za[1]=P[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<D):E=0===b(E,G,P);E&&(u.splice(A%u.length,1),z++)}return z},jua:function(u,w){for(var z=u.length-1;1<=z;--z)for(var A=u[z],E=z-1;0<=E;--E){var G=A,P=u[E],D=w;Math.abs(G[0]-P[0])<=(D||0)&&Math.abs(G[1]-P[1])<=(D||0)&&u.splice(z,1)}},Fta:function(u){for(var w=0,z=1;z<u.length;++z)if(u[z][1]<
u[w][1]||u[z][1]===u[w][1]&&u[z][0]>u[w][0])w=z;if(a(k(u,w-1),k(u,w),k(u,w+1)))return!1;w=[];z=u.length;for(var A=0;A!==z;A++)w.push(u.pop());for(A=0;A!==z;A++)u[A]=w[A];return!0}}}{"use strict";const d=self.m=class{constructor(){throw TypeError("static class can't be instantiated");}};d.yt=!1;d.tL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.wh={}}
{"use strict";const d=self.m;d.YO=class{constructor(b){this.pea=b;this.Fa=new Map;this.vaa()}vaa(){var b=this.pea;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.waa(a)}waa(b){if(b)if(b.includes("=")){var a=b.indexOf("="),e=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Fa.set(e,b)}else this.Fa.set(b,null)}hz(b){return this.Fa.has(b)}aa(b){b=this.Fa.get(b);return"undefined"===typeof b?null:b}};d.EF=new d.YO(location.search);
d.qla=new d.YO(location.hash);d.EF.aa("mode")}
{"use strict";const d=self.m,b=navigator.userAgent;let a={Mfa:/linux|openbsd|freebsd|netbsd/i.test(b),Uea:/CrOS/.test(b),MD:/trident|iemobile|msie|tizen/i.test(b),Psa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),MV:/bb10/i.test(b),jfa:/edge\//i.test(b),IW:/trident/i.test(b),webkit:/webkit/i.test(b),lga:/safari\//i.test(b),Tea:/chrome\//i.test(b),Vea:/chromium\//i.test(b),Yea:/crosswalk|xwalk/i.test(b),Pta:/nwjs/i.test(b),Kea:/amazonwebappplatform/i.test(b),Cga:/wv\)/.test(b),Lea:/android/i.test(b),
Ufa:/nokiabrowser\/[0-9.]+/i.test(b)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Mb=/OPR\/[0-9.]+/.exec(b),Nb=/tizen\s+[0-9.]+/i.exec(b),Tb=/iphone\s+os\s+[0-9_]+/i.exec(b),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Vb=/windows\s+phone\s+[0-9.]+/i.exec(b),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Xb=/chrome\/[0-9.]+/i.exec(b),Yb=/chromium\/[0-9.]+/i.exec(b),Zb=/nwjs\/[0-9.]+/i.exec(b),$b=/firefox\/[0-9.]+/i.exec(b),ac=/msie\s+[0-9.]+/i.exec(b),bc=/edge\/[0-9.]+/i.exec(b),
cc=/edg\/[0-9.]+/i.exec(b),dc=/silk\/[0-9.]+/i.exec(b);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",g="(unknown)",l="browser",p=!1,r=!1,v=new Map;function q(u,w,z){!0===w?(z(),v.set(u,!0)):w&&w.length&&(z(w[0]),v.set(u,!0))}q("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),u=>{e="Windows";if(u=u.split(" ")[2])switch(u){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});q("isOSX",tb,u=>{e="Mac OS X";(u=u.split(" ")[3])&&(c=u.replace("_","."))});q("isLinux",a.Mfa,()=>{e="Linux"});q("isChromeOS",a.Uea,()=>{e="Chrome OS"});q("isAndroid",!a.MD&&Lb,u=>{e="Android";(u=u.split(" ")[1])&&(c=u)});q("isTizen",Nb,u=>{e="Tizen";(u=u.split(" ")[1])&&(c=u)});q("isIPhone",!a.MD&&Tb,u=>{e="iOS";(u=u.split(" ")[2])&&(c=u.replace("_","."))});q("isIPad",!a.MD&&Ub,u=>{e="iOS";(u=u.split(" ")[3])&&(c=u.replace("_","."))});q("isWindowsPhone",Vb,u=>{e="Windows Phone";
(u=u.split(" ")[2])&&(c=u)});q("isWindowsPhoneOS",Wb,u=>{e="Windows Phone";(u=u.split(" ")[3])&&(c=u)});q("isBlackberry",a.MV,()=>{e="Blackberry";c="10";f="stock";g="webkit"});q("isChrome",!a.jfa&&!a.opera&&Xb,u=>{f="Chrome";g="Chromium";(u=u.split("/")[1])&&(k=u)});q("isOpera",Mb,u=>{f="Opera";g="Chromium";(u=u.split("/")[1])&&(k=u)});q("isChromium",Yb,u=>{g=f="Chromium";(u=u.split("/")[1])&&(k=u)});q("isFirefox",$b,u=>{f="Firefox";g="Gecko";(u=u.split("/")[1])&&(k=u)});q("isInternetExplorer",ac,
u=>{f="Internet Explorer";g="Trident";(u=u.split(" ")[1])&&(k=u)});q("isTrident","Internet Explorer"!==f&&a.IW,()=>{g="Trident";var u=/rv:[0-9.]+/i.exec(b);u&&u.length&&(f="Internet Explorer",(u=u[0].split(":")[1])&&(k=u))});q("isEdge",bc,u=>{g=f="Edge";(u=u.split("/")[1])&&(k=u)});q("isEdgeChromium",cc,u=>{f="Edge";g="Chromium";(u=u.split("/")[1])&&(k=u)});q("isSafari",a.lga&&!a.Ufa&&!a.Tea&&!a.Vea&&!a.Osa&&!a.MV,()=>{f="Safari";g="WebKit";var u=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
z=/fxios\/[0-9.]+/i.exec(b);u&&u.length&&(u=u[0].split("/")[1])&&(k=u);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));z&&z.length&&(f="Firefox for iOS",(z=z[0].split("/")[1])&&(k=z))});q("isSilk",dc,u=>{f="Silk";(u=u.split("/")[1])&&(k=u)});q("isCrosswalk",a.Yea,()=>l="crosswalk");q("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");q("isNWJS",Zb,u=>{l="nwjs";f="NW.js";g="Chromium";(u=u.split("/")[1])&&(k=u)});q("isAmazonWebApp",a.Kea,()=>l="webapp");
q("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");q("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");q("isAndroidWebview","Chrome"===f&&"browser"===l&&a.Cga,()=>l="webview");q("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");q("isAndroidFallback","(unknown)"===e&&!a.MD&&a.Lea,()=>e="Android");q("isTridentFallback",
"(unknown)"===e&&a.IW,()=>g="Trident");q("isWebkitFallback","(unknown)"===e&&a.webkit,()=>g="WebKit");q("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>p=!0);r="nwjs"===l;const x="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;x&&(e="iOS",c=k,r=p=!1);d.md={pr:e,Ola:c,jd:f,Qha:k,WD:parseFloat(k),fy:g,aE:l,qka:p,rF:!p,rka:r,mka:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),hka:"Mac OS X"===e||"iOS"===e,yka:x,Bka:"Linux"===e}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(x){return new Promise((u,w)=>{x.onsuccess=()=>u(x.result);x.onerror=()=>w(x.error)})}function c(x){return new Promise((u,w)=>{x.oncomplete=()=>u();x.onerror=()=>w(x.error);x.onabort=()=>w(x.error)})}function f(x,u){return g(x,u)}function k(x,u){return g(x,u,!0)}async function g(x,u,w=!1,
z=!0){const A=await l(x);try{const E=A.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return u(E)}catch(E){if(z&&"InvalidStateError"===E.name)return d.delete(x),g(x,u,w,!1);throw E;}}function l(x){r(x);let u=d.get(x);u instanceof Promise||(u=p(x),d.set(x,u),u.catch(()=>d.delete(x)));return u}async function p(x){r(x);const u=indexedDB.open(x,2);u.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(z){console.error(`Failed to create objectstore for database ${x}`,
z)}});return e(u)}function r(x){if("string"!==typeof x)throw new TypeError("expected string");}function v(x,u){const w=x.objectStore("keyvaluepairs").openCursor();return new Promise(z=>{const A=[];w.onsuccess=E=>{if(E=E.target.result){switch(u){case "entries":A.push([E.key,E.value]);break;case "keys":A.push(E.key);break;case "values":A.push(E.value)}E.continue()}else z(A)}})}class q{constructor(x){r(x);this.name=x}async ready(){await l(this.name)}set(x,u){r(x);return k(this.name,async w=>{var z=w.objectStore("keyvaluepairs").put(u,
x);z=e(z);w=c(w);await Promise.all([w,z])})}get(x){r(x);return f(this.name,async u=>{var w=u.objectStore("keyvaluepairs").get(x);w=e(w);u=c(u);[,u]=await Promise.all([u,w]);return u})}delete(x){r(x);return k(this.name,async u=>{var w=u.objectStore("keyvaluepairs").delete(x);w=e(w);u=c(u);await Promise.all([u,w])})}clear(){return k(this.name,async x=>{var u=x.objectStore("keyvaluepairs").clear();u=e(u);x=c(x);await Promise.all([x,u])})}keys(){return f(this.name,async x=>{if(a){var u=x.objectStore("keyvaluepairs").getAllKeys();
u=e(u)}else u=v(x,"keys");x=c(x);[,x]=await Promise.all([x,u]);return x})}values(){return f(this.name,async x=>{if(b){var u=x.objectStore("keyvaluepairs").getAll();u=e(u)}else u=v(x,"values");x=c(x);[,x]=await Promise.all([x,u]);return x})}entries(){return f(this.name,async x=>{var u=v(x,"entries");x=c(x);[,u]=await Promise.all([x,u]);return u})}}self.f2=q}"use strict";
{const d=self.f2,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(p=>{const {port1:r,port2:v}=new MessageChannel;v.onmessage=q=>p(q.data);r.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.J=l;a.set(this,new Map)}nv(l){if(!e)for(const p of b)if(l&&p.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async FT(l){l=
a.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async jV(l,p){p=await k(p);a.get(this).set(l,p)}aV(l){a.get(this).delete(l)}eT(){a.get(this).clear()}kU(){return Array.from(a.get(this).keys())}async getItem(l,p){f(p);if(e)return await this.FT(l);let r;try{r=await this.J.get(l)}catch(v){this.nv(v);if(e)return await this.FT(l);console.error(`Error reading '${l}' from storage, returning null: `,v);return null}return"undefined"===typeof r?null:r}async setItem(l,p,r){f(r);"undefined"===
typeof p&&(p=null);if(e)await this.jV(l,p);else try{await this.J.set(l,p)}catch(v){if(this.nv(v),e)await this.jV(l,p);else throw v;}}async removeItem(l,p){f(p);if(e)this.aV(l);else try{await this.J.delete(l)}catch(r){this.nv(r),e?this.aV(l):console.error(`Error removing '${l}' from storage: `,r)}}async clear(l){f(l);if(e)this.eT();else try{await this.J.clear()}catch(p){this.nv(p),e?this.eT():console.error("Error clearing storage: ",p)}}async keys(l){f(l);if(e)return this.kU();l=[];try{l=await this.J.keys()}catch(p){this.nv(p);
if(e)return this.kU();console.error("Error getting storage keys: ",p)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.J.ready()}gL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.m;d.ac={};d.ac.xra=(()=>{try{if("Safari"===d.md.jd||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.ac.Pia="undefined"!==typeof HTMLDialogElement;d.ac.nna=!!self.requestIdleCallback;d.ac.ImageBitmap=!!self.createImageBitmap;d.ac.ImageBitmapOptions=!1;if(d.ac.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.ac.ImageBitmapOptions=!0}).catch(()=>{d.ac.ImageBitmapOptions=!1})}catch(b){d.ac.ImageBitmapOptions=!1}d.ac.aia=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.md.jd);d.ac.mma=!(!navigator.permissions||!navigator.permissions.query);d.ac.VO="undefined"!==typeof Proxy;d.ac.Ria="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.ac.hy="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.ac.fja="function"===typeof fetch;d.ac.oma=!!(self.isSecureContext&&"Opera"!==d.md.jd&&navigator.storage&&navigator.storage.persist);d.ac.rqa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.md.pr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.ac.pja=ec;d.ac.Tja="undefined"!==typeof self.ImageDecoder;d.ac.Jla=!!self.showOpenFilePicker;
d.ac.Kla=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.m;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.Xt(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,e){return a.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,b(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.Ge||(Array.prototype.Ge=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.Ge||(String.prototype.Ge=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>b({usage:e,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.m;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.Fy())}}
{"use strict";const d=self.m,b=self.wh;d.Wm=function(e){return"number"===typeof e};d.Tm=function(e){return d.Wm(e)&&isFinite(e)};d.Zf=function(e){if(!d.Wm(e))throw new TypeError("expected number");};d.gP=function(){};d.Jna=function(e,c,f){if(!d.Wm(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.vna=function(...e){for(let c of e);};d.Mi=function(e){if(!d.Tm(e))throw new TypeError("expected finite number");};d.dP=function(){};d.sna=function(...e){for(let c of e);};d.Ji=function(e){return"string"===
typeof e};d.qe=function(e){if(!d.Ji(e))throw new TypeError("expected string");};d.iP=function(){};d.xna=function(...e){for(let c of e);};d.bO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Wna=function(e){if(!d.bO(e))throw new TypeError("expected simple object");};d.Tna=function(e){if(!d.pe(e)&&!d.bO(e))throw new TypeError("expected simple object");};d.aO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.bP=function(e){if(!d.aO(e))throw new TypeError("expected object");
};d.hP=function(){};d.wna=function(...e){for(let c of e);};d.jF=function(e){return d.Um(e,Blob)&&"string"===typeof e.name};d.Hna=function(e){if(!d.jF(e))throw new TypeError("expected file");};d.Rna=function(){};d.Wo=function(e){return Array.isArray(e)};d.LF=function(e){if(!d.Wo(e))throw new TypeError("expected array");};d.cP=function(){};d.rna=function(...e){for(let c of e);};d.G1=function(e){return d.Wo(e)?e.length?d.Wo(e[0])?!0:!1:!0:!1};d.qna=function(e){if(!d.G1(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Wo(c))throw new TypeError("expected 2d array");};d.Kna=function(){};d.kF=function(e){return"function"===typeof e};d.dk=function(e,c){if(!d.kF(e))throw new TypeError("expected function");if(!d.pe(c)&&e!==c)throw new TypeError("expected same function reference");};d.eP=function(){};d.tna=function(...e){for(let c of e);};d.zna=function(e,...c){if(!d.kF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.pe(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.Lna=function(...e){if(!d.pe(e))for(let c of e);};d.Um=function(e,c){return e instanceof c};d.YN=function(e,...c){for(let f of c)if(d.Um(e,f))return!0;return!1};d.MF=function(e,c){if(!d.Um(e,c))throw new TypeError("unexpected type");};d.fP=function(){};d.una=function(e,...c){for(let f of c);};d.Ana=function(e,...c){if(!d.YN(e,...c))throw new TypeError("unexpected type");};d.Bna=function(e,...c){if(!d.pe(e)&&!d.YN(e,...c))throw new TypeError("unexpected type");
};d.ika=function(e,c){for(let f of e)if(!d.Um(f,c))return!1;return!0};d.jka=function(e){for(let c of e)if(!d.Tm(c))return!1;return!0};d.Cna=function(e){for(let c of e);};d.Mna=function(e){if(!d.pe(e))for(let c of e);};d.Dna=function(e){for(let c of e);};d.Nna=function(e){if(!d.pe(e))for(let c of e);};d.nka=function(e,c){return d.pe(e)||!d.Ji(e.nodeName)?!1:!c||d.th(e.nodeName,c)};d.Ena=function(e,c){if(d.pe(e)||!d.Ji(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.th(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.Ona=function(){};d.mF=function(e,c){return d.pe(e)||!d.Ji(e.tagName)?!1:!c||d.th(e.tagName,c)};d.Ina=function(e,c){if(d.pe(e)||!d.Ji(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.th(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.Sna=function(){};d.SN=function(e){return d.mF(e,"img")||d.mF(e,"canvas")||d.mF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.Fna=function(e){if(!d.SN(e))throw new TypeError("expected drawable");
};d.Pna=function(){};d.TN=function(e){return e instanceof ImageData?!0:d.SN(e)};d.Gna=function(e){if(!d.TN(e))throw new TypeError("expected drawable or image data");};d.Qna=function(e){if(!d.pe(e)&&!d.TN(e))throw new TypeError("expected drawable or image data");};d.Y1=function(e){return"string"===typeof e||e instanceof d.aF||e instanceof d.$k};d.Xna=function(e){if(!d.Y1(e))throw new TypeError("expected string-like");};d.Una=function(){};d.yna=function(...e){for(let c of e);};d.Vna=function(){throw Error("must be overridden");
};d.Nla=function(){throw Error("not yet implemented");};d.pka=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.pe=function(e){return"undefined"===typeof e||null===e};d.yha=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.zha=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.Wka=function(e){return d.Um(e,a)};d.Yna=function(){};
d.wra=function(e){d.P6(e,a)};d.vra=function(e,...c){if(!d.O6(e,...c))throw new TypeError("unexpected type");};d.O6=function(e,...c){for(const f of c)if(d.iQ(e,f))return!0;return!1};d.P6=function(e,c){if(!d.iQ(e,c))throw new TypeError("unexpected type");};d.iQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};b.Zf=d.Zf;b.gP=d.gP;b.Mi=d.Mi;b.dP=d.dP;b.qe=d.qe;b.iP=d.iP;b.bP=d.bP;b.hP=d.hP;b.LF=d.LF;b.cP=d.cP;b.dk=d.dk;b.eP=d.eP;b.MF=d.MF;b.fP=d.fP;b.pe=
d.pe}
{"use strict";const d=self.m,b=new Map;d.bna=function(v,...q){b.has(v)||b.set(v,-1);-1===b.get(v)&&b.set(v,requestAnimationFrame(()=>{console.log(`%c${v}`,"font-weight: bold",...q);b.set(v,-1)}))};d.Fy=function(){return Error().stack};d.Mia=function(){debugger};d.esa=function(v,q){return v&&v instanceof q?v:null};d.Wk=function(v){return"undefined"===typeof v?"undefined":null===v?"null":"boolean"===typeof v?"<boolean>":d.Wm(v)?"<number>":d.Ji(v)?"<string>":d.Wo(v)?"<array>":"symbol"===typeof v?"<"+
v.toString()+">":d.kF(v)?v.name&&"Function"!==v.name?v.name:"<anonymous function>":"object"===typeof v?v.constructor&&v.constructor.name&&"Object"!==v.constructor.name?v.constructor.name:"<anonymous object>":"<unknown>"};d.sD=function(v){return null===v?"null":Array.isArray(v)?"array":typeof v};d.range=function*(v,q){if(!isFinite(Math.abs(v-q)))throw Error("Invalid parameters");if(v>q)for(--v;v>=q;v--)yield v;else for(;v<q;v++)yield v};let a=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.Wq={};const k=
new Set(["then","splice"]);function g(v){console.warn("[Defence] "+v+" @",d.Fy())}d.Wq.get=function(v,q){q in v||"symbol"===typeof q||k.has(q)||g(`Accessed missing property '${q}' from defended object '${d.Wk(v)}', returning undefined`);f.has(v)&&"symbol"!==typeof q&&!k.has(q)&&g(`Accessed property '${q}' on a released object '${d.Wk(v)}'\nObject was originally released at: ${f.get(v)})\nCall stack at access: `);return v[q]};d.Wq.set=function(v,q,x){q in v||a.has(v)||g(`Set non-existent property '${q}' to '${x}' on defended object '${d.Wk(v)}'`);
{var u=d.sD(v[q]);let w=d.sD(x);u="null"===u||"null"===w?!0:"undefined"===u||"undefined"===w?!1:u===w}u||a.has(v)||g(`Set '${d.sD(v[q])}' property '${q}' to type '${d.sD(x)}' on defended object '${d.Wk(v)}'`);f.has(v)&&g(`Set property '${q}' on a released object '${d.Wk(v)}'\nObject was originally released at: ${f.get(v)})\nCall stack at access: `);v[q]=x;return!0};d.Wq.deleteProperty=function(v,q){throw new ReferenceError(`Cannot delete property '${q}' from defended object '${d.Wk(v)}'`);};d.Wq.defineProperty=
function(v,q){throw new ReferenceError(`Cannot define property '${q}' on defended object '${d.Wk(v)}'`);};d.Wq.ssa=function(v){throw new ReferenceError(`Cannot enumerate defended object '${d.Wk(v)}'`);};let l=-1;function p(){l=-1;if(0<a.size||0<e.size){let v=[...new Set([...a.keys()].map(q=>d.Wk(q)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${v}`);a.clear();
e.clear()}}d.fa=class{constructor(){if(d.tL&&d.ac.VO){var v=new.target;v=Object.create(v.prototype);var q=new Proxy(v,d.Wq);a.set(v,q);e.set(q,v);c.set(q,v);-1===l&&(l=requestAnimationFrame(p));return q}}};d.$ea=function(v){if(d.tL&&d.ac.VO&&v instanceof d.fa){if(!e.has(v))return v;let q=e.get(v);e.delete(v);a.delete(q);return v}return d.yt?Object.seal(v):v};d.B=function(v,...q){let x;try{x=new v(...q)}catch(z){throw e.clear(),a.clear(),z;}if(d.tL){q=x;var u=new Set;for(w in q)u.add(w);var w=u;if(q=
r.get(v)){u=[];for(let z of q.values())w.has(z)?w.delete(z):u.push(z);d.Am(u,[...w]);u.length&&console.warn(`[Defence] '${d.Wk(v)}' constructor creates inconsistent properties: ${u.join(", ")}`)}else r.set(v,w)}return d.$ea(x)};d.g=function(v){(v=c.get(v))&&f.set(v,d.Fy())};d.Nr=function(){let v=c.get(void 0);return v?!!f.get(v):!1};let r=new Map;d.kma=class{constructor(v){this.Ca="";v&&this.start(v)}start(v){this.Ca=v;performance.mark(this.Ca+"-Start")}end(){performance.mark(this.Ca+"-End");performance.measure(this.Ca,
this.Ca+"-Start",this.Ca+"-End")}next(v){this.end();this.Ca=v;performance.mark(this.Ca+"-Start")}}}
{"use strict";const d=self.m,b=2*Math.PI,a=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,g){f=Math.floor(f);k=Math.floor(k);g=Math.floor(g);return f<k?(f=g-(k-f)%(g-k),f===g?0:f):k+(f-k)%(g-k)};d.Pfa=function(f,k,g,l){return(f-k)*(l-0)/(g-k)};d.normalize=function(f,k,g){return(f-k)/(g-k)};d.W=function(f,k,g){return f<k?k:f>g?g:f};d.me=function(f){f%=b;0>f&&(f+=b);return f};d.Ga=function(f){return f*a};d.ne=function(f){return f*e};d.qt=function(f,k,g,l){return Math.hypot(g-f,l-k)};d.WV=function(f,
k,g,l){f=g-f;k=l-k;return f*f+k*k};d.bL=function(f,k,g,l){return Math.atan2(l-k,g-f)};d.nt=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.aL=function(f,k,g){let l=Math.sin(f),p=Math.cos(f),r=Math.sin(k),v=Math.cos(k);return Math.acos(l*r+p*v)>g?0<p*r-l*v?d.me(f+g):d.me(f-g):d.me(k)};d.Kf=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.$K=function(f,k,g,l=0){let p=d.nt(f,k);l*=b;return d.Kf(k,
f)?d.me(f+(p+l)*g):d.me(f-(p+l)*g)};d.Nea=function(f,k,g,l=0){const p=d.nt(f,k);l*=b;return d.Kf(k,f)?d.me(f+(p+l)*g):d.me((b-p+l)*g)};d.Mea=function(f,k,g,l=0){const p=d.nt(f,k);l*=b;return d.Kf(k,f)?d.me((-b+p-l)*g):d.me(f-(p+l)*g)};d.td=function(f,k,g){return f+g*(k-f)};d.KD=function(f,k,g){return f===k?0:(g-f)/(k-f)};d.gga=function(f,k,g,l){return d.td(0,l,d.KD(f,k,g))};d.AD=function(f,k,g,l){return d.td(d.td(f,k,l),d.td(k,g,l),l)};d.UV=function(f,k,g,l,p){return d.td(d.AD(f,k,g,p),d.AD(k,g,l,
p),p)};d.TV=function(f,k,g){return(f+k+(f-k)*Math.cos(g*Math.PI))/2};d.Yk=function(f){return 0<f&&0===(f-1&f)};d.AL=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.vua=function(f,k){return Math.round(f*k)/k};d.zsa=function(f,k){return Math.floor(f*k)/k};d.BD=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.J3=function(f,k,g){return d.W(f,0,255)|d.W(k,
0,255)<<8|d.W(g,0,255)<<16};d.Bz=function(f,k,g,l){f=d.W(Math.floor(1024*f),-8192,8191);k=d.W(Math.floor(1024*k),-8192,8191);g=d.W(Math.floor(1024*g),-8192,8191);l=d.W(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*k+1024*g+l)};d.SO=function(f,k,g){return d.Bz(f,k,g,1)};d.OE=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.BE=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.qE=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.WZ=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.tfa=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let g=k;k=f%k;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Rsa=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var g of c){let l=
f/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=f/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.tfa(f,k);return[f/g,k/g]};d.Cua=function(f,k,g,l,p,r,v,q){var x=Math.min(f,g),u=Math.max(p,v);if(Math.max(f,g)<Math.min(p,v)||x>u)return!1;x=Math.min(k,l);u=Math.max(r,q);if(Math.max(k,l)<Math.min(r,q)||x>u)return!1;x=p-f+v-g;u=r-k+q-l;f=g-f;k=l-k;p=v-p;r=q-r;q=Math.abs(k*p-r*f);return Math.abs(p*u-r*x)>q?!1:Math.abs(f*u-k*x)<=q};d.Fm=function(f,k,g,l,p,r,v,q,x,u,w,z){const A=Math.max(x,w);if(r<
Math.min(x,w)||p>A)return!1;p=Math.max(u,z);if(q<Math.min(u,z)||v>p)return!1;v=x-f+w-g;q=u-k+z-l;f=g-f;k=l-k;x=w-x;u=z-u;z=Math.abs(k*x-u*f);return Math.abs(x*q-u*v)>z?!1:Math.abs(f*q-k*v)<=z};d.CD=function(f,k,g,l,p){const r=Math.min(f,g),v=Math.max(f,g),q=Math.min(k,l),x=Math.max(k,l),u=p.Jb,w=p.Kb,z=p.jc,A=p.kc,E=p.sc,G=p.tc,P=p.cc;p=p.ec;return d.Fm(f,k,g,l,r,v,q,x,u,w,z,A)||d.Fm(f,k,g,l,r,v,q,x,z,A,E,G)||d.Fm(f,k,g,l,r,v,q,x,E,G,P,p)||d.Fm(f,k,g,l,r,v,q,x,P,p,u,w)};d.Bua=function(f,k,g,l,p){const r=
Math.min(f,g),v=Math.max(f,g),q=Math.min(k,l),x=Math.max(k,l);let u=0;for(let w=p.length-4;u<=w;u+=2)if(d.Fm(f,k,g,l,r,v,q,x,p[u],p[u+1],p[u+2],p[u+3]))return!0;return d.Fm(f,k,g,l,r,v,q,x,p[u],p[u+1],p[0],p[1])};d.fga=function(f,k,g,l,p,r,v,q){g-=f;r=q-r;const x=g*r-(l-k)*(v-p);if(0===x)return 2;l=((k-l)*(v-f)+g*(q-k))/x;return 0<l&&1.000001>l?(r*(v-f)+(p-v)*(q-k))/x:2};d.Sx=function(f,k,g,l,p,r,v,q,x){const u=(v-p)*x;x*=q-r;return d.fga(f,k,g,l,p-u,r-x,v+u,q+x)};d.Efa=function(f,k,g,l,p,r,v,q){p-=
g;r-=l;v-=g;q-=l;f-=g;g=k-l;k=p*p+r*r;l=p*v+r*q;p=p*f+r*g;r=v*v+q*q;v=v*f+q*g;q=1/(k*r-l*l);r=(r*p-l*v)*q;p=(k*v-l*p)*q;return 0<=r&&0<=p&&1>=r+p};d.Aga=function(f,k,g,l,p,r,v,q){p-=g;r-=l;v-=g;q-=l;f-=g;const x=k-l;k=p*p+r*r;l=p*v+r*q;g=v*v+q*q;p=f*p+x*r;r=f*v+x*q;v=k*g-l*l;q=(g*p-l*r)/v;p=(k*r-l*p)/v;return[1-q-p,q,p]};d.zga=function(f,k,g,l,p,r,v,q,x){return[f*l+k*r+g*q,f*p+k*v+g*x]}}
{"use strict";const d=self.m;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.uja=function(){return a};d.rE=function(){if(!b)return"";const l=b.location;return d.b0(l.origin+l.pathname)+a};d.b0=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const p=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
p?"":l.substr(0,p+1)};d.yja=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const p=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===p?l:l.substr(p+1)};d.w_=function(l){let p=l.lastIndexOf(".");return 1>p?"":l.substr(p)};d.Oy=function(l){let p=l.lastIndexOf(".");return 1>p?l:l.substr(0,p)};d.C2=function(l){return l.replace(/\\/g,"/")};d.tka=function(l,p){return p===(l?d.w_(l).slice(1):"")};d.gja=function(l,p){let r,v;d.jF(l)&&(r=d.Oy(l.name));d.Ji(l)&&(r=
d.Oy(l));d.jF(p)&&(v=d.Oy(p.name));d.Ji(p)&&(v=d.Oy(p));return r===v};d.ima=function(l){l=d.C2(l);let p=/^\w:\//.exec(l);p?(p=p[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):p="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var r=l.lastIndexOf("/")+1;let v="",q=l,x="";0<r&&(v=l.slice(0,r),q=l.slice(r));l=q;r=q.lastIndexOf(".");0<r&&(x=q.slice(r),l=q.slice(0,-x.length));return{dir:v,Yra:q,name:l,root:p,ext:x,Msa:p+v+q}};d.rG=function(l,p){return new Promise(r=>{self.setTimeout(r,
l,p)})};d.Mua=function(l){try{l()}catch(p){d.yt&&console.warn("Swallowed exception: ",p)}};d.Nta=function(){};d.th=function(l,p){return"string"!==typeof l||"string"!==typeof p?!1:l===p||l.normalize().toLowerCase()===p.normalize().toLowerCase()};d.tsa=function(l,p){return"string"!==typeof l||"string"!==typeof p?!1:l===p?!0:l.normalize()===p.normalize()};d.Bga=function(l,p){var r=0;l[r++]=p[0];l[r++]=p[1];l[r++]=p[2];l[r++]=p[3];l[r++]=p[4];l[r++]=p[5];l[r++]=p[6];l[r++]=p[7];l[r++]=p[8];l[r++]=p[9];
l[r++]=p[10];l[r++]=p[11];l[r++]=p[12];l[r++]=p[13];l[r++]=p[14];l[r]=p[15]};d.jf=function(l,p){l.length=p};d.C=function(l){l&&0!==l.length&&d.jf(l,0)};d.Wea=function(l){if(l){for(let p=0;p<l.length;p++)d.jf(l[p],0);d.jf(l,0)}};d.qD=function(l,p,r){p|=0;var v=l.length;if(!(p<=v))for(;v<p;++v)l.push(r)};d.wW=function(l){var p=4;const r=l.length;p<r?d.jf(l,p):p>r&&d.qD(l,p,"0")};d.ud=function(l,p){d.C(l);d.Am(l,p)};d.Am=function(l,p){if(1E4>p.length)l.push(...p);else for(let r=0,v=p.length;r<v;++r)l.push(p[r])};
d.Qea=function(l,p){p=Math.floor(p);if(!(0>p||p>=l.length)){for(var r=l.length-1;p<r;++p)l[p]=l[p+1];d.jf(l,r)}};d.Kq=function(l,p){p=l.indexOf(p);0<=p&&l.splice(p,1)};d.Xra=function(l,p){let r=l.length;if(p.length!==r)return!1;for(let v=0;v<r;++v)if(l[v]!==p[v])return!1;return!0};d.Pea=function(l,p){let r=[],v=0;for(let q=0,x=l.length;q<x;++q){let u=l[q];p(u)?r.push(u):(l[v]=u,++v)}d.jf(l,v);return r};d.rh=function(l,p){const r=l.length;let v=0;for(let q=0,x=l.length;q<x;++q){let u=l[q];p.has(u)||
(l[v++]=u)}d.jf(l,v);return r-v};d.Afa=function(l,p){return l!==Math.floor(l)?!1:0<=l&&l<p.length};d.ava=function(l,p){if(!d.Afa(l,p))throw new RangeError("array index out of bounds");};d.lD=function(l){return l.slice()};d.afa=function(l,p){let r=[];for(let v of l)if(d.aO(v)){l=p(v);if(!l)throw Error("missing clone");if(l.constructor!==v.constructor)throw Error("object is not a clone");r.push(l)}else d.Wo(v)?r.push(d.afa(v,p)):r.push(v);return r};d.fsa=function(l){let p=[];for(let r of l)p.push(r.slice());
return p};d.Jta=function(l,p){return new Set([...l,...p])};d.Kta=function(l,p){for(const r of p)l.add(r);return l};d.first=function(l){for(let p of l)return p;return null};d.xor=function(l,p){return!l!==!p};d.compare=function(l,p,r){switch(p){case 0:return l===r;case 1:return l!==r;case 2:return l<r;case 3:return l<=r;case 4:return l>r;case 5:return l>=r;default:return!1}};d.$sa=function(l){for(let p in l)if(l.hasOwnProperty(p))return!0;return!1};d.U3=function(l,p){return l.length?new Promise((r,
v)=>{const q=[];let x=0,u=!1;for(let w=0,z=l.length;w<z;++w)q.push(void 0),l[w].then(A=>{u||(q[w]=A,++x,x===l.length?r(q):p(x,l.length))}).catch(A=>{u=!0;v(A)})}):Promise.resolve([])};let e=[];d.cha=function(l){e.push(l)};d.xja=function(){let l=0;for(let p of e){let r=p();l+=r}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const p=f.get(l);f.delete(l);p&&p(performance.now())};d.KF=function(l){const p=c++;f.set(p,l);k.port1.postMessage(p);
return p};d.GX=function(l){f.delete(l)};d.P3=d.KF;d.M6=function(){return new Promise(l=>d.P3(l))};const g=new Set;d.pna=function(l){const p=self.requestAnimationFrame(async r=>{await d.M6();g.has(p)&&(g.delete(p),l(r))});g.add(p);return p};d.Uha=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.m;d.gF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.sF=function(b){return!d.gF(b)};d.s6=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.Cy=function(b){return fetch(b,void 0).then(a=>{d.s6(a);return a})};d.Zt=function(b){return d.Cy(b).then(a=>a.text())};d.QM=function(b){return d.Cy(b).then(a=>a.json())};d.cl=function(b){return d.Cy(b).then(a=>a.blob())};d.Yt=function(b){return d.Cy(b).then(a=>
a.arrayBuffer())};d.OZ=function(b){return new Promise((a,e)=>{const c=new Image;c.onload=()=>a(c);c.onerror=f=>e(f);c.src=b})};d.wX=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(b)})};d.jM=function(b){return"function"===typeof b.text?b.text():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsText(b)})};d.Kha=function(b){return d.jM(b).then(a=>
JSON.parse(a))};d.xX=async function(b){b=URL.createObjectURL(b);try{const a=await d.OZ(b);URL.revokeObjectURL(b);b="";"function"===typeof a.decode&&await a.decode();return a}finally{b&&URL.revokeObjectURL(b)}};d.yh=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=b;e.height=a;return e}return new OffscreenCanvas(b,a)};d.hy=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.W(e,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,e)):b.convertToBlob?b.convertToBlob({type:a,quality:e}):d.Zk(()=>d.rM(b,a,e))};d.rM=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.W(e,0,1);return d.mY(b.toDataURL(a,e))};d.mY=function(b){b=d.K3(b);return d.vX(b.data,b.Qfa)};d.K3=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var e=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];e="base64"===a[1]||"base64"===c?atob(e):decodeURIComponent(e);return{Qfa:b,data:e}};d.vX=function(b,a){var e=b.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=b.charCodeAt(l),++l;return a?new Blob([f],{type:a}):new Blob([f])};d.IM=function(b){const a=d.yh(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return d.hy(a,void 0,void 0)};d.Sja=
function(b,a,e){const c=d.yh(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.rM(c,a,e)};d.W0=function(b){if(d.ac.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>d.IM(a));if(d.ac.ImageBitmap)return createImageBitmap(b).then(a=>d.IM(a));{const a=d.yh(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.hy(a,void 0,void 0)}};d.cY=function(b,a){b.clear();for(const e of a)b.add(e)};d.vla=function(b){const a=Object.create(null);for(const [e,
c]of b.entries())a[e]=c;return a};d.Pla=function(b,a){a.clear();for(const [e,c]of Object.entries(b))a.set(e,c)};d.pG=function e(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>e(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(a))c[f]=e(k);return c}}return a};d.nE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,g]of Object.entries(e))f[k]=c(g);return f}}return e};d.AX=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.Vm=function(e){return"object"===typeof e&&"function"===typeof e.next};d.u2=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.m,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.$a=class{constructor(c,f,k,g){this.Pa=this.Xa=this.Ya=this.Ua=0;c instanceof d.$a?this.set(c):this.Bo(c||0,f||0,k||0,g||0)}FD(c,f,k){this.Ua=+c;this.Ya=+f;this.Xa=+k;this.W()}Bo(c,f,k,g){this.Ua=+c;this.Ya=+f;this.Xa=+k;this.Pa=+g;this.W()}set(c){this.Ua=c.Ua;this.Ya=c.Ya;this.Xa=c.Xa;
this.Pa=c.Pa;return this}pa(c){return this.set(c)}add(c){this.Ua+=c.Ua;this.Ya+=c.Ya;this.Xa+=c.Xa;this.Pa+=c.Pa;this.W()}IV(c,f,k){this.Ua+=+c;this.Ya+=+f;this.Xa+=+k;this.Pa+=0;this.W()}Bm(c){this.Ua=c.Ua;this.Ya=c.Ya;this.Xa=c.Xa}Mq(c){this.Ua=d.W(+c,0,1)}Ht(c){this.Ya=d.W(+c,0,1)}Gt(c){this.Xa=d.W(+c,0,1)}uh(c){this.Pa=d.W(+c,0,1)}clone(){return d.B(d.$a,this.Ua,this.Ya,this.Xa,this.Pa)}toArray(){return[this.Ua,this.Ya,this.Xa,this.Pa]}vh(c,f){c[f++]=this.Ua;c[f++]=this.Ya;c[f++]=this.Xa;c[f]=
this.Pa}Yc(c){return this.Ua===c.Ua&&this.Ya===c.Ya&&this.Xa===c.Xa&&this.Pa===c.Pa}vo(c){return this.Ua===c.Ua&&this.Ya===c.Ya&&this.Xa===c.Xa}Hx(c,f,k,g){return this.Ua===c&&this.Ya===f&&this.Xa===k&&this.Pa===g}multiply(c){this.Ua*=c.Ua;this.Ya*=c.Ya;this.Xa*=c.Xa;this.Pa*=c.Pa}zD(){this.Ua*=this.Pa;this.Ya*=this.Pa;this.Xa*=this.Pa}W(){this.Ua=d.W(this.Ua,0,1);this.Ya=d.W(this.Ya,0,1);this.Xa=d.W(this.Xa,0,1);this.Pa=d.W(this.Pa,0,1);return this}Wx(c){this.Ua=d.OE(c);this.Ya=d.BE(c);this.Xa=d.qE(c);
this.Pa=d.WZ(c)}pfa(){return`rgb(${100*(d.Tm(void 0)?NaN:this.Ua)}%, ${100*(d.Tm(void 0)?NaN:this.Ya)}%, ${100*(d.Tm(void 0)?NaN:this.Xa)}%)`}$fa(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.Mq(f);isFinite(k)&&this.Ht(k);isFinite(c)&&
this.Gt(c);this.uh(1)}}xD(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.Mq(c);isFinite(k)&&this.Ht(k);isFinite(f)&&this.Gt(f);this.uh(1)}}}oW(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),10)/100;isFinite(c)&&
this.Mq(c);isFinite(k)&&this.Ht(k);isFinite(f)&&this.Gt(f);this.uh(1)}}}qW(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.Mq(c);isFinite(k)&&this.Ht(k);isFinite(g)&&this.Gt(g);isFinite(f)&&this.uh(f)}}}pW(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),
10)/100;var k=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.Mq(c);isFinite(k)&&this.Ht(k);isFinite(g)&&this.Gt(g);isFinite(f)&&this.uh(f)}}}rW(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.oW(c):this.xD(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.pW(c):this.qW(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Zfa(c);return}{const f=c.split(",");if(c.includes("%")){if(3===
f.length){this.oW(c);return}4===f.length&&this.pW(c)}else{if(3===f.length){this.xD(c);return}4===f.length&&this.qW(c)}return}}this.$fa(c)}}toJSON(){return[this.Ua,this.Ya,this.Xa,this.Pa]}yW(c,f,k,g){c%=360;f=d.W(f,0,100);k=d.W(k,0,100);g=d.W(g,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,p=2*k-l;k=e(p,l,c+1/3);f=e(p,l,c);c=e(p,l,c-1/3)}this.Mq(k);this.Ht(f);this.Gt(c);this.uh(g)}Zfa(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,"");c=b.exec(f);f=a.exec(f);c&&4===c.length?
this.yW(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.yW(+c[1],+c[2],+c[3],+c[4])}Ao(c){!Array.isArray(c)||3>c.length||(this.Ua=c[0],this.Ya=c[1],this.Xa=c[2],this.Pa=4<=c.length?c[3]:1)}set r(c){this.Mq(c)}get r(){return this.Ua}set ro(c){this.uh(c)}get ro(){return this.Pa}static hE(c,f){return d.W(Math.max(c,f)-Math.min(c,f),0,1)}};d.$a.Bra=Object.freeze(d.B(d.$a,1,1,1,1));d.$a.Jha=Object.freeze(d.B(d.$a,0,0,0,1));d.$a.Rqa=Object.freeze(d.B(d.$a,0,0,0,0))}
{"use strict";const d=self.m;d.Vu=class{constructor(b,a){this.L=this.V=0;b instanceof d.Vu?this.pa(b):this.set(b||0,a||0)}set(b,a){this.V=+b;this.L=+a}pa(b){this.V=b.V;this.L=b.L}Yc(b){return this.V===b.V&&this.L===b.L}toArray(){return[this.V,this.L]}vh(b,a){b[a++]=this.V;b[a]=this.L}offset(b,a){this.V+=+b;this.L+=+a}scale(b,a){this.V*=b;this.L*=a}Vk(b,a){this.V/=b;this.L/=a}round(){this.V=Math.round(this.V);this.L=Math.round(this.L)}floor(){this.V=Math.floor(this.V);this.L=Math.floor(this.L)}ceil(){this.V=
Math.ceil(this.V);this.L=Math.ceil(this.L)}angle(){return d.bL(0,0,this.V,this.L)}Kfa(){return this.V*this.V+this.L*this.L}length(){return Math.sqrt(this.Kfa())}jga(b,a){const e=this.V*a-this.L*b;this.L=this.L*a+this.V*b;this.V=e}rotate(b){0!==b&&this.jga(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.V+=Math.cos(b)*a,this.L+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.V/=b,this.L/=b)}W(b,a){this.V=d.W(this.V,b,a);this.L=d.W(this.L,b,a)}}}
{"use strict";const d=self.m;d.Rect=class{constructor(b,a,e,c){this.T=this.$=this.K=this.N=0;b instanceof d.Rect?this.pa(b):this.set(b||0,a||0,e||0,c||0)}set(b,a,e,c){this.N=+b;this.K=+a;this.$=+e;this.T=+c}wi(b,a,e,c){b=+b;a=+a;this.N=b;this.K=a;this.$=b+ +e;this.T=a+ +c}pa(b){this.N=+b.N;this.K=+b.K;this.$=+b.$;this.T=+b.T}clone(){return new d.Rect(this.N,this.K,this.$,this.T)}Yc(b){return this.N===b.N&&this.K===b.K&&this.$===b.$&&this.T===b.T}nga(b){this.$=+b}toArray(){return[this.N,this.K,this.$,
this.T]}uga(){new DOMRect(this.N,this.K,this.width(),this.height())}vh(b,a){b[a++]=this.N;b[a++]=this.K;b[a++]=this.$;b[a]=this.T}Dga(b,a){b[a++]=this.N;b[a++]=this.K;b[a++]=this.$;b[a++]=this.K;b[a++]=this.$;b[a++]=this.T;b[a++]=this.N;b[a]=this.T}width(){return this.$-this.N}height(){return this.T-this.K}Dt(){return(this.N+this.$)/2}Et(){return(this.K+this.T)/2}offset(b,a){b=+b;a=+a;this.N+=b;this.K+=a;this.$+=b;this.T+=a}offsetLeft(b){this.N+=+b}offsetTop(b){this.K+=+b}Wfa(b){this.$+=+b}Vfa(b){this.T+=
+b}tD(b,a){b=+b;a=+a;this.N-=b;this.K-=a;this.$+=b;this.T+=a}multiply(b,a){this.N*=b;this.K*=a;this.$*=b;this.T*=a}Vk(b,a){this.N/=b;this.K/=a;this.$/=b;this.T/=a}sga(){const b=this.N;this.N=this.$;this.$=b}Nq(){const b=this.K;this.K=this.T;this.T=b}UL(b){const a=this.K;this.K=+b-this.T;this.T=+b-a}round(){this.N=Math.round(this.N);this.K=Math.round(this.K);this.$=Math.round(this.$);this.T=Math.round(this.T)}kga(){this.N=Math.floor(this.N);this.K=Math.floor(this.K);this.$=Math.ceil(this.$);this.T=
Math.ceil(this.T)}floor(){this.N=Math.floor(this.N);this.K=Math.floor(this.K);this.$=Math.floor(this.$);this.T=Math.floor(this.T)}ceil(){this.N=Math.ceil(this.N);this.K=Math.ceil(this.K);this.$=Math.ceil(this.$);this.T=Math.ceil(this.T)}W(b,a,e,c){this.N<b&&(this.N=+b);this.K<a&&(this.K=+a);this.$>e&&(this.$=+e);this.T>c&&(this.T=+c)}SV(){0>this.N&&(this.N=0);1<this.K&&(this.K=1);1<this.$&&(this.$=1);0>this.T&&(this.T=0)}normalize(){this.N>this.$&&this.sga();this.K>this.T&&this.Nq()}uD(b){return!(b.$<
this.N||b.T<this.K||b.N>this.$||b.K>this.T)}zfa(b,a,e){return!(b.$+a<this.N||b.T+e<this.K||b.N+a>this.$||b.K+e>this.T)}Mf(b,a){return b>=this.N&&b<=this.$&&a>=this.K&&a<=this.T}Lfa(b){this.N=d.td(b.N,b.$,this.N);this.K=d.td(b.K,b.T,this.K);this.$=d.td(b.N,b.$,this.$);this.T=d.td(b.K,b.T,this.T)}}}
{"use strict";const d=self.m;d.nd=class{constructor(b,a,e,c,f,k,g,l){this.ec=this.cc=this.tc=this.sc=this.kc=this.jc=this.Kb=this.Jb=0;b instanceof d.nd?this.pa(b):this.set(b||0,a||0,e||0,c||0,f||0,k||0,g||0,l||0)}set(b,a,e,c,f,k,g,l){this.Jb=+b;this.Kb=+a;this.jc=+e;this.kc=+c;this.sc=+f;this.tc=+k;this.cc=+g;this.ec=+l}zW(b,a,e,c){this.set(b,a,e,a,e,c,b,c)}pa(b){this.Jb=b.Jb;this.Kb=b.Kb;this.jc=b.jc;this.kc=b.kc;this.sc=b.sc;this.tc=b.tc;this.cc=b.cc;this.ec=b.ec}Yc(b){return this.Jb===b.Jb&&this.Kb===
b.Kb&&this.jc===b.jc&&this.kc===b.kc&&this.sc===b.sc&&this.tc===b.tc&&this.cc===b.cc&&this.ec===b.ec}toArray(){return[this.Jb,this.Kb,this.jc,this.kc,this.sc,this.tc,this.cc,this.ec]}vh(b,a){b[a++]=this.Jb;b[a++]=this.Kb;b[a++]=this.jc;b[a++]=this.kc;b[a++]=this.sc;b[a++]=this.tc;b[a++]=this.cc;b[a]=this.ec}Ega(b,a,e){b[a++]=this.Jb;b[a++]=this.Kb;b[a++]=e;b[a++]=this.jc;b[a++]=this.kc;b[a++]=e;b[a++]=this.sc;b[a++]=this.tc;b[a++]=e;b[a++]=this.cc;b[a++]=this.ec;b[a]=e}offset(b,a){b=+b;a=+a;this.Jb+=
b;this.Kb+=a;this.jc+=b;this.kc+=a;this.sc+=b;this.tc+=a;this.cc+=b;this.ec+=a}round(){this.Jb=Math.round(this.Jb);this.Kb=Math.round(this.Kb);this.jc=Math.round(this.jc);this.kc=Math.round(this.kc);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc);this.cc=Math.round(this.cc);this.ec=Math.round(this.ec)}floor(){this.Jb=Math.floor(this.Jb);this.Kb=Math.floor(this.Kb);this.jc=Math.floor(this.jc);this.kc=Math.floor(this.kc);this.sc=Math.floor(this.sc);this.tc=Math.floor(this.tc);this.cc=Math.floor(this.cc);
this.ec=Math.floor(this.ec)}ceil(){this.Jb=Math.ceil(this.Jb);this.Kb=Math.ceil(this.Kb);this.jc=Math.ceil(this.jc);this.kc=Math.ceil(this.kc);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc);this.cc=Math.ceil(this.cc);this.ec=Math.ceil(this.ec)}Lj(b){this.Jb=b.N;this.Kb=b.K;this.jc=b.$;this.kc=b.K;this.sc=b.$;this.tc=b.T;this.cc=b.N;this.ec=b.T}TL(b,a){0===a?this.Lj(b):this.DD(b,Math.sin(a),Math.cos(a))}DD(b,a,e){const c=b.N*a,f=b.K*a,k=b.$*a;a*=b.T;const g=b.N*e,l=b.K*e,p=b.$*e;b=b.T*e;this.Jb=
g-f;this.Kb=l+c;this.jc=p-f;this.kc=l+k;this.sc=p-a;this.tc=b+k;this.cc=g-a;this.ec=b+c}oL(b){b.set(Math.min(this.Jb,this.jc,this.sc,this.cc),Math.min(this.Kb,this.kc,this.tc,this.ec),Math.max(this.Jb,this.jc,this.sc,this.cc),Math.max(this.Kb,this.kc,this.tc,this.ec))}Mf(b,a){var e=this.jc-this.Jb,c=this.kc-this.Kb;const f=this.sc-this.Jb,k=this.tc-this.Kb;b-=this.Jb;a-=this.Kb;var g=e*e+c*c;let l=e*f+c*k;c=e*b+c*a;const p=f*f+k*k,r=f*b+k*a;let v=1/(g*p-l*l);e=(p*c-l*r)*v;g=(g*r-l*c)*v;if(0<=e&&0<
g&&1>e+g)return!0;e=this.cc-this.Jb;c=this.ec-this.Kb;g=e*e+c*c;l=e*f+c*k;c=e*b+c*a;v=1/(g*p-l*l);e=(p*c-l*r)*v;g=(g*r-l*c)*v;return 0<=e&&0<g&&1>e+g}Dt(){return(this.Jb+this.jc+this.sc+this.cc)/4}Et(){return(this.Kb+this.kc+this.tc+this.ec)/4}rL(b){var a=b.Dt(),e=b.Et();if(this.Mf(a,e))return!0;a=this.Dt();e=this.Et();if(b.Mf(a,e))return!0;a=this.Jb;e=this.Kb;const c=this.jc,f=this.kc,k=this.sc,g=this.tc,l=this.cc,p=this.ec;return d.CD(a,e,c,f,b)||d.CD(c,f,k,g,b)||d.CD(k,g,l,p,b)||d.CD(l,p,a,e,b)}iga(){const b=
this.Jb,a=this.Kb;this.Jb=this.jc;this.Kb=this.kc;this.jc=this.sc;this.kc=this.tc;this.sc=this.cc;this.tc=this.ec;this.cc=b;this.ec=a}}}
{"use strict";const d=self.m,b=[0,0,1,0,1,1,0,1],a=d.B(d.nd);d.Fo=class extends d.fa{constructor(e,c=!0){super();e||(e=b);this.Ud=Float64Array.from(e);this.RA=new d.Rect;this.$p=!0;this.ah=c}g(){}sW(){return this.Ud.length/2}ED(e){this.Ud.length===e.length?this.Ud.set(e):this.Ud=Float64Array.from(e);this.$p=!0}mga(){this.ED(b)}pa(e){this.ED(e.Ud)}RL(){this.$p=!0}Cea(){if(this.$p){var e=this.Ud,c=e[0],f=e[1],k=c,g=f;for(let l=0,p=e.length;l<p;l+=2){const r=e[l],v=e[l+1];r<c&&(c=r);r>k&&(k=r);v<f&&
(f=v);v>g&&(g=v)}this.RA.set(c,f,k,g);this.$p=!1}}Lj(e){let c=this.Ud;8!==c.length&&(this.Ud=c=new Float64Array(8));c[0]=e.N-NaN;c[1]=e.K-NaN;c[2]=e.$-NaN;c[3]=e.K-NaN;c[4]=e.$-NaN;c[5]=e.T-NaN;c[6]=e.N-NaN;c[7]=e.T-NaN;this.RA.pa(e);this.RA.offset(NaN,NaN);this.$p=!1}SL(e,c,f){a.pa(e);a.offset(c,f);this.ED(a.toArray());this.$p=!0}transform(e,c,f){let k=0,g=1;0!==f&&(k=Math.sin(f),g=Math.cos(f));this.aM(e,c,k,g)}aM(e,c,f,k){const g=this.Ud;for(let l=0,p=g.length;l<p;l+=2){const r=l+1,v=g[l]*e,q=g[r]*
c;g[l]=v*k-q*f;g[r]=q*k+v*f}this.$p=!0}offset(e,c){const f=this.Ud;for(let k=0,g=f.length;k<g;k+=2)f[k]+=e,f[k+1]+=c}Mf(e,c){const f=this.Ud;if(e===f[0]&&c===f[1])return!0;this.Cea();var k=this.RA;const g=k.N-110,l=k.K-101,p=k.$+131;k=k.T+120;let r,v,q,x,u,w,z,A;g<e?(r=g,q=e):(r=e,q=g);l<c?(v=l,x=c):(v=c,x=l);p<e?(u=p,z=e):(u=e,z=p);k<c?(w=k,A=c):(w=c,A=k);let E=0,G=0;for(let D=0,H=f.length;D<H;D+=2){var P=(D+2)%H;const J=f[D],M=f[D+1],Q=f[P];P=f[P+1];d.Fm(g,l,e,c,r,q,v,x,J,M,Q,P)&&++E;d.Fm(p,k,e,
c,u,z,w,A,J,M,Q,P)&&++G}return 1===E%2||1===G%2}Kx(e,c,f){const k=e.Ud,g=this.Ud;if(this.Mf(k[0]+c,k[1]+f)||e.Mf(g[0]-c,g[1]-f))return!0;for(let p=0,r=g.length;p<r;p+=2){var l=(p+2)%r;e=g[p];const v=g[p+1],q=g[l];l=g[l+1];let x,u,w,z;e<q?(x=e,w=q):(x=q,w=e);v<l?(u=v,z=l):(u=l,z=v);for(let A=0,E=k.length;A<E;A+=2){const G=(A+2)%E;if(d.Fm(e,v,q,l,x,w,u,z,k[A]+c,k[A+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}Xf(){return this.ah}}}
{"use strict";const d=self.m;d.Bu=class extends d.fa{constructor(b){super();this.zk=new Map;if(b)for(const [a,e,c]of b)this.Set(a,e,c)}g(){this.Ic();this.zk=null}Ic(){const b=this.zk;for(const a of b.values())a.clear();b.clear()}Set(b,a,e){const c=this.zk;let f=c.get(b);f||(f=new Map,c.set(b,f));f.set(a,e)}aa(b,a){return(b=this.zk.get(b))?b.get(a):b}hz(b){return(b=this.zk.get(b))?b.has(void 0):!1}Go(b,a){const e=this.zk,c=e.get(b);c&&c.delete(a)&&0===c.size&&e.delete(b)}HM(b){const a=this.zk,e=a.get(b);
e&&(e.clear(),a.delete(b));for(const [c,f]of a.entries())f.delete(b)&&0===f.size&&a.delete(c)}Rm(){let b=0;for(const a of this.zk.values())b+=a.size;return b}*values(){for(const b of this.zk.values())yield*b.values()}*entries(){for(const [b,a]of this.zk.entries())for(const [e,c]of a.entries())yield[b,e,c]}}}
{"use strict";const d=self.m;d.TD=class extends d.fa{constructor(){super();this.Zn=new Set;this.NA=[];this.Gw=!1}g(){this.Ic()}Ic(){this.Zn.clear();d.C(this.NA);this.Gw=!1}wc(b){this.Zn.has(b)||(this.Zn.add(b),this.Gw||this.NA.push(b))}hz(b){return this.Zn.has(b)}Go(b){this.Zn.delete(b)&&(this.Gw=!0)}Rm(){return this.Zn.size}Zo(){return 0===this.Zn.size}pE(){this.Gw&&(this.Eaa(),this.Gw=!1);return this.NA}Eaa(){const b=this.NA;d.C(b);for(const a of this.Zn)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.Wt=class k{constructor(){}static Q1(g){this.AG();return[...b.keys()].includes(g)}static q9(g){const l=f.get(g);if(l)return d.get(l);if(k.Q1(g))return d.get(g);if(c.has(g))return c.get(g)}static Po(g){this.AG();const l=k.q9(g);return l?l:e.get(g)}static AG(){0===d.size&&(this.zb("default",()=>{}),this.zb("noease",this.B2),this.zb("easeinsine",this.tZ),this.zb("easeoutsine",
this.CZ),this.zb("easeinoutsine",this.pZ),this.zb("easeinelastic",this.eZ),this.zb("easeoutelastic",this.xZ),this.zb("easeinoutelastic",this.kZ),this.zb("easeinback",this.bZ),this.zb("easeoutback",this.uZ),this.zb("easeinoutback",this.gZ),this.zb("easeinbounce",this.JM),this.zb("easeoutbounce",this.jE),this.zb("easeinoutbounce",this.hZ),this.zb("easeincubic",this.dZ),this.zb("easeoutcubic",this.wZ),this.zb("easeinoutcubic",this.jZ),this.zb("easeinquad",this.qZ),this.zb("easeoutquad",this.zZ),this.zb("easeinoutquad",
this.mZ),this.zb("easeinquart",this.rZ),this.zb("easeoutquart",this.AZ),this.zb("easeinoutquart",this.nZ),this.zb("easeinquint",this.sZ),this.zb("easeoutquint",this.BZ),this.zb("easeinoutquint",this.oZ),this.zb("easeincirc",this.cZ),this.zb("easeoutcirc",this.vZ),this.zb("easeinoutcirc",this.iZ),this.zb("easeinexpo",this.fZ),this.zb("easeoutexpo",this.yZ),this.zb("easeinoutexpo",this.lZ),this.pQ("cubicbezier",this.aZ),this.pQ("spline",this.DZ))}static zb(g,l){k.uG(g,l,"predefined")}static pQ(g,l){k.uG(g,
l,"private")}static TW(g,l){this.AG();k.uG(g,l,"custom",void 0)}static uG(g,l,p,r){switch(p){case "predefined":d.set(g,l);b.set(g,l);break;case "custom":r?(a.has(r)||a.set(r,new Map),a.get(r).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static B2(g,l,p,r){return p*g/r+l}static qZ(g,l,p,r){return p*(g/=r)*g+l}static zZ(g,l,p,r){return-p*(g/=r)*(g-2)+l}static mZ(g,l,p,r){return 1>(g/=r/2)?p/2*g*g+l:-p/2*(--g*(g-2)-1)+l}static dZ(g,
l,p,r){return p*(g/=r)*g*g+l}static wZ(g,l,p,r){return p*((g=g/r-1)*g*g+1)+l}static jZ(g,l,p,r){return 1>(g/=r/2)?p/2*g*g*g+l:p/2*((g-=2)*g*g+2)+l}static rZ(g,l,p,r){return p*(g/=r)*g*g*g+l}static AZ(g,l,p,r){return-p*((g=g/r-1)*g*g*g-1)+l}static nZ(g,l,p,r){return 1>(g/=r/2)?p/2*g*g*g*g+l:-p/2*((g-=2)*g*g*g-2)+l}static sZ(g,l,p,r){return p*(g/=r)*g*g*g*g+l}static BZ(g,l,p,r){return p*((g=g/r-1)*g*g*g*g+1)+l}static oZ(g,l,p,r){return 1>(g/=r/2)?p/2*g*g*g*g*g+l:p/2*((g-=2)*g*g*g*g+2)+l}static tZ(g,
l,p,r){return-p*Math.cos(g/r*(Math.PI/2))+p+l}static CZ(g,l,p,r){return p*Math.sin(g/r*(Math.PI/2))+l}static pZ(g,l,p,r){return-p/2*(Math.cos(Math.PI*g/r)-1)+l}static fZ(g,l,p,r){return 0===g?l:p*Math.pow(2,10*(g/r-1))+l}static yZ(g,l,p,r){return g===r?l+p:p*(-Math.pow(2,-10*g/r)+1)+l}static lZ(g,l,p,r){return 0===g?l:g===r?l+p:1>(g/=r/2)?p/2*Math.pow(2,10*(g-1))+l:p/2*(-Math.pow(2,-10*--g)+2)+l}static cZ(g,l,p,r){return-p*(Math.sqrt(1-(g/=r)*g)-1)+l}static vZ(g,l,p,r){return p*Math.sqrt(1-(g=g/r-
1)*g)+l}static iZ(g,l,p,r){return 1>(g/=r/2)?-p/2*(Math.sqrt(1-g*g)-1)+l:p/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static eZ(g,l,p,r){let v=0,q=p;if(0===g)return l;if(1===(g/=r))return l+p;v||(v=.3*r);q<Math.abs(p)?(q=p,p=v/4):p=v/(2*Math.PI)*Math.asin(p/q);return-(q*Math.pow(2,10*--g)*Math.sin(2*(g*r-p)*Math.PI/v))+l}static xZ(g,l,p,r){let v,q=0,x=p;if(0===g)return l;if(1===(g/=r))return l+p;q||(q=.3*r);x<Math.abs(p)?(x=p,v=q/4):v=q/(2*Math.PI)*Math.asin(p/x);return x*Math.pow(2,-10*g)*Math.sin(2*(g*r-v)*
Math.PI/q)+p+l}static kZ(g,l,p,r){let v,q=0,x=p;if(0===g)return l;if(2===(g/=r/2))return l+p;q||(q=.3*r*1.5);x<Math.abs(p)?(x=p,v=q/4):v=q/(2*Math.PI)*Math.asin(p/x);return 1>g?-.5*x*Math.pow(2,10*--g)*Math.sin(2*(g*r-v)*Math.PI/q)+l:x*Math.pow(2,-10*--g)*Math.sin(2*(g*r-v)*Math.PI/q)*.5+p+l}static bZ(g,l,p,r,v){void 0===v&&(v=1.70158);return p*(g/=r)*g*((v+1)*g-v)+l}static uZ(g,l,p,r,v){void 0===v&&(v=1.70158);return p*((g=g/r-1)*g*((v+1)*g+v)+1)+l}static gZ(g,l,p,r,v){void 0===v&&(v=1.70158);return 1>
(g/=r/2)?p/2*g*g*(((v*=1.525)+1)*g-v)+l:p/2*((g-=2)*g*(((v*=1.525)+1)*g+v)+2)+l}static JM(g,l,p,r){return p-k.jE(r-g,0,p,r)+l}static jE(g,l,p,r){return(g/=r)<1/2.75?7.5625*p*g*g+l:g<2/2.75?p*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?p*(7.5625*(g-=2.25/2.75)*g+.9375)+l:p*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static hZ(g,l,p,r){return g<r/2?.5*k.JM(2*g,0,p,r)+l:.5*k.jE(2*g-r,0,p,r)+.5*p+l}static aZ(g,l,p,r,v){return l+3*g*(p-l)+3*g**2*(l+r-2*p)+g**3*(v-l+3*p-3*r)}static DZ(g,l,p,r,v,q,x,u,w,z){if(r===
v&&q===x)return g;if(1==g)g=1;else{for(var A=0,E=1,G=z[E];10!=E&&G<=g;)E++,G=z[E],A+=.1;E--;G=z[E];z=A+(g-G)/(z[E+1]-G)*.1;u=u-3*q+3*r-l;q=3*q-6*r+3*l;l=3*(r-l);r=3*u*z*z+2*q*z+l;if(0!==r)if(.02<=r)for(A=0;4>A;++A)z-=(((u*z+q)*z+l)*z-g)/(3*u*z*z+2*q*z+l);else{r=A;A+=.1;E=0;let P;do z=r+(A-r)/2,G=((u*z+q)*z+l)*z-g,0<G?A=z:r=z,G=1E-7<Math.abs(G),P=10>++E;while(G&&P)}g=z}return(((w-3*x+3*v-p)*g+(3*x-6*v+3*p))*g+3*(v-p))*g}static c_(g,l,p,r){const v=[];r=r-3*p+3*l-g;p=3*p-6*l+3*g;g=3*(l-g);for(let q=
0;11>q;++q)l=.1*q,v.push(((r*l+p)*l+g)*l);return v}}}{"use strict";const d=self.m;d.Wma=class{constructor(){this.hU=[]}g(){this.Ic();this.hU=null}Ic(){d.Wea(this.hU)}}}"use strict";
self.m.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.Bfa=this.KL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Bfa)throw Error(`cannot stop async event '${this.type}' propagation`);this.KL=!0}};
{"use strict";const d=self.m;d.Event.s0=class extends d.fa{constructor(b){super();this.wa=b;this.wf=[];this.Zr=new Set;this.Cf=[];this.Is=new Set;this.Qv=0;this.Vs=[]}g(){0<this.Qv||(d.C(this.wf),this.Zr.clear(),d.C(this.Cf),this.Is.clear(),d.C(this.Vs),d.g(this))}nQ(b,a){this.sR()?this.Vs.push({EL:"add",vi:b,capture:a}):a?this.Zr.has(b)||(this.wf.push(b),this.Zr.add(b)):this.Is.has(b)||(this.Cf.push(b),this.Is.add(b))}Saa(b,a){this.sR()?this.Vs.push({EL:"remove",vi:b,capture:a}):a?this.Zr.has(b)&&
(this.Zr.delete(b),d.Kq(this.wf,b)):this.Is.has(b)&&(this.Is.delete(b),d.Kq(this.Cf,b))}a$(){return!this.wf.length&&!this.Cf.length}sR(){return 0<this.Qv}Baa(){const b=new Set,a=new Set;for(const e of this.Vs)if("add"===e.EL)this.nQ(e.vi,e.capture),e.capture?a.delete(e.vi):b.delete(e.vi);else if("remove"===e.EL)e.capture?(this.Zr.delete(e.vi),a.add(e.vi)):(this.Is.delete(e.vi),b.add(e.vi));else throw Error("invalid op");d.rh(this.Cf,b);d.rh(this.wf,a);d.C(this.Vs)}d9(b){this.Qr();let a=!1;for(let e=
0,c=this.wf.length;e<c;++e)if(this.wf[e](b),b.KL){a=!0;break}if(!a)for(let e=0,c=this.Cf.length;e<c&&(this.Cf[e](b),!b.KL);++e);this.Pr();return!b.defaultPrevented}f9(b){this.Qr();for(let a=0,e=this.wf.length;a<e;++a)this.wf[a](b);for(let a=0,e=this.Cf.length;a<e;++a)this.Cf[a](b);this.Pr();return!0}Qr(){this.Qv++}Pr(){this.Qv--;0===this.Qv&&0<this.Vs.length&&this.Baa()}yr(b){b?this.Qr():this.Pr()}PQ(b){const a=[];this.Qr();for(let c=0,f=this.wf.length;c<f;++c){var e=this.wf[c](b);e instanceof Promise&&
a.push(e)}for(let c=0,f=this.Cf.length;c<f;++c)e=this.Cf[c](b),e instanceof Promise&&a.push(e);this.Pr();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async a9(b){return await this.PQ(b)}async b9(b){this.Qr();for(let e=0,c=this.wf.length;e<c;++e){var a=this.wf[e](b);a instanceof Promise&&await a}for(let e=0,c=this.Cf.length;e<c;++e)a=this.Cf[e](b),a instanceof Promise&&await a;this.Pr();return!b.defaultPrevented}*c9(b){this.Qr();for(let e=0,c=this.wf.length;e<c;++e){var a=
this.wf[e](b);d.Vm(a)&&(yield*a)}for(let e=0,c=this.Cf.length;e<c;++e)a=this.Cf[e](b),d.Vm(a)&&(yield*a);this.Pr()}}}
{"use strict";const d=self.m;d.Event.Cb=class extends d.fa{constructor(){super();this.Pp=new Map;this.oI=!1}g(){if(this.oI)throw Error("already released");this.NX();this.oI=!0;d.g(this)}Nr(){return this.oI}NX(){for(let b of this.Pp.values())b.g();this.Pp.clear()}up(b,a){let e=this.Pp.get(b);return e?e:a?(e=d.B(d.Event.s0,b),this.Pp.set(b,e),e):null}WE(b){return this.Pp.has(b)}addEventListener(b,a,e){this.up(b,!0).nQ(a,!!e)}removeEventListener(b,a,e){let c=this.up(b,!1);c&&(c.Saa(a,!!e),c.a$()&&this.Pp.delete(b))}dispatchEvent(b){const a=
this.up(b.type,!1);return a?b.cancelable?a.d9(b):a.f9(b):!0}async jL(b){const a=this.up(b.type,!1);return a?await a.a9(b):!0}ffa(b){const a=this.up(b.type,!1);return a?a.PQ(b):!0}async efa(b){const a=this.up(b.type,!1);a&&await a.b9(b)}gfa(b){const a=this.up(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.c9(b)}yr(b){for(const a of this.Pp.values())a.yr(b)}}}
{"use strict";const d=self.m,b="undefined"!==typeof requestIdleCallback;let a=[],e=-1,c=0;function f(p){e=b&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:p)}function k(p){e=-1;if(a.length){var r=performance.now(),v=0;do{g(a.shift());var q=performance.now();++v;var x=(q-r)/v*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof p?x<p.timeRemaining():12>q-r+x));-1===e&&a.length&&f(Math.max(16-(q-r),4))}}function g(p){let r;try{r=p.vi()}catch(v){p.reject(v);return}p.resolve(r)}let l=d.EF.hz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.Zk=function(p){let r=null;d.yt&&(r=d.Fy());return new Promise((v,q)=>{a.push({vi:p,resolve:v,reject:q,stack:r});l?g(a.pop()):-1===e&&f(16)})};d.Zk.CP=function(p){if(p)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.m;let b=-1;function a(){b=-1}d.By=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let g=Date.now();for(let l of f)if(l.C7(g)){let p=l.Mp;if(-1===c||p<c)c=p}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.V0=class{constructor(g,l){this.Yr=g;this.XC=1E3*l;this.Mp=0;this.Hb=!1}Mc(){let g=d.By();this.Mp=g+this.XC;this.Hb||(f.add(this),this.Hb=!0);-1===e?(c=this.Mp,e=self.setTimeout(k,this.XC+
100)):this.Mp<c&&c>g+1E3&&(self.clearTimeout(e),c=this.Mp,e=self.setTimeout(k,this.XC+100))}C7(g){return g>=this.Mp?this.Yr()?(this.Mp=g+this.XC,!0):this.Hb=!1:!0}FX(){this.Hb&&(f.delete(this),this.Hb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}g(){this.FX();this.Yr=null}}}
{"use strict";const d=self.m;d.Ub=class b{constructor(a){this.os=!1;this.qI=a}yy(){this.os||(this.os=!0,this.qI&&(this.qI(),this.qI=null))}g(){this.yy()}static g(a){return new b(()=>a.g())}static Jc(a,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.Uq;for(let g of e)a.addEventListener(g,c,f),k.wc(d.B(d.Ub,()=>a.removeEventListener(g,c,f)));return k}a.addEventListener(e,
c,f);return d.B(d.Ub,()=>a.removeEventListener(e,c,f))}};d.Aqa=class extends d.Ub{};d.Uq=class extends d.Ub{constructor(...b){super();this.pd=new Set;for(let a of b)this.wc(a)}wc(...b){if(this.os)throw Error("already disposed");for(let a of b)this.pd.add(a)}Jh(b){if(this.os)throw Error("already disposed");this.pd.delete(b)}yy(){if(this.os)throw Error("already disposed");this.os=!0;for(let b of this.pd)b.yy();this.pd.clear();this.pd=null}g(){this.yy()}}}
{"use strict";const d=self.m;d.mr=class extends d.fa{constructor(){super();this.ct=this.ix=this.L=this.UA=0}wc(b){this.L=+b-this.UA;this.ix=this.ct+this.L;this.UA=this.ix-this.ct-this.L;this.ct=this.ix}aa(){return this.ct}Mc(){this.ct=this.ix=this.L=this.UA=0}Set(b){this.ix=this.L=this.UA=0;this.ct=+b}g(){}}}
{"use strict";const d=self.m,b={GF:function(a){this.HW=a;this.left=this.right=this.HW.nb;this.parent=null;this.color=!1;this.key=null},hp:function(a){this.size=0;this.nb=new b.GF(this);this.nb.color=!1;this.root=this.nb;this.root.parent=this.nb;this.compare=a||this.bfa}};ya=b.hp.prototype;ya.bfa=function(a,e){return a<e?-1:e<a?1:0};ya.clone=function(){var a=new b.hp(this.compare);a.wfa(this);return a};ya.clear=function(){this.size=0;this.nb=new b.GF(this);this.nb.color=!1;this.root=this.nb;this.root.parent=
this.nb};ya.Lx=function(a){var e=a.right;a.right=e.left;e.left!=this.nb&&(e.left.parent=a);e.parent=a.parent;a.parent==this.nb?this.root=e:a==a.parent.left?a.parent.left=e:a.parent.right=e;e.left=a;a.parent=e};ya.Ux=function(a){var e=a.left;a.left=e.right;e.right!=this.nb&&(e.right.parent=a);e.parent=a.parent;a.parent==this.nb?this.root=e:a==a.parent.right?a.parent.right=e:a.parent.left=e;e.right=a;a.parent=e};ya.tt=function(a){if(this.contains(a))this.Ix(a).key=a;else{var e=new b.GF(this);e.key=
a;a=this.nb;for(var c=this.root;c!=this.nb;)a=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=a;a==this.nb?this.root=e:0>this.compare(e.key,a.key)?a.left=e:a.right=e;e.left=this.nb;e.right=this.nb;e.color=!0;this.xfa(e);this.size++}};ya.xfa=function(a){for(;a!=this.nb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var e=a.parent.parent.right;1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Lx(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.nb&&this.Ux(a.parent.parent))}else e=a.parent.parent.left,1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Ux(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.nb&&this.Lx(a.parent.parent));this.root.color=!1};ya.dfa=function(a){var e=a.left==this.nb||a.right==this.nb?a:this.Do(a);var c=e.left!=this.nb?e.left:e.right;c.parent=e.parent;e.parent==
this.nb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=a&&(a.key=e.key);0==e.color&&this.cfa(c);this.size--};ya.cfa=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var e=a.parent.right;1==e.color&&(e.color=!1,a.parent.color=!0,this.Lx(a.parent),e=a.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,a=a.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Ux(e),e=a.parent.right),e.color=a.parent.color,a.parent.color=!1,e.right.color=!1,this.Lx(a.parent),
a=this.root)}else e=a.parent.left,1==e.color&&(e.color=!1,a.parent.color=!0,this.Ux(a.parent),e=a.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,a=a.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Lx(e),e=a.parent.left),e.color=a.parent.color,a.parent.color=!1,e.left.color=!1,this.Ux(a.parent),a=this.root);a.color=!1};ya.remove=function(a){a=this.Ix(a);if(a!=this.nb){var e=a.key;this.dfa(a);return e}return null};ya.min=function(a){for(;a.left!=this.nb;)a=a.left;return a};ya.max=
function(a){for(;a.right!=this.nb;)a=a.right;return a};ya.Do=function(a){if(a.right!=this.nb)return this.min(a.right);for(var e=a.parent;e!=this.nb&&a==e.right;)a=e,e=e.parent;return e};ya.Ix=function(a){for(var e=this.root;e!=this.nb&&0!=this.compare(e.key,a);)e=0>this.compare(a,e.key)?e.left:e.right;return e};ya.contains=function(a){return null!=this.Ix(a).key};ya.pL=function(){var a=[];this.forEach(function(e){a.push(e)});return a};ya.wfa=function(a){if("array"==b.bM(a))for(var e=0;e<a.length;e++)this.tt(a[e]);
else if("function"==b.bM(a.forEach))a.forEach(this.tt,this);else if("function"==b.bM(a.pL))for(a=a.pL(),e=0;e<a.length;e++)this.tt(a[e]);else if("object"==b.bM(a))for(e in a)this.tt(a[e])};ya.range=function(a,e){var c=[];this.yga(function(f){c.push(f)},a,e);return c};ya.yga=function(a,e,c){if(!this.zt())for(e=this.Ix(e),c=this.Ix(c);e!=c&&!a.call(void 0,e.key,this);)e=this.Do(e)};ya.forEach=function(a,e){if(!this.zt())for(var c=this.min(this.root);c!=this.nb;c=this.Do(c))a.call(e,c.key,c.key,this)};
ya.some=function(a,e){if(this.zt())return!1;for(var c=this.min(this.root);c!=this.nb;c=this.Do(c))if(a.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(a,e){if(this.zt())return!1;for(var c=this.min(this.root);c!=this.nb;c=this.Do(c))if(!a.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(a,e){var c=[];if(this.zt())return c;for(var f=this.min(this.root);f!=this.nb;f=this.Do(f))c.push(a.call(e,f.key,f.key,this));return c};ya.filter=function(a,e){var c=[];if(this.zt())return c;
for(var f=this.min(this.root);f!=this.nb;f=this.Do(f))a.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.zt=function(){return 0==this.size};d.hp=class extends d.fa{constructor(a){super();this.fi=new b.hp(a);this.qs=!1;this.uq=new Set;this.vq=new Set}wc(a){this.qs?this.fi.contains(a)?this.vq.delete(a):this.uq.add(a):this.fi.tt(a)}Jh(a){this.qs?this.fi.contains(a)?this.vq.add(a):this.uq.delete(a):this.fi.remove(a)}hz(a){return this.qs?this.uq.has(a)?!0:!this.vq.has(a)&&this.fi.contains(a):this.fi.contains(a)}Ic(){this.fi.clear();
this.uq.clear();this.vq.clear()}toArray(){if(this.qs)throw Error("cannot be used in queueing mode");return this.fi.pL()}Rm(){return this.fi.size+this.uq.size-this.vq.size}Zo(){return 0===this.Rm()}Kh(a){a=!!a;if(this.qs!==a&&(this.qs=a,!a)){for(const e of this.vq)this.fi.remove(e);this.vq.clear();for(const e of this.uq)this.fi.tt(e);this.uq.clear()}}*values(){if(!this.Zo()){var a=this.fi;for(let e=a.min(a.root);e!=a.nb;e=a.Do(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.m;d.DF=class{constructor(b=d.hardwareConcurrency){this.bea=b;this.hK=[];this.JH=0}wc(b){return new Promise((a,e)=>{this.hK.push({vi:b,resolve:a,reject:e});this.FR()})}async FR(){if(this.hK.length&&!(this.JH>=this.bea)){this.JH++;var b=this.hK.shift();try{const a=await b.vi();b.resolve(a)}catch(a){b.reject(a)}this.JH--;this.FR()}}}}
{"use strict";const d=self.m;d.d4=class{constructor(b,a,e){this.Yr=b;this.Lda=a;this.Mda=e||2*a;this.ht=-1;this.dC=-Infinity;this.zV=()=>this.naa();this.uda=this.QI=!1;this.Gv=null}v9(){return"undefined"!==typeof d.tX&&d.tX.Hka()?this.Mda:this.Lda}EX(){var b=[];if(-1===this.ht){this.Gv=b;b=d.By();var a=b-this.dC,e=this.v9();a>=e&&this.uda?(this.dC=b,this.cS()):this.ht=self.setTimeout(this.zV,Math.max(e-a,4))}}cS(){this.QI=!0;const b=this.Gv;this.Gv=null;b?this.Yr(...b):this.Yr();this.QI=!1}Mc(){this.QI||
(this.uQ(),this.Gv=null,this.dC=d.By())}naa(){this.ht=-1;this.dC=d.By();this.cS()}uQ(){-1!==this.ht&&(self.clearTimeout(this.ht),this.ht=-1)}g(){this.uQ();this.zV=this.Gv=this.Yr=null}}}"use strict";function gc(d,b){if(!d.ET)throw Error("no get base size callback set");return d.ET(b)}function hc(d){if(!d.XU)throw Error("no redraw callback set");d.XU()}self.m.ooa=class{constructor(){this.Ida=new Map;this.XU=this.$U=this.ET=null}};"use strict";
self.m.noa=class{constructor(d,b){this.Ns=d;this.xda=b;this.Vc=0;gc(this.Ns,b).then(()=>{hc(this.Ns)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);hc(this.Ns)});this.iK=null}g(){if(0>=this.Vc)throw Error("already released");this.Vc--;0===this.Vc&&this.rv()}rv(){if(this.iK){var d=this.Ns;if(!d.$U)throw Error("no release result callback set");d.$U(this.iK);this.iK=null}this.Ns.Ida.delete(this.xda);this.Ns=null}};
{"use strict";const d=self.m;d.$qa="\ufeff";const b=new Set([..."0123456789"]);d.R1=function(p){return b.has(p)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.sz=function(p){return a.has(p)};d.hja=function(p){return[...p].filter(r=>!d.sz(r)).join("")};d.rz=function(p){for(const r of p)if(!d.sz(r))return!1;return!0};d.c2=function(p){return 1===p.length&&32>p.charCodeAt(0)};d.QZ=function(p){return[...p].filter(r=>
!d.c2(r)).join("")};const e=new Set([..."0123456789.+-e"]);d.Uka=function(p){p=p.trim();if(!p.length)return!1;let r=p.charAt(0);if("-"!==r&&!b.has(r))return!1;for(let v of p)if(!e.has(v))return!1;return!0};d.n4=function(p){let r=p.length;for(;0<r&&d.R1(p.charAt(r-1));)--r;return p.substr(0,r)};d.aka=function(p){let r=d.n4(p);p=(p=p.substr(r.length))?(parseInt(p,10)+1).toString():"2";return r+p};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(p){return c.get(p)}
const k=/[&<>"']/g;d.HZ=function(p){return p.replace(k,f)};d.Wia=function(p){p=d.Li(p,"\\","\\\\");p=d.Li(p,'"','\\"');p=d.Li(p,"\t","\\t");p=d.Li(p,"\r","");return d.Li(p,"\n","\\n")};d.Xia=function(p){p=d.Li(p,"&","&amp;");p=d.Li(p,"<","&lt;");p=d.Li(p,">","&gt;");return d.Li(p,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Xt=function(p){return p.replace(g,"\\$&")};d.ija=function(p,r,v=!1){if(!r)return[];v||(p=p.toLowerCase(),r=r.toLowerCase());v=r.length;var q=0;let x=[];for(;-1<(q=p.indexOf(r,
q));)x.push(q),q+=v;return x};d.Li=function(p,r,v){return p.replaceAll(r,()=>v)};d.lna=function(p,r,v){return p.replace(new RegExp(d.Xt(r),"gi"),()=>v)};d.Uoa=function(p,r){"string"===typeof r?p.textContent=r:r.dU?p.textContent=r.toString():(p.innerHTML=r.YL(),r instanceof d.$k&&r.Rea(p))};d.vqa=function(p,r){return p instanceof d.aF||p instanceof d.$k?p.Yc(r):r instanceof d.aF||r instanceof d.$k?r.Yc(p):p===r};d.wqa=function(p,...r){let v=p;for(let q=0,x=r.length;q<x;++q){const u=`{${q}}`;if(!p.includes(u))throw Error(`missing placeholder '${u}' in string substitution`);
v=v.replace(u,r[q].toString())}return v};d.xqa=function(p,...r){let v=p,q=-1,x=-1;for(let u=0,w=r.length;u<w;++u){const z=`{${u}}`;p.includes(z)?(x=u,v=v.replace(z,r[u].toString())):-1===q&&(q=u)}if(0<=q&&0<=x&&q<x)throw Error(`missing placeholder '${q}' in string substitution`);return v};d.yqa=function(p,r){for(let [v,q]of Object.entries(r))p=p.replaceAll(v,q.toString());return p};d.fqa=function(p,r){p=p.toLowerCase();r=r.toLowerCase();return p>r?1:p<r?-1:0};d.nja=function(p,r){r="common."+(r?"dataRates":
"dataSizes")+".";const v=self.jta;if(1024>p)return v(r+"bytes",p);if(1048576>p)return p/=1024,p=10>p?Math.round(10*p)/10:Math.round(p),v(r+"kilobytes",p);if(1073741824>p)return p/=1048576,p=10>p?Math.round(10*p)/10:Math.round(p),v(r+"megabytes",p);if(1099511627776>p)return p/=1073741824,p=10>p?Math.round(10*p)/10:Math.round(p),v(r+"gigabytes",p);p/=1099511627776;p=10>p?Math.round(10*p)/10:Math.round(p);return v(r+"terabytes",p)};const l={Oea:!1,Zea:!0,vfa:!0,Rfa:!0,xW:!0};d.oja=function(p,r){r=Object.assign({},
l,r);d.g2.Zma("common.time");const v=[],q=self.lang,x=self.ita;if(r.Zea){var u=Math.floor(p/86400);0<u&&(p-=86400*u,v.push(x(".days",null,u)))}r.vfa&&(u=Math.floor(p/3600),0<u||v.length)&&(p-=3600*u,v.push(x(".hours",null,u)));r.Rfa&&(u=Math.floor(p/60),0<u||v.length||!r.xW)&&(p-=60*u,v.push(x(".minutes",null,u)));r.xW&&v.push(x(".seconds",null,Math.floor(p%60)));p=(r.Oea?q(".approx-prefix"):"")+v.join(q(".separator"));d.g2.Qma();return p};d.Pra=function(p,r){let v=0>p?"-":"";p=Math.abs(p);p=p.toString();
r-=p.length;for(let q=0;q<r;++q)v+="0";return v+p};d.zqa=function(p){return p.toLowerCase().replace(/\b\w/g,r=>r.toUpperCase())};d.xia=function(p,r){p=p.split(".").map(v=>v.trim());r=r.split(".").map(v=>v.trim());d.wW(p);d.wW(r);p=p.map(v=>parseInt(v,10));r=r.map(v=>parseInt(v,10));for(let v=0;4>v;++v){const q=p[v]-r[v];if(0!==q)return 0>q?-1:1}return 0};d.Iia=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,p=>{const r=Math.floor(16*Math.random());return("x"===p?r:r&3|8).toString(16)})};
d.tqa=function(p,r){if(p.length!==r.length)throw Error("strings must be same length");let v=0;for(let q=0,x=p.length;q<x;++q)p.charAt(q)!==r.charAt(q)&&++v;return v};d.uqa=function(p,r){if(0===p.length)return r.length;if(0===r.length)return p.length;let v,q,x,u;if(p.length>r.length){var w=p;p=r;r=w}u=Array(p.length+1);for(w=0;w<=p.length;w++)u[w]=w;for(w=1;w<=r.length;w++){q=w;for(v=1;v<=p.length;v++)x=r[w-1]===p[v-1]?u[v-1]:Math.min(u[v-1]+1,Math.min(q+1,u[v]+1)),u[v-1]=q,q=x;u[p.length]=q}return u[p.length]}}
{"use strict";const d=self.m,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,p,r){var v=b.get(r);if(v){if("string"===typeof v){if("a"!==v||p)return"<"+p+v+">";p=parseInt(r.substring(1),10)-1;if(0>p||p>=c.length)throw Error("invalid bbcode link substitution");v=c[p];if("string"===typeof v)return`<a href="${c[p]}">`;if("function"===typeof v)return`<a class="bblink${p}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(v))return l=v[0],v=v[1],p?"</"+l+">":`<${l} class="${v}">`}else return"class"===r?p?"</span>":
`<span class="bbclass${f++}">`:l}const g=/\n/g;d.$k=class{constructor(l,p){this.Rh=p&&p.mW?l:d.HZ(l);this.OI="";this.fT=!1;this.yw=[];if(p&&(this.fT=!!p.gsa,p.links)){if(9<p.links.length)throw Error("too many links");this.yw=p.links}this.JT=this.Rh.includes("[");this.IU=this.fT&&this.Rh.includes("\n");this.dU=!this.JT&&!this.IU&&!this.Rh.includes("&");this.NT=!1;this.Rv=[]}toString(){return this.Rh}valueOf(){return this.Rh}YL(){if(this.dU)return this.Rh;if(!this.OI&&this.Rh){let l=this.Rh;this.JT&&
(f=0,c=this.yw,l=l.replace(a,k),c=null);this.IU&&(l=l.replace(g,"<br>"));this.OI=l}return this.OI}Rea(l){if(this.yw.length)for(let p=0,r=this.yw.length;p<r;++p){const v=this.yw[p];if("function"!==typeof v)continue;const q=l.querySelector(".bblink"+p);if(!q)throw Error("unable to attach BBString link handler");q.onclick=v}}Yc(l){return l instanceof d.aF?this.YL()===l.YL():l instanceof d.$k?this.Rh===l.Rh:this.Rh===l}EW(){if(this.NT)return this.Rv;const l=this.Rh,p=[];let r=e.lastIndex=0;for(var v;null!==
(v=e.exec(l));){var q=v.index;if(0<q&&"\\"===l.charAt(q-1))continue;var x=v[1],u=v[2];const w=l.substring(r,q);r=q+v[0].length;w&&this.Rv.push({text:w,hd:p.slice(0)});if(u)if(x)for(u=u.toLowerCase(),v=p.length-1;0<=v;--v){if(p[v].tag===u){p.splice(v,1);break}}else v=u,q=null,x=u.indexOf("="),-1!==x?(v=u.substring(0,x).toLowerCase(),q=u.substring(x+1)):v=v.toLowerCase(),p.push({tag:v,gd:q})}r<l.length&&this.Rv.push({text:l.substring(r),hd:p.slice(0)});for(const w of this.Rv)w.text=this.Aaa(w.text);
this.NT=!0;return this.Rv}Aaa(l){l=d.Li(l,"\\[","[");return d.Li(l,"\\\\","\\")}static VP(l){return l.replace(e,"")}}}
{"use strict";const d=self.m;d.Xu=class{constructor(){this.Hk=[]}HR(b,a){let e=0,c=0,f=0,k=0,g=0;for(const l of b)-1===l.width&&(b=a(l.text,l.hd),l.width=b.width,l.height=b.height,l.ug=b.ug||0,l.Nf=b.Nf||0,l.Pf=b.Pf||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.ug),k=Math.max(k,l.Nf),g=Math.max(g,l.Pf);return{width:e,height:c,ug:f,Nf:k,Pf:g}}$z(b,a,e,c,f,k){this.Hk.push({kL:b,width:a,height:e,ug:c,Nf:f,Pf:k})}Xu(b,a,e,c,f){"string"===typeof b&&(b=[{text:b,hd:[]}]);d.C(this.Hk);if(!(!b.length||
1===b.length&&!b[0].text.length||2>e)){if(1===b.length){var k=b[0];const g=k.text;k=k.hd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:p,ug:r,Nf:v,Pf:q}=a(g,k);l+=f;r=r||0;v=v||0;q=q||0;if(l<=e){this.$z([{text:g,hd:k,width:l,height:p,ug:r,Nf:v,Pf:q}],l,p,r,v,q);return}}}if("word"===c)c=this.Ica(b);else{c=[];for(const g of b)d.Am(c,[...g.text].map(l=>[{text:l,hd:g.hd}]))}this.bda(c,a,e,f)}}Ica(b){const a=[];let e=[],c=!1;for(const k of b){var f=k.text;b=k.hd;for(const g of f)"\n"===g?(0<
e.length&&a.push(e),a.push([{text:"\n",hd:b}]),e=[]):0===e.length?(e.push({text:g,hd:b}),c=d.sz(g)):(f=d.sz(g),f===c?(f=e.Ge(-1),f.hd===b?f.text+=g:e.push({text:g,hd:b})):(a.push(e),e=[],e.push({text:g,hd:b}),c=f))}0<e.length&&a.push(e);return a}F7(b){return b.map(a=>({text:a.text,hd:a.hd,width:a.width,height:a.height,ug:a.ug,Nf:a.Nf,Pf:a.Pf}))}sQ(b,a){var e=b.length?b.Ge(-1):null;let c=0;e&&a[0].hd===e.hd&&(e.text+=a[0].text,e.width=-1,e.height=-1,e.ug=-1,e.Nf=-1,e.Pf=-1,c=1);for(e=a.length;c<e;++c){const f=
a[c];b.push({text:f.text,hd:f.hd,width:-1,height:-1,ug:-1,Nf:-1,Pf:-1})}}bda(b,a,e,c){let f=[],k=0,g=0,l=0,p=0;var r=0;for(const v of b){if(1===v.length&&"\n"===v[0].text){0===g&&(r=a(" ",v[0].hd),g=r.height,l=r.ug||0,p=r.Nf||0,r=r.Pf||0);this.$z(f,k,g,l,p,r);f=[];r=p=l=g=k=0;continue}b=this.F7(f);this.sQ(b,v);const q=this.HR(b,a),x=q.width;x>=e?(0<f.length&&this.$z(f,k,g,l,p,r),f=[],d.rz(v[0].text)?r=p=l=g=k=0:(this.sQ(f,v),r=this.HR(f,a),k=r.width,g=r.height,l=r.ug,p=r.Nf,r=r.Pf)):(f=b,k=x,g=q.height,
l=q.ug,p=q.Nf,r=q.Pf)}0<f.length&&this.$z(f,k,g,l,p,r);this.Lca(a,c)}Lca(b,a){for(const c of this.Hk){const f=c.kL;if(!f.length)continue;let k=f.Ge(-1);var e=k.text;const g=e.trimEnd();if(!g)c.width-=k.width,f.pop();else if(g.length<e.length){e=b(g,k.hd).width;const l=k.width-e;k.width=e;k.text=g;c.width-=l}0!==a&&0<f.length&&(k=f.Ge(-1),k.width+=a,c.width+=a)}}Ic(){d.C(this.Hk)}jN(){return this.Hk.reduce((b,a)=>Math.max(b,a.width),0)}k0(){return this.Hk.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const d=self.m,b=self.Xk,a=b.LD,e=b.Zx,c=b.xo,f=a.create(),k=a.create(),g=a.create(),l=e.create(),p=c.create(),r=a.create(),v=a.create(),q=a.create(),x=a.create(),u=a.create(),w=a.create(),z=a.create(),A=a.create(),E=e.Of(0,0,1,1);d.ca={T3(H,J,M,Q,R,V,Z){const ca=Q[0]*H+Q[4]*J+Q[8]*M+Q[12],Y=Q[1]*H+Q[5]*J+Q[9]*M+Q[13],ha=Q[2]*H+Q[6]*J+Q[10]*M+Q[14];Q=Q[3]*H+Q[7]*J+Q[11]*M+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;J=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;M=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*V[2]+V[0];Z[1]=(J*R*.5+.5)*V[3]+V[1];Z[2]=.5*(1+M*R);return!0},kk(H,J,M,Q,R,V,Z){c.multiply(p,R,Q);if(null===c.xt(p,p))return!1;l[0]=(H-V[0])/V[2]*2-1;l[1]=(J-V[1])/V[3]*2-1;l[2]=2*M-1;l[3]=1;e.$L(l,l,p);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},B6(H,J,M,Q,R,V,Z){if(!d.ca.kk(H,J,0,Q,R,V,f)||!d.ca.kk(H,J,1,Q,R,V,k))return!1;a.Hm(k,k,f);a.set(g,0,0,1);H=-M;J=a.uo(g,k);M=0;if(0===J){if(0!==
a.uo(g,f)+H)return!1}else if(M=-(a.uo(f,g)+H)/J,0>M)return!1;a.QL(Z,f,k,M);return!0}};function G(H,J,M,Q){a.Hm(f,M,J);a.Hm(k,H,J);a.hL(g,f,k);a.normalize(g,g);Q.set(g[0],g[1],g[2],a.uo(H,g))}function P(H,J,M,Q,R,V,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.MW,Oa=Z.NW;Z=Z.OW;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*J*Oa+Y*R*Ua+ha*M*Z+ha*V*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*J*Ua+ha*V*Z+ha*M*bb>ka}class D{constructor(){this.OW=this.NW=this.MW=this.w=this.z=this.y=this.x=NaN}set(H,J,M,Q){this.x=
H;this.y=J;this.z=M;this.w=Q;this.MW=0<H?1:0;this.NW=0<J?1:0;this.OW=0<M?1:0}}d.ca.K6=class{constructor(){this.uU=new D;this.AV=new D;this.cV=new D;this.aT=new D;this.HU=new D;this.wT=new D}CX(H,J){d.ca.kk(0,1,0,H,J,E,r);d.ca.kk(1,1,0,H,J,E,v);d.ca.kk(0,0,0,H,J,E,q);d.ca.kk(1,0,0,H,J,E,x);d.ca.kk(0,1,1,H,J,E,u);d.ca.kk(1,1,1,H,J,E,w);d.ca.kk(0,0,1,H,J,E,z);d.ca.kk(1,0,1,H,J,E,A);G(q,r,u,this.uU);G(r,v,w,this.AV);G(v,x,A,this.cV);G(x,q,z,this.aT);G(z,u,w,this.wT);G(x,v,r,this.HU)}aY(H,J,M,Q,R,V){return P(H,
J,M,Q,R,V,this.uU)&&P(H,J,M,Q,R,V,this.AV)&&P(H,J,M,Q,R,V,this.cV)&&P(H,J,M,Q,R,V,this.aT)&&P(H,J,M,Q,R,V,this.HU)&&P(H,J,M,Q,R,V,this.wT)}}}
{"use strict";const d=self.m,b=self.Xk,a=b.LD,e=b.Zx,c=b.xo,f=c.create(),k=a.Of(0,0,0),g=a.Of(0,0,0),l=a.Of(0,0,0),p=a.Of(0,1,0);e.Of(0,0,0,0);new d.nd;new d.Rect;const r=new d.nd(0,0,1,0,1,1,0,1);d.ca.q4=class{constructor(){this.M=this.P=0;this.Fda=d.Ga(45);this.DK=Math.tan(this.Fda/2);this.qC=c.create();this.FJ=c.create();this.Dp=[];this.JC=new Map;this.tK=this.OC=this.PC=null;this.hx=new Map;this.gj=null;this.aI=[];this.GU=new Map;this.Nv=this.Dv=0;this.Yda=this.Zda=1;this.zJ=.5;this.Zh=0;this.ps=
!0;this.MI=!1}PZ(v){let q=0,x=v.length,u=0;for(;q<x;)v[q++]=u,v[q++]=u+1,v[q++]=u+2,v[q++]=u,v[q++]=u+2,v[q++]=u+3,u+=4}wQ(){this.Nv=this.Dv=0;this.tK=this.OC=this.PC=null;this.D7()}lz(){this.wQ();this.gj=null}V2(){for(const v of this.Dp)v.g();this.wQ()}O(){return this.P}R(){return this.M}Tt(v,q,x=.5,u=.5){x=1-x;const w=1*this.DK;q*=w;c.ofa(v,(2*x-2)*q,2*x*q,(2*u-2)*w,2*u*w,1,1E4)}BX(v,q,x){const u=self.devicePixelRatio,w=200*u*this.DK/x;q=q*w/(2*u);x=x*w/(2*u);c.Yfa(v,-q,q,-x,x,1,1E4)}nM(v,q,x,u,
w=this.PE()){w=200*self.devicePixelRatio*this.DK/w;a.set(l,w,-w,1);a.multiply(k,q,l);a.multiply(g,x,l);c.Ofa(v,k,g,u||p);c.scale(v,v,l)}St(v,q,x,u,w,z){a.set(k,v,q,x);a.set(g,u,w,0);this.nM(f,k,g,p,z);return f}k7(v){this.Dp.push(v);this.JC.set(v.xa(),v)}Uaa(v){const q=this.Dp.indexOf(v);-1!==q&&this.Dp.splice(q,1);this.JC.delete(v.xa())}D7(){d.C(this.Dp);this.JC.clear()}wN(v){return this.JC.get(v)||null}Lh(){this.nn(this.PC)}VF(){this.nn(this.tK)}Nba(v){this.gj=v}QW(v,q,x,u){const w=d.ca.nG.lO(v,
q,x,u);let z=this.hx.get(w);z||(z=d.B(d.ca.nG,this,v,q,x,u),this.hx.set(w,z));z.dX();return z}$O(v){v.vY();0===v.Vc&&(this.gj===v&&(this.gj=null),this.hx.delete(v.O_()),v.g())}L9(v){d.C(this.aI);this.GU.clear();for(const q of v){v=q[0];const x=q[1],u=q[2];this.aI.push([x,u]);this.GU.set(v,{Lua:x,osa:u})}}o9(v){return this.aI[v]}Iu(v){this.Dv=v}jn(v){this.Nv=v;this.gj=null}wz(v,q,x,u,w,z){var A=this.zJ;v=v+A-z;q=q+A-w;x=x+A+z;u=u+A+w;A=2*z;const E=2*w;this.Cz(v+w,q-z,0,x+w,u-z,0,x-w-A,u+z-E,0,v-w+
A,q+z+E,0,r)}vz(v,q,x,u,w,z){const A=this.zJ;v=v+A-z;q=q+A-w;x=x+A+z;u=u+A+w;this.Cz(v+w,q-z,0,x+w,u-z,0,x-w,u+z,0,v-w,q+z,0,r)}uz(v,q,x,u,w,z){const A=this.zJ;v+=A;q+=A;x+=A;u+=A;this.Cz(v+w,q-z,0,x+w,u-z,0,x-w,u+z,0,v-w,q+z,0,r)}i2(v,q,x,u){const w=.5*this.Zda,z=this.Yda;2===z?this.g$(v,q,x,u,w):1===z?this.f$(v,q,x,u,w):this.e$(v,q,x,u,w)}g$(v,q,x,u,w){this.wz(v,q,x,q,0,w);this.wz(x,q,x,u,w,0);this.wz(x,u,v,u,0,-w);this.wz(v,u,v,q,-w,0)}f$(v,q,x,u,w){this.vz(v,q,x,q,0,w);this.vz(x,q,x,u,w,0);this.vz(x,
u,v,u,0,-w);this.vz(v,u,v,q,-w,0)}e$(v,q,x,u,w){this.uz(v,q,x,q,0,w);this.uz(x,q,x,u,w,0);this.uz(x,u,v,u,0,-w);this.uz(v,u,v,q,-w,0)}eO(v){this.i2(v.N,v.K,v.$,v.T)}$t(){this.Ci();this.Zh++}a1(){this.Zh++}YF(v){this.ps=!!v}j5(v){this.MI=!!v}yu(){return!1}}}
{"use strict";const d=self.m;d.ca.nG=class{constructor(b,a,e,c,f){this.ra=b;this.Vc=0;this.ib=null;this.Vw="";this.Bn=e;this.pb=d.B(d.$a);this.pb.set(c);this.ed=f;"string"===typeof a?this.Vw=a:(this.ib=a,this.Vw=this.ib.xa())}g(){if(0<this.Vc)throw Error("releasing state group still in use");this.ib=this.ra=null;this.Vw=""}kX(){const b=this.ra;b.nn(this.ib);b.qf(this.Bn);b.gk(this.pb);b.jn(this.ed);b.Nba(this)}O_(){return d.ca.nG.lO(this.Vw,this.Bn,this.pb,this.ed)}dX(){++this.Vc}vY(){--this.Vc}sl(){this.ib=
null}AF(b){this.ib=b.wN(this.Vw);if(!this.ib)throw Error("failed to restore shader program");}static lO(b,a,e,c){return("string"===typeof b?b:b.xa())+","+a+","+e.Ua+","+e.Ya+","+e.Xa+","+e.Pa+","+c}}}
{"use strict";const d=self.m,b=d.B(d.nd);function a(e,c,f){const k=f.Jb,g=f.Kb;return[k+(f.jc-k)*e+(f.cc-k)*c,g+(f.kc-g)*e+(f.ec-g)*c]}d.ca.z2=class{constructor(e){this.JJ=e;this.qh=this.oh=this.ed=this.L=this.V=0}Ui(e,c,f,k){this.V=e;this.L=c;this.oh=f;this.qh=k}X(){return this.V}bg(e){this.V!==e&&(this.V=e,this.JJ.sH())}Y(){return this.L}Re(e){this.L!==e&&(this.L=e,this.JJ.sH())}Qa(){return this.ed}Se(e){this.ed!==e&&(this.ed=Math.max(e,0),this.JJ.sH())}eG(e){this.oh=e}fG(e){this.qh=e}X9(e,c,f){[this.V,
this.L]=a(e.V,e.L,c);this.ed=e.ed;this.oh=d.td(f.N,f.$,e.oh);this.qh=d.td(f.K,f.T,e.qh)}W9(e,c,f){[this.V,this.L]=a(e.V,e.L,c);this.ed=e.ed;[this.oh,this.qh]=a(e.oh,e.qh,f)}Nc(){return{x:this.X(),y:this.Y(),z:this.Qa(),u:this.oh,v:this.qh}}xc(e){this.bg(e.x);this.Re(e.y);e.hasOwnProperty("z")&&this.Se(e.z);this.eG(e.u);this.fG(e.v)}};d.ca.oO=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Ak=e;this.Ok=c;this.hc=f||null;this.Yn=[];this.DU=this.CU=0;this.zU=this.yU=1;this.AU=
0;this.aK=!1;f=e-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let p=0;p<e;++p){const r=d.B(d.ca.z2,this,p,g),v=p/f,q=g/k;r.Ui(v,q,v,q);l.push(r)}this.Yn.push(l)}}g(){d.C(this.Yn)}sH(){this.aK=!0}kv(){if(this.aK){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,g=0;for(const l of this.Yn)for(const p of l){const r=p.X(),v=p.Y();e=Math.min(e,r);c=Math.min(c,v);f=Math.max(f,r);k=Math.max(k,v);g=Math.max(g,p.Qa())}this.CU=e;this.DU=c;this.yU=f;this.zU=k;this.AU=g;this.aK=!1}}Y_(){this.kv();return this.CU}Z_(){this.kv();
return this.DU}V_(){this.kv();return this.yU}W_(){this.kv();return this.zU}X_(){this.kv();return this.AU}cr(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Ak||0>c||c>=this.Ok?null:this.Yn[c][e]}oM(e,c,f){const k=f instanceof d.Rect;if(e.Ak!==this.Ak||e.Ok!==this.Ok)throw Error("source mesh wrong size");e=e.Yn;const g=this.Yn;for(let l=0,p=g.length;l<p;++l){const r=e[l],v=g[l];for(let q=0,x=v.length;q<x;++q){const u=r[q],w=v[q];k?w.X9(u,c,f):w.W9(u,c,f)}}}oe(e){const c=this.Yn;let f=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let p=f[0],r=l[0];for(let v=1,q=l.length;v<q;++v){const x=f[v],u=l[v];b.set(p.oh,p.qh,x.oh,x.qh,u.oh,u.qh,r.oh,r.qh);e.Cz(p.X(),p.Y(),p.Qa(),x.X(),x.Y(),x.Qa(),u.X(),u.Y(),u.Qa(),r.X(),r.Y(),r.Qa(),b);p=x;r=u}f=l}}D1(e){e=e.Ud;const c=[],f=this.Ak-1,k=this.Ok-1,g=1/f,l=1/k,p=f-1,r=k-1;let v=e[0],q=e[1],x=d.W(Math.floor(v*f),0,p),u=d.W(Math.floor(q*k),0,r),w=0,z=0,A=0;var E=-1;const G=()=>{v=d.W(d.td(v,w,A),0,1);q=d.W(d.td(q,z,A),0,1);c.push(v,q)};for(let P=
0,D=e.length;P<D;P+=2)for(v=e[P],q=e[P+1],c.push(v,q),x=d.W(Math.floor(v*f),0,p),u=d.W(Math.floor(q*k),0,r),E=(P+2)%D,w=e[E],z=e[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=x*g,J=u*l,M=(x+1)*g,Q=(u+1)*l;if(0!==E&&(A=d.Sx(v,q,w,z,H,J,M,Q,-.001),0<=A&&.99999999>=A)){G();E=0;continue}if(0<u&&2!==E&&(A=d.Sx(v,q,w,z,H,J,M,J,.001),0<=A&&.99999999>=A)){G();u--;E=4;continue}if(x<p&&3!==E&&(A=d.Sx(v,q,w,z,M,J,M,Q,.001),0<=A&&.99999999>=A)){G();x++;E=1;continue}if(0<x&&1!==
E&&(A=d.Sx(v,q,w,z,H,J,H,Q,.001),0<=A&&.99999999>=A)){G();x--;E=3;continue}if(u<r&&4!==E&&(A=d.Sx(v,q,w,z,H,Q,M,Q,.001),0<=A&&.99999999>=A)){G();u++;E=2;continue}break}return d.B(d.Fo,c)}x6(e,c){e=this.Jca(e);this.zca(e);c.ED(e)}Jca(e){const c=[];e=e.Ud;for(let f=0,k=e.length;f<k;f+=2){const [g,l]=this.$P(e[f],e[f+1]);c.push(g,l)}return c}$P(e,c){var f=this.Ak-1,k=this.Ok-1;const g=1/f,l=1/k;f=d.W(Math.floor(e*f),0,f-1);const p=d.W(Math.floor(c*k),0,k-1);k=f*g;const r=p*l,v=(f+1)*g,q=(p+1)*l,x=this.cr(f,
p),u=this.cr(f+1,p+1),w=d.Efa(e,c,k,r,v,r,v,q);f=this.cr(f+(w?1:0),p+(w?0:1));const [z,A,E]=d.Aga(e,c,k,r,w?k+g:k,w?r:r+l,v,q);return d.zga(z,A,E,x.X(),x.Y(),f.X(),f.Y(),u.X(),u.Y())}zca(e){const c=[];let f=e[0],k=e[1],g=f-e.Ge(-2),l=k-e.Ge(-1);for(let r=0,v=e.length;r<v;r+=2){var p=(r+2)%v;const q=e[p];p=e[p+1];const x=q-f,u=p-k,w=1E-7>Math.abs(u)&&1E-7>Math.abs(l)&&Math.sign(x)===Math.sign(g);(!(1E-7>Math.abs(x)&&1E-7>Math.abs(g)&&Math.sign(u)===Math.sign(l)||w)&&1E-7<Math.abs(x/g-u/l)||0==x&&0===
u)&&c.push(f,k);f=q;k=p;g=x;l=u}6<=c.length&&c.length<e.length&&d.ud(e,c)}Nc(){return{cols:this.Ak,rows:this.Ok,points:this.Yn.map(e=>e.map(c=>c.Nc()))}}xc(e){const c=this.Ak,f=this.Ok;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const g=e[k];for(let l=0;l<c;++l)this.cr(l,k).xc(g[l])}}}}
{"use strict";const d=self.m,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(p,r){let v,q;switch(p){case "rgba8":p=r.RGBA8;q=v=r.RGBA;r=r.UNSIGNED_BYTE;break;case "rgb8":p=r.RGB8;q=v=r.RGB;r=r.UNSIGNED_BYTE;break;case "rgba4":p=r.RGBA4;q=v=r.RGBA;r=r.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":p=r.RGB5_A1;q=v=r.RGBA;r=r.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":p=r.RGB565;q=v=r.RGB;r=r.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{VL:p,ut:v,format:q,type:r}}const k={Ot:"clamp-to-edge",Pt:"clamp-to-edge",wg:"trilinear",LV:0,GL:"rgba8",vD:!0,Px:"default",premultiplyAlpha:!0,gW:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.ca.Zz=class{constructor(p){this.ra=p;this.rb=null;this.M=this.P=0;this.$h=!0;this.zm=this.ym="clamp-to-edge";this.Wc="trilinear";this.QH=0;this.Vn="rgba8";this.Wl=!1;this.lq=
"default";this.Vc=0}U7(p,r){if(!("undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&p instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&p instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&p instanceof OffscreenCanvas||p instanceof ImageData||p instanceof ArrayBuffer)&&null!==p)throw Error("invalid texture source");r=Object.assign({},k,r);if(this.rb)throw Error("already created texture");this.ym=r.Ot;this.zm=r.Pt;
this.Wc=r.wg;this.QH=r.LV;this.Vn=r.GL;this.Wl=!!r.vD&&this.ra.ps;this.lq=r.Px;if(!c.has(this.ym)||!c.has(this.zm))throw Error("invalid wrap mode");if(!a.has(this.Wc))throw Error("invalid sampling");if(!b.has(this.Vn))throw Error("invalid pixel format");if(!e.has(this.lq))throw Error("invalid mipmap quality");this.$h=!0;if(p instanceof ArrayBuffer||null===p||r.gW){if(this.P=r.width,this.M=r.height,p instanceof ArrayBuffer&&p.byteLength!==this.P*this.M*4)throw Error("ArrayBuffer wrong size");}else this.P=
p.width,this.M=p.height;if(0>=this.P||0>=this.M)throw Error("invalid texture data size");if(r.gW){var v=d.yh(this.P,this.M);v.getContext("2d").drawImage(p,0,0,this.P,this.M);p=v}var q=d.Yk(this.P)&&d.Yk(this.M);v=this.ra.rC;if(this.P>v||this.M>v)throw Error("texture data exceeds maximum texture size");v=this.ra.Z;var x=this.ra.Md;this.rb=v.createTexture();v.bindTexture(v.TEXTURE_2D,this.rb);v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1);
r=f(this.Vn,v);if(this.ra.pp()||q||!this.VG())2<=x?(v.texStorage2D(v.TEXTURE_2D,this.Wl?Math.floor(Math.log2(Math.max(this.P,this.M))+1):1,r.VL,this.P,this.M),p instanceof ArrayBuffer?v.texSubImage2D(v.TEXTURE_2D,0,0,0,this.P,this.M,r.format,r.type,new Uint8Array(p)):null!==p&&v.texSubImage2D(v.TEXTURE_2D,0,0,0,r.format,r.type,p)):p instanceof ArrayBuffer?v.texImage2D(v.TEXTURE_2D,0,r.ut,this.P,this.M,0,r.format,r.type,new Uint8Array(p)):null===p?v.texImage2D(v.TEXTURE_2D,0,r.ut,this.P,this.M,0,r.format,
r.type,null):v.texImage2D(v.TEXTURE_2D,0,r.ut,r.format,r.type,p);else{if(null===p)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");p instanceof ArrayBuffer&&(p=new ImageData(new Uint8ClampedArray(p),this.P,this.M));p instanceof ImageData&&(q=d.yh(this.P,this.M),q.getContext("2d").putImageData(p,0,0),p=q);q=d.yh(d.AL(this.P),d.AL(this.M));x=q.getContext("2d");x.imageSmoothingEnabled="nearest"!==this.Wc;x.drawImage(p,0,0,this.P,this.M,0,0,q.width,q.height);
v.texImage2D(v.TEXTURE_2D,0,r.ut,r.format,r.type,q)}null!==p&&this.zS(v);v.bindTexture(v.TEXTURE_2D,null);this.ra.jH();this.Vc=1;l.add(this)}H7(p,r,v){v=Object.assign({},k,v);if(this.rb)throw Error("already created texture");this.ym=v.Ot;this.zm=v.Pt;this.Wc=v.wg;this.Vn=v.GL;this.Wl=!!v.vD&&this.ra.ps;this.lq=v.Px;if(!c.has(this.ym)||!c.has(this.zm))throw Error("invalid wrap mode");if(!a.has(this.Wc))throw Error("invalid sampling");if(!b.has(this.Vn))throw Error("invalid pixel format");if(!e.has(this.lq))throw Error("invalid mipmap quality");
this.$h=!1;this.P=Math.floor(p);this.M=Math.floor(r);p=d.Yk(this.P)&&d.Yk(this.M);r=this.ra.rC;if(0>=this.P||0>=this.M)throw Error("invalid texture size");if(this.P>r||this.M>r)throw Error("texture exceeds maximum texture size");if(!this.ra.pp()&&this.VG()&&!p)throw Error("non-power-of-two tiled textures not supported");p=this.ra.Z;r=this.ra.Md;this.rb=p.createTexture();p.bindTexture(p.TEXTURE_2D,this.rb);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,v.premultiplyAlpha);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,
!1);v=f(this.Vn,p);p.texImage2D(p.TEXTURE_2D,0,2<=r?v.VL:v.ut,this.P,this.M,0,v.format,v.type,null);this.zS(p);p.bindTexture(p.TEXTURE_2D,null);this.ra.jH();this.Vc=1;l.add(this)}TG(p){if("default"===this.lq)return this.$h?p.NICEST:p.FASTEST;if("low"===this.lq)return p.FASTEST;if("high"===this.lq)return p.NICEST;throw Error("invalid mipmap quality");}VG(){return"clamp-to-edge"!==this.ym||"clamp-to-edge"!==this.zm}gR(p,r){if("clamp-to-edge"===r)return p.CLAMP_TO_EDGE;if("repeat"===r)return p.REPEAT;
if("mirror-repeat"===r)return p.MIRRORED_REPEAT;throw Error("invalid wrap mode");}zS(p){var r=d.Yk(this.P)&&d.Yk(this.M);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,this.gR(p,this.ym));p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,this.gR(p,this.zm));"nearest"===this.Wc?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST),this.Wl=!1):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),(r||this.ra.pp())&&this.Wl?(p.hint(p.GENERATE_MIPMAP_HINT,
this.TG(p)),p.generateMipmap(p.TEXTURE_2D),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,"trilinear"!==this.Wc||this.ra.MI?p.LINEAR_MIPMAP_NEAREST:p.LINEAR_MIPMAP_LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR),this.Wl=!1));(r=this.ra.zv)&&0<this.QH&&"nearest"!==this.Wc&&p.texParameterf(p.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.QH,this.ra.HJ))}LS(p,r){if(!("undefined"!==typeof HTMLImageElement&&p instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
p instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&p instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&p instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&p instanceof OffscreenCanvas||p instanceof ImageData))throw Error("invalid texture source");if(!this.rb||0>=this.Vc)throw Error("texture not created");if(this.$h)throw Error("cannot update static texture");r=Object.assign({},g,r);const v=p.width||p.videoWidth,q=p.height||p.videoHeight;var x=this.ra.Md;
const u=this.ra.Z;u.bindTexture(u.TEXTURE_2D,this.rb);u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,!!r.flipY);r=f(this.Vn,u);x=2<=x?r.VL:r.ut;try{if(this.P===v&&this.M===q){const w=d.Yk(this.P)&&d.Yk(this.M);u.texSubImage2D(u.TEXTURE_2D,0,0,0,r.format,r.type,p);(w||this.ra.pp())&&this.Wl&&(u.hint(u.GENERATE_MIPMAP_HINT,this.TG(u)),u.generateMipmap(u.TEXTURE_2D))}else{this.P=v;this.M=q;const w=d.Yk(this.P)&&d.Yk(this.M);if(!this.ra.pp()&&this.VG()&&
!w)throw Error("non-power-of-two tiled textures not supported");u.texImage2D(u.TEXTURE_2D,0,x,r.format,r.type,p);(w||this.ra.pp())&&this.Wl&&(u.hint(u.GENERATE_MIPMAP_HINT,this.TG(u)),u.generateMipmap(u.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}u.bindTexture(u.TEXTURE_2D,null);this.ra.jH()}HG(){if(0<this.Vc)throw Error("texture still has references");if(!this.rb)throw Error("already deleted texture");l.delete(this);this.ra.Z.deleteTexture(this.rb);this.rb=null}sb(){return this.ra}r6(){if(0>=
this.Vc)throw Error("no more references");this.Vc--}O(){return this.P}R(){return this.M}wE(){let p=this.P*this.M;switch(this.Vn){case "rgba8":p*=4;break;case "rgb8":p*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":p*=2}this.Wl&&(p+=Math.floor(p/3));return p}static sl(){l.clear()}static Jea(){return l.values()}}}
{"use strict";const d=self.m,b=self.Xk.xo,a=new Set(["nearest","bilinear","trilinear"]),e={wg:"trilinear",alpha:!0,depth:!1,uL:!0,eW:!0,Sfa:0},c=new Set;d.ca.sG=class{constructor(f){this.ra=f;this.km=this.rb=this.oj=null;this.M=this.P=0;this.gw=!0;this.Wc="trilinear";this.Xr=!0;this.Ye=!1;this.jw=!0;this.dm=0;this.qq=b.create()}G7(f,k,g){g=Object.assign({},e,g);const l=this.ra.Md;if(this.rb||this.km)throw Error("already created render target");this.Wc=g.wg;this.Xr=!!g.alpha;this.Ye=!!g.depth;this.jw=
!!g.uL;this.gw=!!g.eW;this.dm=g.Sfa;if(!a.has(this.Wc))throw Error("invalid sampling");if(0<this.dm&&(2>l||this.jw))throw Error("invalid use of multisampling");2>l&&(this.jw=!0);this.P=f;this.M=k;if(0>=this.P||0>=this.M)throw Error("invalid render target size");this.tQ();f=this.ra.Z;this.oj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.oj);this.jw?(this.rb=this.ra.CM(this.P,this.M,{wg:this.Wc,GL:this.Xr?"rgba8":"rgb8",vD:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.rb.rb,0)):(this.km=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.km),k=this.Xr?f.RGBA8:f.RGB8,0<this.dm&&((g=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&g[0]?(g=g[0],this.dm>g&&(this.dm=g)):this.dm=0),0===this.dm?f.renderbufferStorage(f.RENDERBUFFER,k,this.P,this.M):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.dm,k,this.P,this.M),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.km),f.bindRenderbuffer(f.RENDERBUFFER,null));
k=this.ra.Np;this.Ye&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}YR(f,k){if(this.P!==f||this.M!==k)this.P=f,this.M=k,this.tQ(),f=this.ra.Z,f.bindFramebuffer(f.FRAMEBUFFER,this.oj),this.rb?this.rb.LS(new ImageData(this.P,this.M)):(f.bindRenderbuffer(f.RENDERBUFFER,this.km),f.renderbufferStorage(f.RENDERBUFFER,this.Xr?f.RGBA8:f.RGB8,this.P,this.M),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.ra.Np,this.Ye&&
k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}HG(){if(!this.rb&&!this.km)throw Error("already deleted render target");c.delete(this);const f=this.ra.Z;f.bindFramebuffer(f.FRAMEBUFFER,this.oj);this.rb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.ra.Nj(this.rb),this.rb=null):this.km&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.km),
this.km=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.ra.Md&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.oj);this.oj=this.ra.Bc.so=null}tQ(){this.ra.Tt(this.qq,this.P/this.M)}sb(){return this.ra}Fd(){return this.rb}pF(){return"nearest"!==this.Wc}O(){return this.P}R(){return this.M}K1(f){f=Object.assign({},e,f);return"nearest"!==f.wg!==this.pF()||!!f.alpha!==this.Xr||!!f.depth!==this.Ye||2<=this.ra.Md&&!!f.uL!==this.jw?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.gw&&this.O()===f.width&&this.R()===f.height:this.gw}wE(){return this.rb?this.rb.wE():this.P*this.M*(this.Xr?4:3)}static async nY(f,k){f=await f.e4(k);return await d.W0(f)}static sl(){c.clear()}}}
{"use strict";const d=self.m;d.ca.Wu=class{static async YX(b,a,e,c){const f=b.Z,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,a);f.compileShader(k);a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,e);f.compileShader(a);const g=f.createProgram();f.attachShader(g,k);f.attachShader(g,a);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const l=b.WJ;l?await b.Zca(()=>f.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.rG(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(a),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error linking shader program: "+
c);(b=d.QZ(f.getProgramInfoLog(g)||"").trim())&&!d.rz(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);f.deleteShader(k);f.deleteShader(a);return g}static async Na(b,a,e,c){e=await d.ca.Wu.YX(b,a.src,e,c);return new d.ca.Wu(b,e,a,c)}constructor(b,a,e,c){const f=b.Z;var k=b.Bc;b.Ci();f.useProgram(a);this.Z=f;this.ra=b;this.Ca=c;this.ib=a;this.LB="<default-device-transform>"===c;c=f.getAttribLocation(a,"aPos");const g=f.getAttribLocation(a,"aTex");this.CJ=f.getAttribLocation(a,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,b.hD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,b.VC),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.CJ&&(f.bindBuffer(f.ARRAY_BUFFER,b.zC),f.vertexAttribPointer(this.CJ,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.CJ));f.bindBuffer(f.ARRAY_BUFFER,null);this.LK=new d.ca.Ac(this,"matP","mat4");this.KK=new d.ca.Ac(this,"matMV","mat4");this.Hq=new d.ca.Ac(this,
"color","vec4");this.Bea=new d.ca.Ac(this,"samplerFront","sampler");this.OK=new d.ca.Ac(this,"pointTexStart","vec2");this.NK=new d.ca.Ac(this,"pointTexEnd","vec2");this.RK=new d.ca.Ac(this,"zElevation","float");this.PK=new d.ca.Ac(this,"tileSize","vec2");this.QK=new d.ca.Ac(this,"tileSpacing","vec2");this.JK=new d.ca.Ac(this,"color2_","vec4");this.MK=new d.ca.Ac(this,"outlineThickness","float");this.lt=new d.ca.Ac(this,"samplerBack","sampler");this.rm=new d.ca.Ac(this,"destStart","vec2");this.qm=
new d.ca.Ac(this,"destEnd","vec2");this.Gj=new d.ca.Ac(this,"srcStart","vec2");this.tm=new d.ca.Ac(this,"srcEnd","vec2");this.vm=new d.ca.Ac(this,"srcOriginStart","vec2");this.um=new d.ca.Ac(this,"srcOriginEnd","vec2");this.ph=new d.ca.Ac(this,"pixelSize","vec2");this.no=new d.ca.Ac(this,"seconds","float");this.jo=new d.ca.Ac(this,"layerScale","float");this.io=new d.ca.Ac(this,"layerAngle","float");this.lo=new d.ca.Ac(this,"layoutStart","vec2");this.ko=new d.ca.Ac(this,"layoutEnd","vec2");this.KT=
!!(this.ph.ea||this.no.ea||this.lt.ea||this.rm.ea||this.qm.ea||this.Gj.ea||this.tm.ea||this.vm.ea||this.um.ea||this.jo.ea||this.io.ea||this.lo.ea||this.ko.ea);this.tT=e.usa||0;this.uT=e.vsa||0;this.kI=!!e.isa;this.dea=!!e.Lta;this.Us=!!e.Zta;this.JA=!!e.Wra;b=e.parameters||[];this.Iq=[];this.xx=this.rm.ea||this.qm.ea;this.Eea=this.ph.ea||this.Gj.ea||this.tm.ea||this.vm.ea||this.um.ea;this.fea=this.kI||this.xx||0!==this.tT||0!==this.uT;this.JI=this.KI=!1;this.Hq.MN();this.JK.MN();this.Bea.LN(0);this.lt.LN(1);
this.OK.Ig(0,0);this.NK.Ig(1,1);this.RK.ir(0);this.PK.Ig(0,0);this.QK.Ig(0,0);this.rm.Ig(0,0);this.qm.Ig(1,1);this.Gj.Ig(0,0);this.tm.Ig(0,0);this.vm.Ig(0,0);this.um.Ig(0,0);this.ph.Ig(0,0);this.jo.ir(1);this.io.ir(0);this.no.ir(0);this.lo.Ig(0,0);this.ko.Ig(0,0);this.MK.ir(1);for(const l of b)b=l[2],a=new d.ca.Ac(this,l[0],b),"color"===b?a.b1():a.ir(0),this.Iq.push(a);this.LB?this.QS(k.Ex):(this.Xz(k.Ex,!0),this.Wz(k.oD,!0));k=k.si;f.useProgram(k?k.ib:null)}g(){this.Z.deleteProgram(this.ib);this.ib=
null;this.ra.Uaa(this);this.ra=this.Z=null}xa(){return this.Ca}an(){return this.dea}Wy(b){return this.Iq[b].Yj()}lX(b){for(let a=0,e=b.length;a<e;++a)if(!this.Iq[a].W1(b[a]))return!1;return!0}U4(b){for(let a=0,e=b.length;a<e;++a)this.Iq[a].P4(b[a])}mX(b,a,e,c,f,k,g,l,p){return this.lt.ea||this.ph.ea&&!this.ph.ql(f,k)||this.rm.ea&&!this.rm.ql(b.N,b.K)||this.qm.ea&&!this.qm.ql(b.$,b.T)||this.jo.ea&&!this.jo.tF(g)||this.io.ea&&!this.io.tF(l)||this.Gj.ea&&!this.Gj.ql(a.N,a.K)||this.tm.ea&&!this.tm.ql(a.$,
a.T)||this.vm.ea&&!this.vm.ql(e.N,e.K)||this.um.ea&&!this.um.ql(e.$,e.T)||this.lo.ea&&!this.lo.ql(c.N,c.K)||this.ko.ea&&!this.ko.ql(c.K,c.T)||this.no.ea&&!this.no.tF(p)?!1:!0}w5(b,a,e,c,f,k,g,l,p){this.lt.ea||(this.ph.ea&&this.ph.wl(f,k),this.rm.ea&&this.rm.wl(b.N,b.K),this.qm.ea&&this.qm.wl(b.$,b.T),this.jo.ea&&this.jo.SF(g),this.io.ea&&this.io.SF(l),this.Gj.ea&&this.Gj.wl(a.N,a.K),this.tm.ea&&this.tm.wl(a.$,a.T),this.vm.ea&&this.vm.wl(e.N,e.K),this.um.ea&&this.um.wl(e.$,e.T),this.lo.ea&&this.lo.wl(c.N,
c.K),this.ko.ea&&this.ko.wl(c.K,c.T),this.no.ea&&this.no.SF(p))}Xz(b,a){this.KI&&!a||this.LB||(this.LK.ea&&this.LK.Yz(b),this.KI=!0)}u5(){this.KI=!1}Wz(b,a){this.JI&&!a||this.LB||(this.KK.ea&&this.KK.Yz(b),this.JI=!0)}t5(){this.JI=!1}QS(b){if(!this.LB)throw Error("not device transform shader");this.LK.Yz(b);b=this.ra;const a=b.O()/2,e=b.R()/2;b=b.St(a,e,100*self.devicePixelRatio,a,e);this.KK.Yz(b)}E6(b){this.Hq.ea&&this.Hq.Vz(b[0],b[1],b[2],b[3])}static My(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.m,b=self.Xk.xo,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.ca.Ac=class{constructor(e,c,f){if(!a.has(f))throw Error("invalid uniform type");this.hc=e;this.Z=this.hc.Z;this.Ca=c;this.wa=f;this.aJ="color"===this.wa;this.bi=this.Z.getUniformLocation(this.hc.ib,c);this.ea=!!this.bi;e=a.get(f);this.bb=new Float32Array(e);this.xj=new Float32Array(e)}g(){this.bi=this.Z=this.hc=null}Yj(){return this.wa}ir(e){this.ea&&
(this.bb[0]=e,this.xj.set(this.bb),this.Z.uniform1f(this.bi,e))}LN(e){this.ea&&(this.bb[0]=e,this.xj.set(this.bb),this.Z.uniform1i(this.bi,e))}Ig(e,c){this.ea&&(this.bb[0]=e,this.bb[1]=c,this.xj.set(this.bb),this.Z.uniform2f(this.bi,e,c))}b1(){this.ea&&(this.bb[0]=0,this.bb[1]=0,this.bb[2]=0,this.xj.set(this.bb),this.Z.uniform3f(this.bi,0,0,0))}MN(){this.ea&&(this.bb[0]=1,this.bb[1]=1,this.bb[2]=1,this.bb[3]=1,this.xj.set(this.bb),this.Z.uniform4f(this.bi,1,1,1,1))}Lr(e){e=Math.fround(e);const c=
this.bb;c[0]!==e&&(c[0]=e,this.Z.uniform1f(this.bi,e))}Te(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.bb;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.Z.uniform2f(this.bi,e,c)}C6(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.bb;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.Z.uniform3f(this.bi,e,c,f)}Vz(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const g=this.bb;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==k)g[0]=e,g[1]=c,g[2]=f,g[3]=
k,this.Z.uniform4f(this.bi,e,c,f,k)}Yz(e){const c=this.bb;b.Kj(c,e)||(d.Bga(c,e),this.Z.uniformMatrix4fv(this.bi,!1,e))}W1(e){const c=this.xj;return this.aJ?c[0]===Math.fround(e.Ua)&&c[1]===Math.fround(e.Ya)&&c[2]===Math.fround(e.Xa):c[0]===Math.fround(e)}P4(e){const c=this.xj;this.aJ?(c[0]=e.Ua,c[1]=e.Ya,c[2]=e.Xa):c[0]=e}tF(e){return this.xj[0]===Math.fround(e)}ql(e,c){const f=this.xj;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}SF(e){this.xj[0]=e}wl(e,c){const f=this.xj;f[0]=e;f[1]=c}}}
{"use strict";const d=self.m,b=self.Xk,a=b.Zx,e=b.xo;d.ca.sX=class{constructor(c){this.hf=c;this.oD=e.create();this.Ex=e.create();this.so=null;this.nD=a.Of(1,1,1,1);this.si=null;this.HL=new d.Rect;this.clearColor=d.B(d.$a,0,0,0,0)}};d.ca.Q6=class{constructor(c){const f=new ArrayBuffer(96);this.wa=0;this.Bc=c;this.Z=c.hf.Z;this.Wp=this.kh=0;this.bf=null;this.Be=new Float32Array(f,0,16);this.Kp=new Float32Array(f,64,4);this.rV=new Float32Array(f,80,4);this.IC=[]}q1(c){this.wa=1;this.kh=c;this.Wp=6}LY(){const c=
this.Z;c.drawElements(c.TRIANGLES,this.Wp,c.UNSIGNED_SHORT,this.kh)}y1(c){this.wa=2;this.bf=c}XY(){const c=this.Z,f=this.bf;c.bindTexture(c.TEXTURE_2D,f?f.rb:null)}dF(c){this.wa=3;c.vh(this.Kp,0)}NY(){const c=this.Kp,f=this.Bc;a.pa(f.nD,c);f.si.E6(c)}QY(){const c=this.Kp,f=this.Bc.si;f.JK.ea&&f.JK.Vz(c[0],c[1],c[2],c[3])}r1(c,f){this.wa=4;this.kh=c;this.Wp=f}MY(){this.Z.blendFunc(this.kh,this.Wp)}z1(c,f){this.wa=5;const k=this.Kp;k[0]=0;k[1]=0;k[2]=c;k[3]=f}ZY(){const c=this.Kp;this.Z.viewport(c[0],
c[1],c[2],c[3])}w1(c){this.wa=6;e.pa(this.Be,c)}VY(){const c=this.Bc,f=c.hf.Dp,k=c.si,g=this.Be;for(let l=0,p=f.length;l<p;++l){const r=f[l];r===k?r.Xz(g,!0):r.u5()}e.pa(c.Ex,g)}t1(c){this.wa=7;e.pa(this.Be,c)}RY(){const c=this.Bc,f=c.hf.Dp,k=c.si,g=this.Be;for(let l=0,p=f.length;l<p;++l){const r=f[l];r===k?r.Wz(g,!0):r.t5()}e.pa(c.oD,g)}x1(c){this.wa=8;this.bf=c}WY(){const c=this.Z;var f=this.bf;const k=this.Bc;f?(f=f.oj,k.so=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.so=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}g1(c){this.wa=9;c.vh(this.Be,0)}h1(){this.wa=9;const c=this.Be;c[0]=0;c[1]=0;c[2]=0;c[3]=0}EY(){const c=this.Z;var f=this.Be,k=this.Bc;const g=k.clearColor;(k=k.hf.eq&&d.yt)&&c.disable(c.SCISSOR_TEST);const l=f[0],p=f[1],r=f[2];f=f[3];g.Hx(l,p,r,f)||(c.clearColor(l,p,r,f),g.Bo(l,p,r,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}f1(c,f,k,g){this.wa=10;const l=this.Be;l[0]=c;l[1]=f;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}DY(){const c=this.Z;var f=this.Be,k=this.Bc;const g=k.hf;
k=k.clearColor;g.eq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],p=f[5],r=f[6];f=f[7];k.Hx(l,p,r,f)||(c.clearColor(l,p,r,f),k.Bo(l,p,r,f));c.clear(c.COLOR_BUFFER_BIT);g.eq?c.scissor(0,0,g.Bx,g.Ax):c.disable(c.SCISSOR_TEST)}SY(){const c=this.Be;this.Bc.HL.set(c[0],c[1],c[2],c[3])}KY(){const c=this.Z,f=this.Bc,k=f.hf.OC;c.useProgram(k.ib);k.Xz(f.Ex,!1);k.Wz(f.oD,!1);var g=f.HL;k.OK.ea&&k.OK.Te(g.N,g.K);k.NK.ea&&k.NK.Te(g.$,g.T);g=this.Be[0];k.RK.ea&&k.RK.Lr(g);k.Hq.ea&&(g=f.nD,
k.Hq.Vz(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.kh/4,this.Wp);c.useProgram(f.si.ib)}u1(c){this.wa=12;this.bf=c}TY(){var c=this.Z;const f=this.Bc,k=this.bf;f.si=k;c.useProgram(k.ib);k.Xz(f.Ex,!1);k.Wz(f.oD,!1);k.Hq.ea&&(c=f.nD,k.Hq.Vz(c[0],c[1],c[2],c[3]))}v1(){this.wa=13}UY(){const c=this.Bc.si;c.KT&&this.A8(c);c.Iq.length&&this.B8(c)}A8(c){const f=this.Z,k=this.Be,g=this.Kp,l=this.rV;if(c.lt.ea){const p=this.Bc.hf,r=this.bf;p.Nn!==r&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
r?r.rb:null),p.Nn=r,f.activeTexture(f.TEXTURE0))}c.ph.ea&&c.ph.Te(k[0],k[1]);c.rm.ea&&c.rm.Te(k[2],k[3]);c.qm.ea&&c.qm.Te(k[4],k[5]);c.jo.ea&&c.jo.Lr(k[6]);c.io.ea&&c.io.Lr(k[7]);c.Gj.ea&&c.Gj.Te(k[12],k[13]);c.tm.ea&&c.tm.Te(k[14],k[15]);c.vm.ea&&c.vm.Te(l[0],l[1]);c.um.ea&&c.um.Te(l[2],l[3]);c.lo.ea&&c.lo.Te(g[0],g[1]);c.ko.ea&&c.ko.Te(g[2],g[3]);c.no.ea&&c.no.Lr(this.kh)}B8(c){c=c.Iq;const f=this.IC;for(let k=0,g=c.length;k<g;++k){const l=c[k],p=f[k];l.aJ?l.C6(p.Ua,p.Ya,p.Xa):l.Lr(p)}}m1(c){this.wa=
14;this.bf=c}JY(){const c=this.Z,f=this.bf,k=this.Bc.so;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}c1(c,f){this.wa=17;var k=this.Be;const g=this.Bc.hf;k[0]=c.O();k[1]=c.R();k[2]=f?f.O():g.O();k[3]=f?f.R():g.R();k[4]=c.pF()?1:0;k[5]=!0;k=this.IC;d.C(k);k.push(c.oj);k.push(f?f.oj:null)}BY(){var c=this.Be,f=this.IC;const k=this.Z;var g=c[0],l=c[1],p=c[2];const r=c[3],v=0!==c[4];c=0!==c[5];const q=f[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,q);c?k.blitFramebuffer(0,0,g,l,0,0,p,r,k.COLOR_BUFFER_BIT,v?k.LINEAR:k.NEAREST):(f=Math.min(g,p),g=Math.min(l,r),p=Math.max(l-r,0),l=Math.max(r-l,0),k.blitFramebuffer(0,p,f,g+p,0,l,f,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}B1(c){this.wa=18;this.bf=c}$Y(){this.bf.UD();this.bf=null}l1(c){this.wa=19;this.bf=c}IY(){this.bf.lE();this.bf=null}PY(){const c=this.Bc.si,f=this.Be;c.ph.ea&&c.ph.Te(f[0],f[1]);c.MK.ea&&c.MK.Lr(f[2])}YY(){const c=
this.Bc.si,f=this.Be;c.Gj.ea&&c.Gj.Te(f[0],f[1]);c.ph.ea&&c.ph.Te(f[4],f[5]);c.PK.ea&&c.PK.Te(f[6],f[7]);c.QK.ea&&c.QK.Te(f[8],f[9])}e1(){this.wa=22}CY(){const c=this.Z;c.clear(c.DEPTH_BUFFER_BIT)}s1(c){this.wa=23;this.kh=c?1:0}OY(){const c=this.Z;0===this.kh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}k1(){this.wa=24}HY(){const c=this.Z;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}j1(){this.wa=25}GY(){const c=this.Z;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}i1(){this.wa=26}FY(){const c=this.Z;c.disable(c.STENCIL_TEST)}oa(){switch(this.wa){case 1:this.LY();break;case 2:this.XY();break;case 3:this.NY();break;case 4:this.MY();break;case 5:this.ZY();break;case 6:this.VY();break;case 7:this.RY();break;case 8:this.WY();break;case 9:this.EY();break;case 10:this.DY();break;case 11:this.KY();break;case 12:this.TY();break;case 13:this.UY();
break;case 14:this.JY();break;case 15:this.SY();break;case 16:this.YY();break;case 17:this.BY();break;case 18:this.$Y();break;case 19:this.IY();break;case 20:this.PY();break;case 21:this.QY();break;case 22:this.CY();break;case 23:this.OY();break;case 24:this.HY();break;case 25:this.GY();break;case 26:this.FY()}}}}
{"use strict";const d=self.m,b={timeout:60},a=new d.$a(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.TZ&&d.TZ.addEventListener("fontload",r=>{r=r.font.xa();for(const v of k)(v.xe||d.th(v.rB,r))&&v.zp()});function g(r,v,q,x,u,w){v?"Gecko"===d.md.fy?r.strokeText(q,x,u,w):r.strokeText(q,x,u):"Gecko"===d.md.fy?r.fillText(q,x,u,w):r.fillText(q,x,u)}let l=!1,p=!1;d.ca.aP=class{constructor(r,v){v=Object.assign({},b,v);this.ra=
r;this.rB="Arial";this.sB=16;this.yT=1;this.vc=0;this.Tda=this.Oda=!1;this.$A="black";this.xe=!1;this.CL=null;this.PH=new Set;this.ee="left";this.Wd="top";this.Zb="";this.Zi=null;this.gf=d.B(d.Xu);this.Jq="word";this.nJ=this.WC=!1;this.ew=!0;this.$g=-1;this.M=this.P=this.Nl=this.We=this.Zg=0;this.ri=1;this.hI=!1;this.Dw=this.cm=this.ke=this.Cq=null;this.lU=this.mU=-1;this.fC=this.oU=this.sJ="";this.tJ=this.uJ=1;this.Ew=(q,x)=>this.ov(q,x);this.rb=null;this.jx=this.lx=0;this.qg=new d.Rect;this.Tw=
1;this.NJ=!1;this.EK=new d.V0(()=>{this.Ng();this.yS(8,8)},v.timeout);this.DL=null;this.Cx=!1;k.add(this)}g(){this.CL=null;this.PH.clear();this.Ew=this.Dw=this.cm=this.ke=this.Cq=this.Zi=null;this.EK.g();this.DL=null;this.Ng();this.gf.Ic();this.ra=this.gf=null;this.Cx=!0;k.delete(this)}yp(){this.hI=!0}zp(){this.yp();this.gf.Ic();this.WC=!0}q5(){this.ew=!1}Jg(){return this.ew}rP(r){r=!!r;this.xe!==r&&(r=(this.xe=r)?"alphabetic":"top",this.ke&&(this.ke.textBaseline=r),this.cm&&(this.cm.textBaseline=
r),this.zp())}e5(){"Arial"!==this.rB&&(this.rB="Arial",this.zp())}f5(){var r=16;.1>r&&(r=.1);this.sB!==r&&(this.sB=r,this.zp())}Rz(r){this.vc!==r&&(this.vc=r,this.yp())}Oz(r){r=Math.floor(r);this.$g!==r&&(this.$g=r,this.yp())}Qc(r,v){for(let q=r.length-1;0<=q;--q){const x=r[q];if(x.tag===v)return x}return null}un(r,v){return!!this.Qc(r,v)}YQ(r,v){let q=[];(this.Oda||this.un(v,"b"))&&q.push("bold");(this.Tda||this.un(v,"i"))&&q.push("italic");var x=this.Qc(v,"size");x=(x?parseFloat(x.gd):this.sB)*
this.yT;r?q.push(x+"pt"):q.push(x*this.Tw*this.ri*self.devicePixelRatio+"pt");r=this.rB;(v=this.Qc(v,"font"))&&v.gd&&(r=v.gd,this.CL&&!this.PH.has(r)&&(this.CL(r),this.PH.add(r)));r&&q.push('"'+r+'"');return q.join(" ")}gk(r){r instanceof d.$a&&(r=r.pfa());this.$A!==r&&(this.$A=r,this.yp())}sP(r,v,q){a.FD(r,v,q);this.gk(a)}l5(){if(!e.has("center"))throw Error("invalid horizontal alignment");"center"!==this.ee&&(this.ee="center",this.yp())}W5(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.Wd&&(this.Wd="center",this.yp())}RP(r){if(!f.has(r))throw Error("invalid word wrap mode");this.Jq!==r&&(this.Jq=r,this.zp())}Hr(r){this.Zb!==r&&(this.Zb=r,this.zp())}zc(r,v,q){"undefined"===typeof q&&(q=1);if(!(0>=r||0>=r||this.We===r&&this.Nl===v&&this.ri===q)){1===this.ri!==(1===q)&&(this.NJ=!0);var x=this.We,u=this.ri;this.We=r;this.Nl=v;this.ri=q;r=self.devicePixelRatio;this.P=this.We*this.ri*r;this.M=this.Nl*this.ri*r;r=Math.max(this.P,this.M);v=Math.min(this.ra.rC,2048);q=1;
r>v&&(q=v/r,this.P=Math.min(this.P*q,v),this.M=Math.min(this.M*q,v));this.Tw=q;0<this.lx&&0<this.jx&&this.ri===u&&this.qg.set(0,0,this.P/this.lx,this.M/this.jx);this.We!==x?this.zp():this.yp()}}O(){return this.P}R(){return this.M}CN(){this.vp();return this.gf.jN()}BN(){this.vp();return this.gf.k0()+this.gf.Hk.length*(this.vc+4)-this.vc}Fd(){this.EK.Mc();this.J$();return this.rb}J$(){this.rb&&!this.hI&&!this.WC||this.nJ||0>=this.P||0>=this.M||(this.hI=!1,this.nJ=!0,this.ew?d.Zk(()=>this.IQ()):this.IQ())}IQ(){this.Cx||
(this.yS(Math.ceil(this.P),Math.ceil(this.M)),this.vp(),this.U8(),this.Uca(),this.EK.Mc(),this.nJ=!1)}yS(r,v){this.Cq||(this.Cq=d.yh(16,16));let q=!1;if(this.mU!==r||this.lU!==v)this.mU=r,this.lU=v,this.Cq.width=r,this.Cq.height=v,q=!0;this.ke||(this.ke=this.Cq.getContext("2d"),q=!0);q?(this.ke.textBaseline=this.xe?"alphabetic":"top",this.ke.font=this.sJ,this.ke.fillStyle=this.fC,this.ke.strokeStyle=this.fC,this.ke.globalAlpha=this.uJ,this.ke.lineWidth=this.tJ):this.ke.clearRect(0,0,r,v)}BR(){this.cm||
(this.cm=d.yh(16,16).getContext("2d"),this.Dw=d.yh(16,16).getContext("2d"),this.cm.textBaseline=this.xe?"alphabetic":"top",this.Dw.textBaseline="top")}dca(r){this.oU!==r&&(this.oU=r,this.cm.font=r,this.Dw.font=r)}HS(){if(!l){l=!0;this.BR();const r=this.cm.measureText("test");p="number"===typeof r.fontBoundingBoxAscent&&"number"===typeof r.fontBoundingBoxDescent}return p}vp(){this.WC&&(this.BR(),!this.xe||this.Zi&&this.Zi.toString()===this.Zb||(this.Zi=new d.$k(this.Zb,{mW:!0})),this.gf.Xu(this.xe?
this.Zi.EW():this.Zb,this.Ew,this.We,this.Jq,0),this.WC=!1)}ov(r,v){this.dca(this.YQ(!0,v));v=this.Qc(v,"size");v=(v?parseFloat(v.gd):this.sB)*this.yT;const q=this.cm.measureText(r);let x=0;this.xe&&this.HS()&&(x=q.fontBoundingBoxAscent-this.Dw.measureText(r).fontBoundingBoxAscent);return{width:q.width,height:4/3*v,ug:q.fontBoundingBoxAscent||0,Nf:q.fontBoundingBoxDescent||0,Pf:x}}Qba(r){this.sJ!==r&&(this.sJ=r,this.ke.font=r)}xA(r){this.fC!==r&&(this.fC=r,this.ke.fillStyle=r,this.ke.strokeStyle=
r)}Pba(r){this.uJ!==r&&(this.uJ=r,this.ke.globalAlpha=r)}nS(r){this.tJ!==r&&(this.tJ=r,this.ke.lineWidth=r)}U8(){this.Zg=0;const r=this.Tw*this.ri*self.devicePixelRatio,v=(4+this.vc)*r;var q=0;const x=this.gf.Hk;if(0!==x.length){var u=this.xe&&this.HS(),w=x[0].height*r;"center"===this.Wd?(q=x.reduce((z,A)=>z+A.height*r+v,0)-v,q=Math.max(this.M/2-q/2,0),u&&(w=x[0].Pf*r)):"bottom"===this.Wd&&(q=x.reduce((z,A)=>z+A.height*r+v,0)-this.vc*r,q=this.M-q-(u?x.Ge(-1).Nf*r:0)-2);for(let z=0,A=x.length;z<A;++z){u=
x[z];const E=u.height*r,G=q;if(this.xe){if(q+=0===z?w:E,0<z&&q>this.M-4*r)break}else if(0<z&&q>=this.M-E)break;0<=G&&this.T8(u,q,r);this.xe||(q+=E);q+=v}}}T8(r,v,q){let x=0;"center"===this.ee?x=(this.P-r.width*q)/2:"right"===this.ee&&(x=this.P-r.width*q);for(const u of r.kL)this.S8(u,x,v,q,r.height),x+=u.width*q}S8(r,v,q,x,u){const w=this.ke;var z=u/16;u=r.width*x;const A=r.height*x,E=r.height/16;var G=(4+this.vc)*x,P=r.hd,D=r.text;if(-1!==this.$g){if(this.Zg>=this.$g)return;this.Zg+D.length>this.$g&&
(D=D.substr(0,this.$g-this.Zg),u=this.ov(D,P).width*x);this.Zg+=D.length}var H=this.Qc(P,"background"),J=this.un(P,"u");r=this.un(P,"s");if((!d.rz(D)||H||J||r)&&!this.un(P,"hide")){var M=this.Qc(P,"offsetx");v+=M?parseFloat(M.gd)*x:0;M=this.Qc(P,"offsety");q+=M?parseFloat(M.gd)*x:0;H&&(this.xA(H.gd),w.fillRect(v,q-A,u,A+G));M=this.Qc(P,"color");this.xA(M?M.gd:this.$A);G=this.Qc(P,"opacity");this.Pba(G?parseFloat(G.gd)/100:1);G=(G=this.Qc(P,"linethickness"))?parseFloat(G.gd):1;(H=this.un(P,"stroke"))&&
this.nS(.5*E*G*this.Tw*this.ri*self.devicePixelRatio);this.Qba(this.YQ(!1,P));g(w,H,D,v,q,u);!H&&(this.nS(.5*E*G*this.Tw*this.ri*self.devicePixelRatio),P=this.Qc(P,"outline"))&&(this.xA(P.gd),g(w,!0,D,v,q,u));this.xA(M?M.gd:this.$A);J&&(P=v,D=q+x*z,J=u,z=x*z*G,H?w.strokeRect(P,D,J,z):w.fillRect(P,D,J,z));r&&(x*=E,w.fillRect(v,q-A/4+x/2-x*G/2,u,x*G))}}Uca(){this.ra.Xo()||(this.lx=Math.ceil(this.P),this.jx=Math.ceil(this.M),this.qg.set(0,0,this.P/this.lx,this.M/this.jx),this.NJ&&(this.Ng(),this.NJ=
!1),this.rb||(this.rb=this.ra.CM(this.lx,this.jx,{vD:1===this.ri,Px:"high"})),this.ra.I6(this.Cq,this.rb),this.DL&&this.DL())}Gh(){return this.qg}Ng(){this.rb&&(this.ra.Xo()||this.ra.Nj(this.rb),this.rb=null)}static sl(){for(const r of k)r.Ng()}}}
{"use strict";const d=self.m;class b{constructor(a){this.Z=a.Z;this.Md=a.Md;this.Ld=a.Ld;this.ei=null;this.Vv=this.Hb=!1;this.GC=0;this.ei=1===this.Md?this.Ld.createQueryEXT():this.Z.createQuery()}g(){this.EQ();this.Ld=this.Z=null;this.Vv=!1}EQ(){this.ei&&(1===this.Md?this.Ld.deleteQueryEXT(this.ei):this.Z.deleteQuery(this.ei),this.ei=null)}UD(){if(this.Hb)throw Error("query already active");1===this.Md?this.Ld.beginQueryEXT(this.Ld.TIME_ELAPSED_EXT,this.ei):this.Z.beginQuery(this.Ld.TIME_ELAPSED_EXT,
this.ei);this.Hb=!0}lE(){if(!this.Hb)throw Error("query not active");1===this.Md?this.Ld.endQueryEXT(this.Ld.TIME_ELAPSED_EXT):this.Z.endQuery(this.Ld.TIME_ELAPSED_EXT);this.Hb=!1}ZD(){if(this.ei&&!this.Vv&&!this.Hb){var a=1===this.Md?this.Ld.getQueryObjectEXT(this.ei,this.Ld.QUERY_RESULT_AVAILABLE_EXT):this.Z.getQueryParameter(this.ei,this.Z.QUERY_RESULT_AVAILABLE);var e=this.Z.getParameter(this.Ld.GPU_DISJOINT_EXT);a&&!e&&(this.GC=1===this.Md?this.Ld.getQueryObjectEXT(this.ei,this.Ld.QUERY_RESULT_EXT):
this.Z.getQueryParameter(this.ei,this.Z.QUERY_RESULT),this.GC/=1E9,this.Vv=!0);(a||e)&&this.EQ()}}jz(){return this.Vv}Zy(){if(!this.Vv)throw Error("no result available");return this.GC}}d.ca.S6=class{constructor(a){this.ra=a;this.Zh=a.Zh;this.Hb=!1;this.Un=null;this.cq=!1;this.Ws=null;this.tq=[]}g(){for(const a of this.tq)a instanceof b&&a.g();d.C(this.tq);this.ra=this.Ws=this.Un=null}UD(){if(this.Hb)throw Error("query already active");const a=this.ra.xV;0<a.length?(this.cq=!0,this.Un=a.Ge(-1),this.Un.LQ(),
this.Un.tq.push(this)):(this.cq=!1,this.Un=null);this.Hb=!0;a.push(this);this.ES()}lE(){if(!this.Hb)throw Error("query not active");if(this.ra.xV.pop()!==this)throw Error("can only end most nested query");this.Hb=!1;this.LQ();this.Un&&(this.Un.ES(),this.Un=null)}ES(){this.Ws=d.B(b,this.ra);this.tq.push(this.Ws);this.Ws.UD()}LQ(){this.Ws.lE();this.Ws=null}ZD(){for(const a of this.tq)a.ZD()}jz(){return this.tq.every(a=>a.jz())}Zy(){return this.tq.reduce((a,e)=>a+e.Zy(),0)}}}
{"use strict";const d=self.m;d.ca.jQ=class{constructor(b,a=1E3){this.ra=b;this.cea=a;this.sk=[];this.ra.j7(this)}g(){this.Ic();this.ra.Taa(this);this.ra=null}Ic(){for(const b of this.sk)b.g();d.C(this.sk)}SD(){const b=new d.ca.S6(this.ra);this.sk.push(b);this.sk.length>this.cea&&this.sk.shift().g();return b}KX(b){for(const a of this.sk){if(a.Zh>=b)break;if(a.cq)break;a.ZD()}}dN(b,a){if(a<=b)return NaN;let e=0;for(const c of this.sk){if(c.Zh>=a)break;if(!(c.Zh<b))if(c.jz())e+=c.Zy();else return NaN}return e}GM(b){for(let a=
0,e=this.sk.length;a<e;++a){const c=this.sk[a];if(c.Zh<b)c.g();else{0<a&&this.sk.splice(0,a);break}}}}}
{"use strict";const d=self.m,b=self.Xk,a=b.Zx,e=b.xo,c={powerPreference:"default",$V:!0,alpha:!1,vL:!1,depth:!1,jW:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.nd(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),p=new d.nd,r=new d.Rect;let v=null;d.yt&&(self.lsa=function(){v?v.loseContext():console.warn("WEBGL_lose_context not supported")},self.msa=function(){v?v.restoreContext():console.warn("WEBGL_lose_context not supported")});const q=new Set;let x=
-1;function u(){x=-1;for(const w of q)w.Sea()&&(w.resolve(),q.delete(w));0<q.size&&(x=self.requestAnimationFrame(u))}d.ca.R6=class extends d.ca.q4{constructor(w,z){super();z=Object.assign({},c,z);if(!f.has(z.powerPreference))throw Error("invalid power preference");const A={alpha:!!z.alpha,depth:!1,antialias:!1,powerPreference:z.powerPreference,failIfMajorPerformanceCaveat:!!z.failIfMajorPerformanceCaveat};z.vL&&(A.desynchronized=!0,A.preserveDrawingBuffer=!0);let E=null,G=0;2<=z.jW&&(E=w.getContext("webgl2",
A),G=2);E||(E=w.getContext("webgl",A),G=1);if(!E)throw Error("failed to initialise WebGL context");this.Z=E;this.YS=E.getContextAttributes();z.vL&&!this.YS.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Md=G;this.Hf=a.create();this.WH=e.create();this.bJ=this.oo=!!z.depth;this.Np=null;this.$I=!0;this.gT=this.hT=0;this.zC=this.VT=this.VC=this.hD=null;this.zx=new Float32Array(24E3);this.WT=new Uint16Array(12E3);this.Bq=
new Float32Array(16E3);this.QU=new Float32Array(32E3);this.pU=this.AC=this.Fe=this.pi=0;this.ao=this.iq=null;this.Ev=[];this.ic=this.zn=0;this.Hd=null;this.Bc=d.B(d.ca.sX,this);this.ww=d.B(d.$a,1,1,1,1);this.Nn=this.Zl=null;this.pJ=this.rJ=0;this.eq=!1;this.Ax=this.Bx=-1;this.Wda=new d.Rect;this.rC=-1;this.IJ=0;this.ux="(unavailable)";this.eJ=!1;this.zv=this.WJ=null;this.HJ=0;this.Sda=!!z.$V;this.Ld=null;this.IA=new Set;this.xV=[];this.PZ(this.WT)}yu(){return!0}async lz(){super.lz();var w=this.Z;
this.ww.Bo(1,1,1,1);this.Nn=this.Zl=null;this.AC=this.pi=0;this.pU=23988;d.C(this.Ev);this.ic=this.zn=0;this.Hd=this.iq=null;this.Wda.set(0,0,1,1);var z=this.Bc;z.si=null;z.so=null;a.set(z.nD,1,1,1,1);z.clearColor.Bo(0,0,0,0);z.HL.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.rJ=w.ONE;this.pJ=w.ONE_MINUS_SRC_ALPHA;this.M9(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.oo?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.bJ=this.oo;this.zC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.zC);w.bufferData(w.ARRAY_BUFFER,this.QU.byteLength,w.DYNAMIC_DRAW);this.hD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.hD);w.bufferData(w.ARRAY_BUFFER,this.zx.byteLength,w.DYNAMIC_DRAW);this.VC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.VC);w.bufferData(w.ARRAY_BUFFER,this.Bq.byteLength,w.DYNAMIC_DRAW);this.VT=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.VT);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.WT,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.rC=w.getParameter(w.MAX_TEXTURE_SIZE);this.IJ=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.IJ&&(this.IJ=2048);if(z=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(z.UNMASKED_VENDOR_WEBGL),this.ux=w.getParameter(z.UNMASKED_RENDERER_WEBGL);this.WJ=w.getExtension("KHR_parallel_shader_compile");d.yt&&(v=w.getExtension("WEBGL_lose_context"));if(this.Sda)if(1===
this.Md){if("Chromium"!==d.md.fy||81<=d.md.WD||"undefined"!==typeof document)this.Ld=w.getExtension("EXT_disjoint_timer_query")}else this.Ld=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.HJ=(this.zv=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.zv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.ca.Wu;z=w.My(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
z,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",z,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",z,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
z,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",z,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
z,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
z,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
z,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",z,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.My(!0),"<tilemap>"]].map(A=>this.fE({src:A[0]},A[1],A[2])));this.PC=w[0];this.ao=w[1];this.OC=w[2];this.tK=w[3];this.Lh()}async fE(w,z,A){w=await d.ca.Wu.Na(this,w,z,A);this.k7(w);return w}w4(){this.iq=null}zc(w,z,A){if(this.P!==w||this.M!==z||A){this.Ci();A=this.Z;var E=this.Bc;this.P=w;this.M=z;w=this.rN();z=this.PE();this.BS(w,z);this.Tt(this.WH,w/z);this.Fr(this.WH);this.ao&&(A.useProgram(this.ao.ib),this.ao.QS(this.qC),this.iq=this.ao,this.Bc.si=this.ao);A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,null);A.activeTexture(A.TEXTURE0);this.Nn=this.Zl=null;this.oo&&this.$I&&this.rH(this.P,this.M);this.Hd&&this.Hd.YR(this.P,this.M);A.bindFramebuffer(A.FRAMEBUFFER,null);this.Hd=null;E.so=null}}rH(w,z){const A=this.Z;if(this.Np){if(this.hT===w&&this.gT===z)return;A.deleteRenderbuffer(this.Np)}this.Np=A.createRenderbuffer();A.bindRenderbuffer(A.RENDERBUFFER,this.Np);A.renderbufferStorage(A.RENDERBUFFER,2<=this.Md?A.DEPTH24_STENCIL8:A.DEPTH_STENCIL,w,z);A.bindRenderbuffer(A.RENDERBUFFER,
null);this.hT=w;this.gT=z}d5(w,z){this.oo&&(this.$I=!1,this.rH(w,z))}O4(){this.oo&&(this.$I=!0,this.rH(this.P,this.M))}rN(){return this.eq?this.Bx:this.O()}PE(){return this.eq?this.Ax:this.R()}BS(w,z){const A=this.Hf;if(0!==A[0]||0!==A[1]||A[2]!==w||A[3]!==z)this.Lc().z1(w,z),a.set(A,0,0,w,z),this.ic=0}Fr(w){e.Kj(this.qC,w)||(this.Lc().w1(w),e.pa(this.qC,w),this.ic=0)}wP(){let w,z;var A=this.Hd;null===A||A.gw&&this.eq?(w=this.WH,z=this.rN(),A=this.PE()):(w=A.qq,z=A.O(),A=A.R());this.Fr(w);this.BS(z,
A)}Br(w){e.Kj(this.FJ,w)||(this.Lc().t1(w),e.pa(this.FJ,w),this.ic=0)}Lc(){const w=this.Ev;this.zn===w.length&&w.push(new d.ca.Q6(this.Bc));return w[this.zn++]}Ci(){0===this.zn||this.Xo()||(this.cda(),this.X8(),this.ic=this.AC=this.Fe=this.pi=this.zn=0)}cda(){const w=this.Z;0<this.AC&&(w.bindBuffer(w.ARRAY_BUFFER,this.zC),w.bufferSubData(w.ARRAY_BUFFER,0,this.QU.subarray(0,this.AC)));0<this.pi&&(w.bindBuffer(w.ARRAY_BUFFER,this.hD),w.bufferSubData(w.ARRAY_BUFFER,0,this.zx.subarray(0,this.pi)),w.bindBuffer(w.ARRAY_BUFFER,
this.VC),w.bufferSubData(w.ARRAY_BUFFER,0,this.Bq.subarray(0,this.Fe)))}X8(){const w=this.Ev;for(let z=0,A=this.zn;z<A;++z)w[z].oa()}Cd(){return this.ww.Pa}rf(w,z,A,E){const G=this.ww;G.Hx(w,z,A,E)||(G.Bo(w,z,A,E),this.Lc().dF(G),this.ic=0,this.gj=null)}re(w){const z=this.ww;z.Pa!==w&&(z.uh(w),this.Lc().dF(z),this.ic=0,this.gj=null)}gk(w){const z=this.ww;z.Yc(w)||(z.set(w),this.Lc().dF(z),this.ic=0,this.gj=null)}wr(){this.rf(1,1,1,1)}ag(w){w!==this.Zl&&(this.Lc().y1(w),this.Zl=w,this.ic=0)}jH(){this.Zl=
null}qf(w){w=this.o9(w);this.qH(w[0],w[1])}qH(w,z){if(w!==this.rJ||z!==this.pJ)this.Lc().r1(w,z),this.rJ=w,this.pJ=z,this.ic=0,this.gj=null}RF(){this.qH(this.Z.ONE,this.Z.ONE_MINUS_SRC_ALPHA)}uP(){this.qH(this.Z.ONE,this.Z.ZERO)}Rect(w){this.ZO(w.N,w.K,w.$,w.T)}ZO(w,z,A,E){this.a4(w,z,A,z,A,E,w,E)}bv(){let w=this.pi;w>=this.pU&&(this.Ci(),w=0);1===this.ic?this.Ev[this.zn-1].Wp+=6:(this.Lc().q1(w),this.ic=1)}CH(w){w.Ega(this.zx,this.pi,this.Dv+this.Nv);this.pi+=12}nd(w){this.bv();this.CH(w);k.vh(this.Bq,
this.Fe);this.Fe+=8}a4(w,z,A,E,G,P,D,H){this.bv();const J=this.zx;let M=this.pi;const Q=this.Dv+this.Nv;J[M++]=w;J[M++]=z;J[M++]=Q;J[M++]=A;J[M++]=E;J[M++]=Q;J[M++]=G;J[M++]=P;J[M++]=Q;J[M++]=D;J[M++]=H;J[M++]=Q;this.pi=M;k.vh(this.Bq,this.Fe);this.Fe+=8}gp(w,z){this.bv();this.CH(w);z.Dga(this.Bq,this.Fe);this.Fe+=8}XO(w,z){this.bv();this.CH(w);z.vh(this.Bq,this.Fe);this.Fe+=8}Cz(w,z,A,E,G,P,D,H,J,M,Q,R,V){this.bv();const Z=this.zx;let ca=this.pi;const Y=this.Dv+this.Nv;Z[ca++]=w;Z[ca++]=z;Z[ca++]=
Y+A;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+P;Z[ca++]=D;Z[ca++]=H;Z[ca++]=Y+J;Z[ca++]=M;Z[ca++]=Q;Z[ca++]=Y+R;this.pi=ca;V.vh(this.Bq,this.Fe);this.Fe+=8}UZ(w,z){e.pa(g,this.qC);e.pa(l,this.FJ);this.wP();if(this.eq){w=this.St(0,0,100*self.devicePixelRatio,0,0);this.Br(w);w=this.Bx/2;var A=this.Ax/2;r.set(-w,A,-w+this.Bx,A-this.Ax);p.Lj(r);r.set(0,0,this.Bx/this.P,this.Ax/this.M);this.gp(p,r)}else{const [P,D]=this.f0(this.Hd);A=this.St(0,0,100*self.devicePixelRatio,0,0,D);this.Br(A);if("crop"===w&&this.Hd&&
z){w=this.P/2;A=this.M/2;const H=z.O();z=z.R();var E=this.Hd.O(),G=this.Hd.R();E=Math.min(E,H);const J=Math.min(G,z),M=Math.max(z-G,0);G=Math.max(G-z,0);r.set(-w,A-G,-w+E,A-J-G);p.Lj(r);r.set(0,M,E,J+M);r.Vk(H,z);this.gp(p,r)}else w=P/2,A=D/2,this.ZO(-w,A,w,-A)}this.Fr(g);this.Br(l)}nn(w){this.iq!==w&&(this.Lc().u1(w),this.iq=w,this.ic=0,this.gj=null)}W4(){this.nn(this.ao)}Er(w,z,A,E,G,P,D,H,J,M,Q){const R=this.iq;var V=R.KT;const Z=!!Q.length;if(V&&!R.mX(z,A,E,G,P,D,H,J,M)||Z&&!R.lX(Q)){var ca=this.Lc();
ca.v1();V&&(R.w5(z,A,E,G,P,D,H,J,M),V=ca.Be,V[0]=P,V[1]=D,z.vh(V,2),V[6]=H,V[7]=J,A.vh(V,12),z=ca.Kp,G.vh(z,0),G=z[1],z[1]=z[3],z[3]=G,E.vh(ca.rV,0),ca.kh=M,ca.bf=R.lt.ea?w?w.Fd():null:null);Z&&(R.U4(Q),d.ud(ca.IC,Q));this.ic=0}}my(){this.Lc().h1();this.ic=0}Ic(w){this.Lc().g1(w);this.ic=0}$D(w){this.QX(w.N,w.K,w.width(),w.height())}QX(w,z,A,E){0>A||0>E||(this.Lc().f1(w,z,A,E),this.ic=0)}pn(){}$t(){super.$t();this.Z.flush()}MX(){this.oo&&this.Hd&&this.Hd.Ye&&(this.Lc().e1(),this.ic=0)}kn(w){w=!!w;
this.bJ!==w&&this.oo&&(this.bJ=w,this.Lc().s1(w),this.ic=0)}JX(){for(const w of this.IA)w.KX(this.Zh)}Xo(){return!this.Z||this.Z.isContextLost()||this.eJ}sl(){super.V2();d.ca.Zz.sl();d.ca.sG.sl();d.ca.aP.sl();for(const w of this.IA)w.Ic();this.zv=this.WJ=this.Ld=null;this.HJ=0;this.ux="(unavailable)";this.Np=this.ao=this.iq=null;for(const w of this.hx.values())w.sl()}async AF(){this.eJ=!0;await this.lz();this.eJ=!1;for(const w of this.hx.values())w.AF(this);this.zc(this.P,this.M,!0)}qy(w,z){if(this.Xo())throw Error("context lost");
this.Ci();const A=d.B(d.ca.Zz,this);A.U7(w,z);return A}ry(w,z){if(this.Xo())return Promise.reject("context lost");z=Object.assign({},z);const A=z.Ot&&"clamp-to-edge"!==z.Ot||z.Pt&&"clamp-to-edge"!==z.Pt;if(!d.ac.ImageBitmapOptions||!this.pp()&&A)return d.ac.ImageBitmap?createImageBitmap(w).then(E=>d.Zk(()=>this.qy(E,z))):w instanceof Blob?d.xX(w).then(E=>this.ry(E,z)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.Zk(()=>this.qy(w,
z))):d.Zk(()=>this.qy(w,z));z.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>d.Zk(()=>this.qy(E,z)))}CM(w,z,A){this.Ci();const E=d.B(d.ca.Zz,this);E.H7(w,z,A);return E}I6(w,z){this.Ci();z.LS(w,void 0)}Nj(w){w&&(w.r6(),0<w.Vc||(this.Ci(),w===this.Zl&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Zl=null),w===this.Nn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Nn=null),w.HG()))}kY(w){let z=
this.P,A=this.M,E=!0;w&&("number"===typeof w.width&&(z=w.width,E=!1),"number"===typeof w.height&&(A=w.height,E=!1));if(0>=z||0>=A)throw Error("invalid size");this.Ci();const G=d.B(d.ca.sG,this);G.G7(z,A,Object.assign({eW:E},w));this.Hd=null;this.Bc.so=null;return G}Qe(w){w!==this.Hd&&(w&&w.gw&&w.YR(this.P,this.M),this.Lc().x1(w),this.Hd=w,this.ic=0,this.wP())}Yy(){return this.Hd}f0(w){return w?[w.O(),w.R()]:[this.P,this.M]}bE(w){2>this.Md||this.Hd&&0<this.Hd.dm?(this.uP(),this.wr(),this.Vt(w,"stretch")):
(this.Lc().c1(w,this.Hd),this.ic=0)}Vt(w,z="stretch"){w=w.Fd();if(!w)throw Error("not a texture-backed render target");this.ag(w);this.UZ(z,w)}Vo(w){2>this.Md||(this.Lc().m1(w.oj),this.ic=0)}zY(w){this.Qe(null);this.Ci();const z=w.Fd();z===this.Zl&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Zl=null);z===this.Nn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Nn=null);w.HG()}async e4(w){this.Ci();const z=this.Hd;if(w){var A=
w.O();var E=w.R();w=w.oj}else A=this.O(),E=this.R(),w=null;const G=this.Z;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(A,E);G.readPixels(0,0,A,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Hd=null;this.Bc.so=null;this.Qe(z)})();return w}zM(){this.kn(!0);this.Lc().k1();this.ic=0}yM(){this.kn(!1);this.Lc().j1();this.ic=0}xM(){this.kn(!0);this.Lc().i1();this.ic=0}mG(w){this.jk()&&(this.Lc().B1(w),this.ic=0)}kE(w){this.jk()&&(this.Lc().l1(w),
this.ic=0)}Zca(w){const z=new Promise(A=>q.add({resolve:A,Sea:w}));-1===x&&(x=self.requestAnimationFrame(u));return z}N1(){return!!this.YS.desynchronized}n_(){let w=0;for(const z of d.ca.Zz.Jea())w+=z.wE();return w}pp(){return 2<=this.Md}jk(){return!!this.Ld}j7(w){this.IA.add(w)}Taa(w){this.IA.delete(w)}M9(w){this.L9([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",
w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.O0=class{constructor(e){d=e;Object.defineProperties(this,{sfa:{value:{},writable:!1},storage:{value:new self.S0(d),writable:!1},gta:{value:d.Ae,writable:!1}});d.le.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.le.addEventListener("keyup",c=>b.delete(c.key));d.Cb().addEventListener("window-blur",()=>b.clear());d.Ae&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}O9(e){Object.defineProperties(this.sfa,e)}addEventListener(e,c){d.le.addEventListener(e,c)}removeEventListener(e,c){d.le.removeEventListener(e,c)}get YV(){return d.Mm()}get Nsa(){return d.Cg()}random(){return d.ul()}get vg(){return d.Ob().Yv}get keyboard(){const e=d.Iv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get kW(){const e=d.Iv.kW;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get ZL(){const e=d.Iv.ZL;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.fp("runtime","alert",{message:e+(d.Ae?" [via Web Worker]":"")})}}}"use strict";self.I0=class{constructor(){}};{"use strict";const d=self.wh;self.S0=class{constructor(b){this.tg=b.bR()}getItem(b){d.qe(b);return this.tg.getItem(b)}setItem(b,a){d.qe(b);return this.tg.setItem(b,a)}removeItem(b){d.qe(b);return this.tg.removeItem(b)}clear(){return this.tg.clear()}keys(){return this.tg.keys()}}}
{"use strict";const d=self.wh,b=new WeakMap;self.kz=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.xa(),writable:!1}});a.G().yR(this,a)}addEventListener(a,e){d.qe(a);d.dk(e);b.get(this).le.addEventListener(a,e)}removeEventListener(a,e){d.qe(a);d.dk(e);b.get(this).le.removeEventListener(a,e)}*dW(){for(const a of b.get(this).ja())yield a.Dh()}gL(a){d.Zf(void 0);d.Zf(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var e=
b.get(this),c=e.G();a=c.Ob().da(a);if(!a)throw Error("invalid layer");e=c.dE(e,a,void 0,void 0,void 0);c=c.ia();c.He(!0);e.CA();c.He(!1);return e.Dh()}}}
{"use strict";const d=self.wh,b=new WeakMap;self.N0=class{constructor(a){b.set(this,a);const e=[],c=a.La,f=c.zg().length;for(let k=0;k<f;++k)e.push(new self.cF(c,k));Object.defineProperties(this,{name:{value:a.xa(),writable:!1},index:{value:a.Da(),writable:!1},ZV:{value:e,writable:!1}})}addEventListener(a,e){d.qe(a);d.dk(e);b.get(this).le.addEventListener(a,e)}removeEventListener(a,e){d.qe(a);d.dk(e);b.get(this).le.removeEventListener(a,e)}get width(){return b.get(this).O()}set width(a){b.get(this).tf(a)}get height(){return b.get(this).R()}set height(a){b.get(this).sf(a)}set scale(a){d.Mi(a);
b.get(this).np(a)}get scale(){return b.get(this).Rb}set angle(a){d.Mi(a);b.get(this).yc(a)}get angle(){return b.get(this).ta()}set scrollX(a){d.Zf(a);b.get(this).Ni(a)}get scrollX(){return b.get(this).Tf()}set scrollY(a){d.Zf(a);b.get(this).Oi(a)}get scrollY(){return b.get(this).Uf()}scrollTo(a,e){d.Zf(a);d.Zf(e);const c=b.get(this);c.Ni(a);c.Oi(e)}set uW(a){d.qe(a);const e=b.get(this);if("perspective"===a)e.MP();else if("orthographic"===a)e.JP();else throw Error("invalid projection");}get uW(){return b.get(this).zf?
"orthographic":"perspective"}}}
{"use strict";const d=self.m,b=self.wh,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.B(d.$a);self.M0=class{constructor(c){a.set(this,c);const f=[],k=c.La,g=k.zg().length;for(let l=0;l<g;++l)f.push(new self.cF(k,l));Object.defineProperties(this,{name:{value:c.xa(),writable:!1},index:{value:c.Da(),
writable:!1},vg:{value:c.nc().Yv,writable:!1},ZV:{value:f,writable:!1}})}get isVisible(){return a.get(this).$c()}set isVisible(c){a.get(this).Mh(c)}get opacity(){return a.get(this).Cd()}set opacity(c){c=d.W(+c,0,1);isNaN(c)||a.get(this).re(c)}set scale(c){b.Mi(c);a.get(this).KP(c)}get scale(){return a.get(this).Rb}set angle(c){b.Mi(c);a.get(this).yc(c)}get angle(){return a.get(this).ue}set ay(c){b.Mi(c);a.get(this).Se(c)}get ay(){return a.get(this).Qa()}set backgroundColor(c){b.LF(c);if(3>c.length)throw Error("expected 3 elements");
e.FD(c[0],c[1],c[2]);c=a.get(this);const f=c.Jl;f.vo(e)||(f.Bm(e),c.G().S())}get backgroundColor(){const c=a.get(this).Jl;return[c.Ua,c.Ya,c.Xa]}set scrollX(c){b.Zf(c);const f=a.get(this);f.Mu(!0);f.Ni(c)}get scrollX(){return a.get(this).Tf()}set scrollY(c){b.Zf(c);const f=a.get(this);f.Mu(!0);f.Oi(c)}get scrollY(){return a.get(this).Uf()}scrollTo(c,f){b.Zf(c);b.Zf(f);const k=a.get(this);k.Mu(!0);k.Ni(c);k.Oi(f)}}}
{"use strict";const d=self.m,b=self.wh,a=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.B(d.Event.Cb);e.set(k,g);return g}let f=null;self.hr=class{constructor(){a.set(this,f);const k={Hc:{value:f.G().sj,writable:!1},BL:{value:f.H().Zv,writable:!1},uid:{value:f.lc,writable:!1}};f.t9(k);f.n9(k);Object.defineProperties(this,k);f.G().yR(this,f)}static Ui(k){f=k}static tn(){return f}rv(){const k=e.get(this);k&&(k.g(),e.delete(this));a.delete(this)}addEventListener(k,g,l){b.qe(k);
b.dk(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){b.qe(k);b.dk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.m,b=self.wh,a=self.hr,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.B(d.$a);self.uu=class c extends a{constructor(){super();var f=a.tn();e.set(this,f);const k=[];var g=f.j();if(f=g.we){g=g.H().La.zg().length;for(let l=0;l<g;++l)k.push(new self.cF(f,l))}Object.defineProperties(this,
{ZV:{value:k,writable:!1}})}get vg(){return e.get(this).j().nc().Yv}get Yd(){return e.get(this).j().da().Hda}get x(){return e.get(this).j().X()}set x(f){f=+f;const k=e.get(this).j();isNaN(f)||k.X()===f||(k.bg(f),k.Ba())}get y(){return e.get(this).j().Y()}set y(f){f=+f;const k=e.get(this).j();isNaN(f)||k.Y()===f||(k.Re(f),k.Ba())}get ay(){return e.get(this).j().Qa()}set ay(f){f=+f;const k=e.get(this),g=k.j();isNaN(f)||g.Qa()===f||(g.Se(f),k.G().S())}get width(){return e.get(this).j().O()}set width(f){f=
+f;const k=e.get(this).j();isNaN(f)||k.O()===f||(k.tf(f),k.Ba())}get height(){return e.get(this).j().R()}set height(f){f=+f;const k=e.get(this).j();isNaN(f)||k.R()===f||(k.sf(f),k.Ba())}get angle(){return e.get(this).j().ta()}set angle(f){f=d.me(+f);const k=e.get(this).j();isNaN(f)||k.ta()===f||(k.yc(f),k.Ba())}oL(){e.get(this).j().Kc().uga()}get isVisible(){return e.get(this).j().$c()}set isVisible(f){f=!!f;const k=e.get(this),g=k.j();g.$c()!==f&&(g.Mh(f),k.G().S())}get opacity(){return e.get(this).j().Cd()}set opacity(f){f=
d.W(+f,0,1);const k=e.get(this),g=k.j();isNaN(f)||g.Cd()===f||(g.re(f),k.G().S())}get zIndex(){return e.get(this).j().Zj()}Mf(f,k){b.Zf(f);b.Zf(k);return e.get(this).j().Ut(+f,+k)}getParent(){const f=e.get(this).ya();return f?f.Dh():null}*Qx(){for(const f of e.get(this).Qx())yield f.Dh()}*children(){for(const f of e.get(this).children())yield f.Dh()}*Uk(){for(const f of e.get(this).Uk())yield f.Dh()}removeChild(f){b.MF(f,c);const k=e.get(this);f=e.get(f);k.ck(f)}}}
{"use strict";const d=new WeakMap;self.Pja=class extends self.uu{constructor(){super();d.set(this,self.hr.tn())}focus(){d.get(this).ga.SM()}blur(){d.get(this).ga.kM()}}}
{"use strict";const d=self.m,b=self.wh,a=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.B(d.Event.Cb);e.set(k,g);return g}let f=null;self.bF=class{constructor(){a.set(this,f);const k={Hc:{value:f.G().sj,writable:!1},behavior:{value:f.Km().F_(),writable:!1}};Object.defineProperties(this,k)}static Ui(k){f=k}static tn(){return f}get instance(){return a.get(this).J.Dh()}rv(){const k=e.get(this);k&&(k.g(),e.delete(this));a.delete(this)}addEventListener(k,g,l){b.qe(k);b.dk(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){b.qe(k);b.dk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.K0=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Hc:{value:b.G().sj,writable:!1}})}}}
{"use strict";const d=self.m,b=self.wh,a=new WeakMap;self.cF=class{constructor(e,c){a.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).zg()[this.index].xa()}getParameter(e){b.Mi(e);e=Math.floor(+e);const c=a.get(this).Bg(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.$a?[e.Ua,e.Ya,e.Xa]:e}}}
{"use strict";const d=self.m,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.rX=class extends d.fa{constructor(e,c){super();var f=c.exportType;this.b=e;this.nC=new Map;this.Ms=new Map;this.aea=new Map;this.KB="cordova"===f;this.oJ=!!c.isiOSCordova;this.hw=!!c.isFileProtocol;this.yea=c.supportedAudioFormats||{};this.VH=
new Map;this.SU=!1;this.QT=this.zT=this.BU="";this.dB="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.LH=[];this.UH=new Map;this.WK=[];this.lC=[];this.LT=!1;this.eC=this.TH=this.qx=0;this.LI=!1;this.$da=d.B(d.d4,()=>this.QQ(),50);this.gK=new d.DF(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,g]of Object.entries(e))this.nC.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.aea.set(k,g);new self.I0(this)}g(){this.nC.clear();for(const e of this.Ms.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ms.clear();for(const e of this.LH)e.g();d.C(this.LH);this.UH.clear();d.C(this.lC);this.b=null}G(){return this.b}eca(e){this.BU=e}Rba(e){this.zT=e}Wba(e){this.QT=e}mA(e){return this.nC.has(e.toLowerCase())}iA(e){return this.nC.get(e.toLowerCase())||null}GE(e){if(!this.mA(e))return e;e=e.toLowerCase();var c=this.Ms.get(e);c||(c=this.iA(e),
c=URL.createObjectURL(c),this.Ms.set(e,c));return c}cl(e,c){c=c||this.dB;const f=this.iA(e);if(f)return Promise.resolve(f);if(d.sF(e)){const k=e.toLowerCase();return this.KB&&this.hw?this.BM(k):"local"===c?this.gK.wc(()=>d.cl(k)):d.cl(k)}return d.cl(e)}Yt(e){const c=this.iA(e);if(c)return d.wX(c);if(d.sF(e)){const f=e.toLowerCase();return this.KB&&this.hw?this.AM(f):"local"===this.dB?this.gK.wc(()=>d.Yt(f)):d.Yt(f)}return d.Yt(e)}Zt(e){const c=this.iA(e);if(c)return d.jM(c);if(d.sF(e)){const f=e.toLowerCase();
return this.KB&&this.hw?this.eY(f):"local"===this.dB?this.gK.wc(()=>d.Zt(f)):d.Zt(f)}return d.Zt(e)}async QM(e){e=await this.Zt(e);return JSON.parse(e)}yG(e,c){return this.b.fp("runtime","cordova-fetch-local-file",{filename:e,as:c})}eY(e){return this.yG(e,"text")}async BM(e){const c=await this.yG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":a.get(e.Ge(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async dY(e){e=e.toLowerCase();var c=this.Ms.get(e);if(c)return c;c=await this.BM(e);c=URL.createObjectURL(c);
this.Ms.set(e,c);return c}AM(e){return this.yG(e,"buffer")}kN(e){return this.mA(e)?this.GE(e):this.BU+e.toLowerCase()}LE(e,c=""){if(d.gF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.mA(e)?Promise.resolve(this.GE(e)):this.KB&&this.hw?this.dY(c+e):Promise.resolve(c+e.toLowerCase())}yz(e){if(e.Nx&&!b.has(e.Nx))throw Error("invalid load policy");let c=this.UH.get(e.url);if(c)return c;c=d.B(d.KN,this,{url:e.url,size:e.size||0,Nx:e.Nx||this.dB});
this.LH.push(c);this.UH.set(c.Hj,c);this.LT||(this.qx+=c.Rm(),this.lC.push(c.gO().then(()=>this.oQ(c.Rm()))));return c}async hQ(){try{await Promise.all(this.lC),this.eC=1}catch(e){console.error("Error loading: ",e),this.LI=!0,this.QQ()}}m5(){this.LT=!0}oQ(e){this.TH+=e;this.$da.EX()}QQ(){const e=d.B(d.Event,"loadingprogress");this.eC=d.W(this.TH/this.qx,0,1);e.progress=this.eC;this.b.Cb().dispatchEvent(e)}tca(e){d.ud(this.WK,e);this.WK.length&&this.lC.push(this.B$())}B$(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,k]of this.WK)this.qx+=k,e.push(this.A$(c,f).then(()=>this.oQ(k)));return Promise.all(e)}async A$(e,c){try{const f=await this.LE(c,this.zT),k=new FontFace(e,`url('${f}')`);this.b.Ae?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}NN(e){return!!this.yea[e]}Iba(e,c){this.SU=!!c;for(const [f,k,g]of e)this.VH.set(f,{fileName:f,kfa:k.map(l=>({type:l[0],wsa:l[1],aW:f+l[1],fileSize:l[2]})),Dfa:g})}nN(e){e=
this.VH.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.kfa)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.NN(f.type))return f;return c}Dg(e){return(e=this.nN(e))?{url:this.kN(e.aW),type:e.type}:null}a_(){if(this.SU){const e=[];for(const c of this.VH.values()){if(c.Dfa)continue;const f=this.nN(c.fileName);f&&e.push({Xfa:c.fileName,url:this.kN(f.aW),type:f.type,fileSize:f.fileSize})}return e}return[]}async kO(e){e=await this.LE(e);return await this.b.fp("runtime","add-stylesheet",
{url:e})}}}
{"use strict";const d=self.m;d.qX=class extends d.fa{constructor(b,a){super();this.ob=b;this.b=b.G();this.Hj=a.url;this.Zs=a.size;this.AJ=a.Nx;this.Fv=null;this.hJ=!1;this.Qn=null}g(){this.Fv=this.b=this.ob=this.Qn=null}Rm(){return this.Zs}gO(){return"local"===this.AJ||this.Fv?(this.hJ=!0,Promise.resolve()):this.Qn?this.Qn:this.Qn=this.ob.cl(this.Hj,this.AJ).then(b=>{this.hJ=!0;this.Qn=null;return this.Fv=b}).catch(b=>console.error("Error loading resource: ",b))}pz(){return this.hJ}d_(){return this.Fv?Promise.resolve(this.Fv):
this.Qn?this.Qn:this.ob.cl(this.Hj,this.AJ)}}}
{"use strict";const d=self.m,b=new d.DF,a=new Set;d.KN=class extends d.qX{constructor(e,c){super(e,c);this.Qk=this.Dq=null;this.Vc=0;this.ST=this.UT=-1;a.add(this)}g(){this.Ng();if(0!==this.Vc)throw Error("released image asset which still has texture references");this.Dq=null;a.delete(this);super.g()}static qr(){for(const e of a)e.Dq=null,e.Qk=null,e.Vc=0}$m(e,c){c=c||{};this.Vc++;if(this.Qk)return Promise.resolve(this.Qk);if(this.Dq)return this.Dq;c.LV=this.b.U.wV;return this.Dq=this.d_().then(f=>
b.wc(()=>e.ry(f,c).then(k=>{this.Dq=null;if(0===this.Vc)return e.Nj(k),null;this.Qk=k;this.UT=k.O();this.ST=k.R();return this.Qk}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Ng(){if(0>=this.Vc)throw Error("texture released too many times");this.Vc--;0===this.Vc&&this.Qk&&(this.Qk.sb().Nj(this.Qk),this.Qk=null)}Fd(){return this.Qk}O(){return this.UT}R(){return this.ST}}}
{"use strict";const d=self.m;function b(a,e){return a.j().Tk-e.j().Tk}d.o4=class extends d.fa{constructor(a,e,c){super();this.V=e;this.L=c;this.F=[];this.lw=!0;this.Aj=new Set;this.dw=!1}g(){d.C(this.F);this.Aj.clear()}Mc(){d.C(this.F);this.lw=!0;this.Aj.clear();this.dw=!1}R4(){this.lw=!1}Zo(){if(!this.F.length)return!0;if(this.F.length>this.Aj.size)return!1;this.PG();return!0}eF(a){this.Aj.has(a)?(this.Aj.delete(a),0===this.Aj.size&&(this.dw=!1)):(this.F.push(a),this.lw=1===this.F.length)}Jh(a){this.Aj.add(a);
this.dw=!0;50<=this.Aj.size&&this.PG()}PG(){this.dw&&(this.F.length===this.Aj.size?this.Mc():(d.rh(this.F,this.Aj),this.Aj.clear(),this.dw=!1))}W8(){this.lw||(this.F.sort(b),this.lw=!0)}iE(a){this.PG();this.W8();this.F.length&&a.push(this.F)}}}
{"use strict";const d=self.m;d.p4=class extends d.fa{constructor(b,a){super();this.gI=b;this.fI=a;this.bj=d.B(d.Bu)}g(){this.bj.g();this.bj=null}Lm(b,a,e){let c=this.bj.aa(b,a);return c?c:e?(c=d.B(d.o4,this,b,a),this.bj.Set(b,a,c),c):null}Ri(b){return Math.floor(b/this.gI)}Si(b){return Math.floor(b/this.fI)}Al(b,a,e){if(a)for(let c=a.N,f=a.$;c<=f;++c)for(let k=a.K,g=a.T;k<=g;++k){if(e&&e.Mf(c,k))continue;const l=this.Lm(c,k,!1);l&&(l.Jh(b),l.Zo()&&this.bj.Go(c,k))}if(e)for(let c=e.N,f=e.$;c<=f;++c)for(let k=
e.K,g=e.T;k<=g;++k)a&&a.Mf(c,k)||this.Lm(c,k,!0).eF(b)}Dz(b,a){let e=this.Ri(b.N);const c=this.Si(b.K),f=this.Ri(b.$);for(b=this.Si(b.T);e<=f;++e)for(let k=c;k<=b;++k){const g=this.Lm(e,k,!1);g&&g.iE(a)}}v2(b){let a=b.N;const e=b.K,c=b.$;for(b=b.T;a<=c;++a)for(let f=e;f<=b;++f){const k=this.Lm(a,f,!1);k&&k.R4()}}}}
{"use strict";const d=self.m,b=new d.Rect,a=new d.nd,e=[],c=new d.Rect,f=new d.Rect,k=self.Xk,g=k.LD,l=k.Zx,p=k.xo;p.create();const r=g.create(),v=l.create(),q=g.create(),x=g.create(),u=g.create(),w=d.B(d.Vu);function z(D,H){return D.j().Tk-H.j().Tk}function A(D,H){return D.j().Qa()-H.j().Qa()}const E=[],G=[],P=[];d.vF=class extends d.fa{constructor(D,H,J){super();this.yj=D;this.b=D.G();this.Ca=J[0];this.Oa=H;this.eb=J[2];this.bC=!!J[3];this.Jl=d.B(d.$a);this.Jl.Ao(J[4].map(M=>M/255));this.Mn=!!J[5];
this.ge=J[6];this.he=J[7];this.pb=d.B(d.$a,1,1,1,J[8]);this.BC=d.B(d.$a);this.cJ=J[9];this.rea=J[17];this.BV=J[18];this.Dea=J[10];this.Dj=J[11];this.Bn=J[12];this.vk=null;this.Rb=1;this.ed=J[16];this.ki=this.ji=this.ue=0;this.Sl=!1;this.Hf=d.B(d.Rect);this.HV=d.B(d.Rect);this.po=d.B(d.Rect);this.qq=p.create();this.lJ=!0;this.FU=p.create();this.iJ=!0;this.GV=d.B(d.ca.K6);this.aC=!0;this.tV=[];this.Ck=[];this.bB=[];this.XT=new Map;this.F=[];this.Fp=this.ZK=!1;this.La=d.B(d.al,this,J[15]);this.Xs=null;
this.qJ=[];this.TB=!1;this.Xda=d.B(d.Rect,0,0,-1,-1);this.wda=d.B(d.Rect,0,0,-1,-1);this.Hda=new self.M0(this);this.SS();this.rp()&&(this.Xs=d.B(d.p4,this.b.hh,this.b.gh));for(const M of J[14])D=this.b.nf(M[1]),this.yj.mQ(D),D.ks||D.vP(M),this.Ck.push(M),this.XT.set(M[2],M);d.ud(this.tV,this.Ck)}static Na(D,H,J){return d.B(d.vF,D,H,J)}g(){this.b=this.yj=null}I_(D){return this.XT.get(D)}hY(D){const H=this.yj.bq;let J=0;const M=this.Ck;for(let R=0,V=M.length;R<V;++R){var Q=M[R];const Z=this.b.nf(Q[1]);
let ca=!0;if(!Z.ZE()||H)Q=this.b.Bi(Q,this,!0),D.push(Q),Z.Lg()&&(ca=!1,this.bB.push(Q.lc));ca&&(M[J]=M[R],++J)}d.jf(M,J);this.b.Zd();this.Sg()}Ug(D,H){const J=D.j();if(J.da()!==this)throw Error("instance added to wrong layer");this.F.push(D);0!==J.Qa()&&(this.Fp=!0);H&&this.rp()&&D.j().Ba();this.Sg()}F$(D){this.F.includes(D)||(this.F.push(D),0!==D.j().Qa()&&(this.Fp=!0),this.Sg())}zaa(D){const H=D.j();if(H.da()!==this)throw Error("instance added to wrong layer");this.F.unshift(D);0!==H.Qa()&&(this.Fp=
!0);this.Sg()}xp(D,H){const J=this.F.indexOf(D);0>J||(H&&this.rp()&&D.j().VR(),this.F.splice(J,1),this.Sg(),this.ER())}kS(){this.Fp=!0}ER(){0===this.F.length&&(this.Fp=!1)}xH(D){if(D){D=new Set;for(var H of this.F){var J=H.j().Tk;0<=J&&D.add(J)}H=-1;for(const M of this.F)if(J=M.j(),!(0<=J.Tk)){for(++H;D.has(H);)++H;J.AA(H)}}this.F.sort(z)}V8(){for(const D of this.F)D.H().Lg()||this.b.Jm(D);this.b.Zd();d.C(this.F);this.Fp=!1;this.Sg()}Fu(D,H,J,M,Q){const R=this.b.ia(),V=this.b.ad,Z=D.Sa,ca=[];for(const ka of this.Ck){var Y=
ka[0];if(H.Mf(Y[0],Y[1])){Y=V[ka[1]];if(Y!==D)if(Z){if(!D.PM(Y))continue}else continue;Y=this;var ha=this.b.Ha();this.nc()!==ha&&((Y=ha.hN(this.xa()))||(Y=ha.Ty(this.Da())));ha=this.b.Bi(ka,Y,!1,void 0,void 0,!1,Q);Y.iG(ha);Y=ha.j();Y.Au(J,M);Y.Ba();R.He(!0);ha.CA();R.He(!1);ca.push(ha)}}return ca}nc(){return this.yj}xa(){return this.Ca}Da(){return this.Oa}G(){return this.b}dl(){return this.b.dl()}rp(){return this.Dea&&!this.BV}B5(){this.TB=!1}$c(){return this.bC}Mh(D){D=!!D;this.bC!==D&&(this.bC=
D,this.b.S())}Mu(D){D=!!D;if(this.Sl!==D){if(this.Sl=D)D=this.nc(),this.ji=D.Tf(),this.ki=D.Uf();this.nk();this.b.S()}}Ni(D){var H=this.nc();const J=H.tN();H=H.uN();D>H&&(D=H);D<J&&(D=J);this.ji!==D&&(this.ji=D,this.Sl&&(this.nk(),this.b.S()))}Oi(D){var H=this.nc();const J=H.vN();H=H.sN();D>H&&(D=H);D<J&&(D=J);this.ki!==D&&(this.ki=D,this.Sl&&(this.nk(),this.b.S()))}Tf(){return this.Sl?this.ji:this.nc().Tf()}Uf(){return this.Sl?this.ki:this.nc().Uf()}UG(){const D=this.nc();return[D.TE(),D.UE()]}GN(D,
H){var J=this.HV;if(0===D)H.pa(J);else{let V=J.Dt(),Z=J.Et();var M=this.VZ(D);const ca=J.width()/M;J=J.height()/M;const [Y,ha]=this.UG();if(.5!==Y||.5!==ha){const ka=this.Gy();var Q=this.b,R=100/ka;M=(Y-.5)*Q.Jf/R;Q=(ha-.5)*Q.If/R;R=this.ta();0!==R&&(w.set(M,Q),w.rotate(R),M=w.V,Q=w.L);D=d.KD(ka,0,D);V+=d.td(M,0,D);Z+=d.td(Q,0,D)}H.set(V-ca/2,Z-J/2,V+ca/2,Z+J/2)}}Cd(){return this.pb.Pa}re(D){D=d.W(D,0,1);this.pb.Pa!==D&&(this.pb.uh(D),this.SS(),this.b.S())}SS(){this.BC.pa(this.pb);this.BC.zD()}KE(){return this.BC}Sm(){return this.pb.Hx(1,
1,1,1)}C5(D){this.Dj!==D&&(this.Dj=D,this.nk(),this.b.S())}y5(D,H){if(this.ge!==D||this.he!==H)if(this.ge=D,this.he=H,this.nk(),this.b.S(),1!==this.ge||1!==this.he)for(const J of this.F)J.H().pH(!0)}Se(D){this.ed!==D&&(this.ed=D,this.b.S())}Qa(){return this.ed}yc(D){D=d.me(D);this.ue!==D&&(this.ue=D,this.nk(),this.b.S())}ta(){return d.me(this.yj.ta()+this.ue)}A0(){return 0<this.F.length}QG(){return this.JF()&&this.BV?(d.ud(P,this.F),P.sort((D,H)=>this.Bca(D,H)),P):this.F}Bca(D,H){var J=this.nc().cT,
M=J[0],Q=J[1];J=J[2];var R=D.j();const V=H.j();H=R.X()-M;D=R.Y()-Q;R=R.Qa()-J;M=V.X()-M;Q=V.Y()-Q;J=V.Qa()-J;return M*M+Q*Q+J*J-(H*H+D*D+R*R)}Q5(D){D=!!D;this.Mn!==D&&(this.Mn=D,this.b.S())}g5(D){D=!!D;this.cJ!==D&&(this.cJ=D,this.b.S())}r4(){return!this.G().wm||!this.rea}JF(){return!this.r4()}gr(){return this.JF()&&this.nc().Nda}qf(D){this.Bn!==D&&(this.Bn=D,this.b.S())}Di(){return this.Bn}b2(D){return this===D||this.ge===D.ge&&this.he===D.he&&this.Rb===D.Rb&&this.Dj===D.Dj&&this.ue===D.ue&&this.Tf()===
D.Tf()&&this.Uf()===D.Uf()}Maa(D){0!==D.size&&0<d.rh(this.F,D)&&(this.ER(),this.Sg())}Sg(){this.TB=this.ZK=!1}xv(){if(!this.ZK){this.F.sort(A);if(this.rp())for(let D=0,H=this.F.length;D<H;++D){const J=this.F[D].j();J.AA(D);this.Xs.v2(J.Pw)}else for(let D=0,H=this.F.length;D<H;++D)this.F[D].j().AA(D);this.ZK=!0}}A2(D,H,J){var M=D.j();H=H.j();if(M.da()!==this||H.da()!==this)throw Error("can't arrange Z order unless both objects on this layer");M=M.Zj();H=H.Zj();if(M===H+(J?1:-1))return!1;d.Qea(this.F,
M);M<H&&H--;J&&H++;H===this.F.length?this.F.push(D):this.F.splice(H,0,D);this.Sg();return!0}N$(D,H){const J=[];let M=0,Q=0,R=D.length,V=H.length;for(;M<R&&Q<V;){const Z=D[M],ca=H[Q];Z.j().Tk<ca.j().Tk?(J.push(Z),++M):(J.push(ca),++Q)}for(;M<R;++M)J.push(D[M]);for(;Q<V;++Q)J.push(H[Q]);return J}M$(D){const H=[],J=D.length;for(let M=0;M<J-1;M+=2)H.push(this.N$(D[M],D[M+1]));1===J%2&&H.push(D[J-1]);return H}L$(D){for(;1<D.length;)D=this.M$(D);return D[0]}C9(){this.xv();d.C(e);this.Xs.Dz(this.Hf,e);return e.length?
1===e.length?e[0]:this.L$(e):[]}c$(){return!this.Mr()&&!this.Mn}SP(){return this.$c()&&0<this.Cd()&&(this.A0()||!this.Mn)}Mr(){return this.cJ||!this.Sm()||0!==this.Di()||this.La.su()}Yy(){return this.vk}y7(D){if(0===D.length)return!0;if(2<=D.length)return!1;D=D[0].ib;return!D.an()&&!D.xx&&!D.kI&&this.Sm()}VZ(D){if(this.yj.zf)return 1;{const H=this.Gy();return H/(H-D)}}Gy(){return 100/this.Rj()}nk(){this.aC=this.iJ=!0}jA(D){this.iJ&&(this.w7(D,this.FU),this.iJ=!1);return this.FU}w7(D,H){const J=this.b;
var M=this.nc();const Q=J.Pm();var R=J.UJ,V=J.VJ,Z=(this.Tf()-R)*this.ge+R,ca=(this.Uf()-V)*this.he+V;this.b.Fk&&(Z=Math.round(Z),ca=Math.round(ca));if(this.gr())g.pa(q,M.cT),g.pa(x,M.sda),g.pa(u,M.tda),M=x[0]-q[0],ca=x[1]-q[1],Z=x[2]-q[2],q[0]=(q[0]-R)*this.ge+R,q[1]=(q[1]-V)*this.he+V,q[2]*=Math.max(this.ge,this.he),x[0]=q[0]+M,x[1]=q[1]+ca,x[2]=q[2]+Z,g.set(r,Q,Q,1),g.multiply(q,q,r),g.multiply(x,x,r);else{R=(Z+0)*Q;V=(ca+0)*Q;M=M.zf?100:this.Gy();ca=this.ta();const [ha,ka]=this.UG();if(.5!==ha||
.5!==ka){var Y=100/M;Z=(ha-.5)*J.Jf*Q/Y;Y=(ka-.5)*J.If*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.V,Y=w.L);R+=Z;V+=Y}g.set(q,R,V,M);g.set(x,R,V,M-100);0===ca?g.set(u,0,1,0):g.set(u,Math.sin(ca),Math.cos(ca),0)}D.nM(H,q,x,u,J.U.Sf());1!==Q&&(g.set(r,Q,Q,1),p.scale(H,H,r))}ica(){this.aC=this.lJ=!0}kA(D){this.lJ&&(this.x7(D),this.lJ=!1);return this.qq}x7(D){const H=this.b.U,[J,M]=this.UG();this.yj.zf?D.BX(this.qq,H.Ag(),H.Sf()):.5===J&&.5===M?p.pa(this.qq,H.eB):D.Tt(this.qq,H.Ag()/H.Sf(),J,M)}wH(D){D.Fr(this.kA(D));
let H;H=this.jA(D);D.Br(H)}R3(D){this.wH(D);D.Iu(this.Qa())}oe(D,H,J){var M=this.b.U;const Q=this.Mr();var R=null;let V=null;if(this.b.lF()&&D.yu()){const Z=M.iN(this);Z&&(V=Z.SD(),D.mG(V))}Q?(R={wg:this.b.Wc},"low"===M.qj&&(R.width=M.Ag(),R.height=M.Sf()),R=this.b.cu(R),D.Qe(R),this.Mn?D.my():D.Ic(this.Jl)):(D.Qe(H),this.Mn||J||D.Ic(this.Jl));this.vk=R||H;this.wH(D);D.Iu(this.Qa());D.kn(this.JF());this.Rj()>Number.EPSILON&&(this.xv(),M=this.rp()&&0===this.Qa()&&!this.Fp,this.gr()?this.J8(D):M?this.K8(D):
this.JQ(D,this.QG()));D.Iu(0);D.jn(0);Q&&(D.kn(!1),this.L8(D,R,H,J));V&&D.kE(V);this.vk=null}JQ(D,H){const J=this.Hf,M=this.vk,Q=this.nc().zf,R=this.nc().JN();let V=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===V)continue;V=Y;const ha=Y.j();ha.$c()&&ha.XN(J,R,Q)&&this.Dl(Y,ha,D,M)}}J8(D){const H=this.vk,J=this.dv(),M=this.QG();for(let Z=0,ca=M.length;Z<ca;){var Q=M[Z],R=Q.j();if(!R.$c()||!R.jr(J)){++Z;continue}(!Q.tr()||0<R.Ye)&&G.push(Q);var V=Q.j().Wf();E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=
M[Y],ka=ha.j();if(ka.$c()&&ka.jr(J)){if(ka.Wf()!==V)break;ha.tr()?(0<ka.Ye&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].pO()){this.E8(D,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.j(),R.yA(!0),this.Dl(Q,R,D,H),R.yA(!1)}else{this.Dl(Q,R,D,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(V=R.j(),V.da().Dl(R,V,D,H))}Z=Y;d.C(E);d.C(G)}}E8(D,H){const J=this.vk;D.zM();for(let R=0,V=H.length;R<V;++R){var M=H[R],Q=M.j();Q.wA(!0);this.KG(M,Q,D)}D.yM();for(let R=0,V=H.length;R<V;++R)M=
H[R],Q=M.j(),this.Dl(M,Q,D,J),Q.wA(!1);D.xM()}K8(D){var H=this.Xs;const J=this.wda,M=this.Xda,Q=this.Hf;J.set(H.Ri(Q.N),H.Si(Q.K),H.Ri(Q.$),H.Si(Q.T));this.TB&&J.Yc(M)?H=this.qJ:(H=this.C9(),this.TB=!0,M.pa(J));this.JQ(D,H);H!==this.qJ&&d.ud(this.qJ,H)}Dl(D,H,J,M){H.su()?this.H8(D,H,J,M):this.KG(D,H,J)}KG(D,H,J){H=H.Aq;J.gj!==H&&H.kX();D.oe(J)}H8(D,H,J,M){this.G8(D,H,J,M)&&this.wH(J)}G8(D,H,J,M){const Q=H.we.Wi;if(1===Q.length){const R=Q[0],V=R.ib;if(!V.fea&&H.Sm()&&!D.an())return this.I8(D,H,R,V,
J),!1}D=d.IF(J,this.b,D,M,Q,null);J.Iu(this.Qa());return D}I8(D,H,J,M,Q){Q.nn(M);Q.qf(H.Di());M.JA&&this.b.S();let R=0,V=0;if(M.Eea){const [Z,ca]=D.Ky();R=1/Z;V=1/ca;(M=D.Ly())?f.pa(M):f.set(0,0,0,0)}J=H.we.Bg(J.Da());Q.jn(H.Qa());Q.Er(null,c,f,f,H.Kc(),R,V,this.Rb,this.ta(),this.b.Cg(),J);D.oe(Q)}L8(D,H,J,M){const Q=this.La.Wi,R=this.b;if(this.y7(Q)){D.Qe(J);if(1===Q.length){var V=Q[0];J=V.ib;D.nn(J);f.set(0,0,1,1);V=this.La.Bg(V.Da());D.Er(null,c,f,f,this.Hf,1/R.Ag(),1/R.Sf(),this.Rj(),this.ta(),
R.Cg(),V);J.JA&&R.S()}else D.Lh();M&&0===this.Bn&&this.Sm()&&0===Q.length?D.bE(H):(D.qf(this.Bn),D.gk(this.BC),D.Vt(H));D.Vo(H);R.cn(H)}else d.IF(D,R,this,J,Q)}KP(D){this.Rb!==D&&(this.Rb=D,this.yj.ey(),this.nk(),this.b.S())}Pm(){return this.Rj()*this.b.Pm()}el(){return this.Rj()*this.b.el()}Rj(){return(this.Rb*this.yj.Rb-1)*this.Dj+1}qG(){var D=this.b.UJ,H=this.b.VJ,J=(this.Tf()-D)*this.ge+D,M=(this.Uf()-H)*this.he+H;D=this.Rj();H=this.b.Jf/D;D=this.b.If/D;J-=H/2;let Q=M-D/2;this.b.Fk&&(J=Math.round(J),
Q=Math.round(Q));M=this.HV;M.set(J,Q,J+H,Q+D);H=this.ta();0!==H&&(b.pa(M),b.offset(-M.Dt(),-M.Et()),a.TL(b,H),a.oL(b),b.offset(M.Dt(),M.Et()),M.pa(b));H=this.ed;this.GN(H,this.Hf);this.gr()?this.DX(H,this.po):this.po.pa(this.Hf)}DX(D,H){var J=this.b.U,M=J.cd;J=J.Rc;const [Q,R]=this.xh(0,0,D),[V,Z]=this.xh(M,0,D),[ca,Y]=this.xh(M,J,D),[ha,ka]=this.xh(0,J,D);D=Math.min(Q,V,ca,ha);M=Math.min(R,Z,Y,ka);J=Math.max(Q,V,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(D)||(D=-Infinity);isFinite(M)||(M=-Infinity);
isFinite(J)||(J=Infinity);isFinite(za)||(za=Infinity);H.set(D,M,J,za)}xh(D,H,J=0){return this.B7(D,H,J,this.el())}B7(D,H,J,M){const Q=this.b;var R=Q.sb();const V=this.Rj();l.set(v,0,0,Q.Jf/V,Q.If/V);D/=M;H=v[3]-H/M;M=this.kA(R);R=this.jA(R);return d.ca.B6(D,H,J,R,M,v,r)?[r[0],r[1]]:[NaN,NaN]}HX(D,H){const J=this.Rb,M=this.Dj,Q=this.ge,R=this.he,V=this.ue;this.he=this.ge=this.Dj=this.Rb=1;this.ue=0;this.nk();D=this.xh(D,H);this.Rb=J;this.Dj=M;this.ge=Q;this.he=R;this.ue=V;this.nk();return D}cp(D,H){return this.vR(D,
H,0,this.el())}Zm(D,H,J=0){return this.vR(D,H,J,this.Pm()*this.dl())}vR(D,H,J,M){var Q=this.b,R=Q.sb();const V=this.Rj();l.set(v,0,0,Q.Jf/V,Q.If/V);Q=this.kA(R);R=this.jA(R);return d.ca.T3(D,H,J,R,Q,v,r)?[r[0]*M,(v[3]-r[1])*M]:[NaN,NaN]}dv(){this.aC&&(this.Yca(),this.aC=!1);return this.GV}Yca(){var D=this.b.sb();const H=this.kA(D);D=this.jA(D);this.GV.CX(D,H)}la(){return{s:this.Rb,a:this.ue,vl:this.Hf.N,vt:this.Hf.K,vr:this.Hf.$,vb:this.Hf.T,v:this.$c(),bc:this.Jl.toJSON(),t:this.Mn,sx:this.ji,sy:this.ki,
hosp:this.Sl,px:this.ge,py:this.he,c:this.pb.toJSON(),sr:this.Dj,fx:this.La.Nc(),cg:this.bB}}qa(D){this.Rb=D.s;this.ue=D.a;this.Hf.set(D.vl,D.vt,D.vr,D.vb);this.bC=!!D.v;this.Jl.Ao(D.bc);this.Mn=!!D.t;D.hasOwnProperty("sx")&&(this.ji=D.sx);D.hasOwnProperty("sy")&&(this.ki=D.sy);D.hasOwnProperty("hosp")&&(this.Sl=!!D.hosp);this.ge=D.px;this.he=D.py;this.pb.Ao(D.c);this.Dj=D.sr;d.ud(this.bB,D.cg);d.ud(this.Ck,this.tV);const H=new Set(this.bB);let J=0;for(let M=0,Q=this.Ck.length;M<Q;++M)H.has(this.Ck[M][2])||
(this.Ck[J]=this.Ck[M],++J);d.jf(this.Ck,J);this.La.xc(D.fx);this.xH(!1);this.Sg()}iG(D){D.j();if(!this.F.includes(D))if(D.pf()){var H=[...D.Uk()];H.push(D);H.sort((M,Q)=>{M=M.j().wq;Q=Q.j().wq;return M-Q});for(var J of H)if(J.Wb())for(const M of J.Jd)H.includes(M)||(D=[...M.Uk()],D.push(M),D.sort((Q,R)=>{Q=Q.j().wq;R=R.j().wq;return Q-R}),D&&D.length&&H.splice(H.length,0,...D));for(const M of H)this.Ug(M,!0)}else if(this.Ug(D,!0),D.Wb())for(H of D.Jd)if(J=[...H.Uk()],J.push(H),J.sort((M,Q)=>{M=M.j().wq;
Q=Q.j().wq;return M-Q}),J&&J.length)for(const M of J)this.Ug(M,!0)}}}
{"use strict";const d=self.m,b=self.xg,a=d.B(d.Rect),e=d.B(d.Rect),c=d.B(d.Rect),f=d.B(d.$a),k=self.Xk.LD,g=[],l=[],p=[],r=[],v=[];let q=null;function x(u,w){q!==u&&(u.R3(w),q=u)}d.dO=class extends d.fa{constructor(u,w,z){super();this.Ta=u;this.b=u.G();this.Ca=z[0];this.nea=z[1];this.mea=z[2];this.P=z[1];this.M=z[2];this.$B=!!z[3];this.zf=!!z[4];this.fD=z[5];this.gD=z[6];this.sT=z[7];this.dd=null;this.eb=z[8];this.Oa=w;this.ki=this.ji=0;this.Rb=1;this.ue=0;this.As=new Set;this.nh=new Set;this.kx=
new Set;this.gs=[];this.SI=[];this.Nda=!1;this.cT=k.create();this.sda=k.create();this.tda=k.create();this.Yb=[];this.sU=new Map;this.tU=new Map;this.La=d.B(d.al,this,z[11]);this.vk=null;this.pq={};this.bq=!0;this.Yv=new self.N0(this);this.le=d.B(d.Event.Cb);for(const A of z[9])u=d.vF.Na(this,this.Yb.length,A),this.Yb.push(u),this.sU.set(u.xa().toLowerCase(),u),this.tU.set(u.eb,u);for(const A of z[10]){z=this.b.nf(A[1]);if(!z)throw Error("missing nonworld object class");z.ks||z.vP(A);this.SI.push(A);
this.mQ(z)}}g(){for(const u of this.Yb)u.g();d.C(this.Yb);this.kx.clear();this.b=this.Ta=this.dd=null}G(){return this.b}xa(){return this.Ca}Da(){return this.Oa}lN(){let u=this.Yb[0].Rj();for(let w=1,z=this.Yb.length;w<z;++w){const A=this.Yb[w];if(0!==A.ge||0!==A.he)u=Math.min(u,A.Rj())}return u}eR(){return.5*this.b.Jf/this.lN()}fR(){return.5*this.b.If/this.lN()}tN(){return this.$B?-Infinity:this.eR()}uN(){return this.$B?Infinity:this.O()-this.eR()}vN(){return this.$B?-Infinity:this.fR()}sN(){return this.$B?
Infinity:this.R()-this.fR()}Ni(u){const w=this.tN(),z=this.uN();u>z&&(u=z);u<w&&(u=w);this.ji!==u&&(this.ji=u,this.mk(),this.b.S())}Tf(){return this.ji}Oi(u){const w=this.vN(),z=this.sN();u>z&&(u=z);u<w&&(u=w);this.ki!==u&&(this.ki=u,this.mk(),this.b.S())}Uf(){return this.ki}ey(){this.Ni(this.Tf());this.Oi(this.Uf());for(const u of this.Yb)u.Sl&&(u.Ni(u.Tf()),u.Oi(u.Uf()))}T5(u,w){if(this.fD!==u||this.gD!==w)this.fD=u,this.gD=w,this.S1()&&(this.Vr(),this.mk(),this.b.S())}TE(){return this.zf?.5:this.fD}UE(){return this.zf?
.5:this.gD}JN(){const u=this.TE(),w=this.UE();return 0>u||1<u||0>w||1<w}MP(){this.zf&&(this.zf=!1,this.Vr(),this.mk(),this.b.S())}JP(){this.zf||(this.zf=!0,this.Vr(),this.mk(),this.b.S())}S1(){return!this.zf}np(u){this.Rb!==u&&(this.Rb=u,this.mk(),this.ey(),this.b.S())}yc(u){u=d.me(u);this.ue!==u&&(this.ue=u,this.mk(),this.b.S())}ta(){return this.ue}O(){return this.P}tf(u){!isFinite(u)||1>u||(this.P=u)}R(){return this.M}sf(u){!isFinite(u)||1>u||(this.M=u)}da(u){return"number"===typeof u?this.Ty(u):
this.hN(u.toString())}Ty(u){u=d.W(Math.floor(u),0,this.Yb.length-1);return this.Yb[u]}hN(u){return this.sU.get(u.toLowerCase())||null}Uy(u){return this.tU.get(u)||null}Vr(){for(const u of this.Yb)u.ica()}mk(){for(const u of this.Yb)u.nk()}T_(){for(const u of this.Yb)if(u.SP()&&u.c$())return f.Bm(u.Jl),f.uh(1),f;f.Bo(0,0,0,0);return f}$Q(){return[...this.As]}mQ(u){if(u.Wb())for(const w of u.Yg.gm)this.As.add(w);else this.As.add(u)}F9(){return[...this.nh]}WG(u,w){if(u===this||!w)return Promise.resolve();
u&&(d.cY(this.nh,u.nh),u.nh.clear());u=[];for(const z of this.As)this.nh.has(z)||(u.push(z.ep(w)),this.nh.add(z));return Promise.all(u)}async mO(u){if(u.Sa)throw Error("cannot load textures for family");var w=this.b.sb();!w||w.Xo()||this.nh.has(u)||(this.nh.add(u),w=u.ep(w),this.i7(w),await w,u.zz(),this.b.S())}i7(u){this.kx.add(u);u.then(()=>this.kx.delete(u)).catch(()=>this.kx.delete(u))}N6(){return Promise.all([...this.kx])}y2(u){if(u.Sa||0<u.F.length)throw Error("cannot unload textures");this.b.sb()&&
this.nh.has(u)&&(this.nh.delete(u),u.dn())}Nca(u,w){if(u!==this&&w)for(const z of this.nh)z.Lg()||u.As.has(z)||(z.dn(),this.nh.delete(z))}qv(){this.nh.clear()}async FS(u){const w=this.b,z=this.Ta,A=w.ia();this.sT&&(this.dd=A.aN(this.sT),this.dd.BH());z.vS(this);this.P=this.nea;this.M=this.mea;this.ji=w.hh/2;this.ki=w.gh/2;this.ey();this.O$(u);this.O7();this.bq||this.Q7();this.yQ(this.gs);this.P7();z.PX();w.Zd();const E=this.b.dda;await Promise.all(E);d.C(E);if(!w.Ek){for(const G of this.gs)G.Y5();
for(const G of this.gs)G.IS()}d.C(this.gs);await Promise.all([...this.As].map(G=>G.CF(this.b.sb())));u&&(w.Cb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.Ho(new d.Event("beforeprojectstart")));await this.Ho(new d.Event("beforelayoutstart"));w.Ek||await w.ab(d.A.gb.D.LO,null,null);await this.Ho(new d.Event("afterlayoutstart"));u&&(w.Cb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.Ho(new d.Event("afterprojectstart")));A.jba(z);await this.N6();this.Vr();this.mk();
this.bq=!1}O$(u){for(const z of this.b.ad)if(!z.Sa&&z.Af)for(const A of z.ja()){const E=A.j();var w=E.da();w=d.W(w.Da(),0,this.Yb.length-1);w=this.Yb[w];E.tv(w);w.F$(A)}if(!u)for(const z of this.Yb)z.xH(!1)}O7(){for(const u of this.Yb)u.hY(this.gs),u.qG()}Q7(){let u=!1;for(const [z,A]of Object.entries(this.pq)){const E=this.b.Vy(parseInt(z,10));if(E&&!E.Sa&&E.ZE()){for(const G of A){var w=null;if(E.Af&&(w=this.Uy(G.w.l),!w))continue;w=this.b.Bi(E,w,!1,0,0,!0);w.xc(G);u=!0;this.gs.push(w)}d.C(A)}}for(const z of this.Yb)z.xH(!0),
z.Sg();u&&(this.b.Zd(),this.b.PR())}yQ(u){for(const z of u){if(!z.Wb())continue;const A=z.j(),E=z.Mo();for(const G of z.H().Yg.gm)if(G!==z.H()){var w=G.ja();w.length>E?z.Or(w[E]):(w=A?this.b.Bi(G,A.da(),!0,A.X(),A.Y(),!0):this.b.Bi(G,null,!0,0,0,!0),this.b.Zd(),G.DA(),z.Or(w),u.push(w))}}}P7(){for(const u of this.SI)this.b.nf(u[1]).Wb()||this.b.Bi(u,null,!0)}M7(){const u=[],w=this.SI;let z=0;for(let A=0,E=w.length;A<E;++A){const G=w[A],P=this.b.nf(G[1]);P.Lg()?P.Wb()&&P.Yg.w0()||u.push(this.b.Bi(G,
null,!0)):(w[z]=G,++z)}d.jf(w,z);this.b.Zd();this.yQ(u)}Fu(u,w,z,A,E,G){if(z)return z.Fu(u,w,A,E,G);z=[];for(const P of this.Yb)z.push(P.Fu(u,w,A,E,G));return z.flat()}async Fca(){const u=this.Ta;this.b.Ek||await this.b.ab(d.A.gb.D.k3,null,null);u.FP(!0);this.b.ia().jy();this.bq||this.tba();for(const w of this.Yb)w.V8();for(const w of this.b.ad)if(!(w.Lg()||w.Af||w.yb().Ln||w.Sa)){for(const z of w.ja())this.b.Jm(z);this.b.Zd()}u.FP(!1);u.Ob()===this&&u.vS(null)}rba(u){const w=u.H().eb.toString();
this.pq.hasOwnProperty(w)||(this.pq[w]=[]);this.pq[w].push(u.Nc())}tba(){for(const u of this.Yb){u.xv();for(const w of u.F){const z=w.H();!z.Lg()&&z.ZE()&&this.rba(w)}}}x4(){this.pq={};this.bq=!0}Yy(){return this.vk}Mr(){return"low"===this.b.U.qj||this.b.SK||"low-latency"===this.b.es||this.La.su()||this.b.sb().yu()&&this.b.wm}z7(u){return 0===u.length?!0:2<=u.length?!1:!u[0].ib.an()}oe(u){var w=this.b.U;const z=this.Mr();var A=null;z?("low-latency"!==this.b.es&&(u.Qe(null),u.my()),A={wg:this.b.Wc,
uL:this.b.SK||this.La.su()},"low"===w.qj&&(A.width=w.Ag(),A.height=w.Sf()),A=this.b.cu(A),u.Qe(A)):u.Qe(null);u.Ic(this.T_());this.b.wm&&u.MX();this.vk=A;for(var E of this.Yb)E.qG(),E.SP()&&g.push(E);for(let G=0,P=g.length;G<P;){w=g[G];if(w.gr()&&!w.Mr()){l.push(w);for(E=G+1;E<P;++E){const D=g[E];if(D.gr()&&!D.Mr())l.push(g[E]);else break}if(2<=l.length){this.C8(u,A,l);G+=l.length;d.C(l);continue}d.C(l)}w.oe(u,A,0===G);++G}d.C(g);z&&(u.kn(!1),this.M8(u,A));this.vk=null}M8(u,w){const z=this.La.Wi,
A=this.b;if(this.z7(z)){u.Qe(null);if(1===z.length){var E=z[0];const G=E.ib;u.nn(G);e.set(0,0,1,1);c.set(0,0,A.Jf,A.If);E=this.La.Bg(E.Da());u.Er(null,a,e,e,c,1/A.Ag(),1/A.Sf(),this.Rb,this.ta(),A.Cg(),E);G.JA&&A.S()}else u.Lh();0===z.length?u.bE(w):(u.RF(),u.wr(),u.Vt(w));u.Vo(w);A.cn(w)}else d.IF(u,A,this,null,z)}C8(u,w,z){var A=this.b.U;u.kn(!0);for(var E of z)E.xv(),d.Am(p,E.QG());E=z[0];z=null;this.b.lF()&&u.yu()&&(A=A.iN(E))&&(z=A.SD(),u.mG(z));for(let H=0,J=p.length;H<J;){E=p[H];var G=E.j(),
P=G.da();if(G.$c()&&G.jr(P.dv())){(!E.tr()||0<G.Ye)&&v.push(E);var D=E.j().Wf();r.push(E);for(A=H+1;A<J;++A){const M=p[A],Q=M.j();if(Q.$c()&&Q.jr(Q.da().dv())){if(Q.Wf()!==D)break;M.tr()?(0<Q.Ye&&v.push(M),r.push(M)):v.push(M)}}if(1!==r.length||r[0].pO()){this.D8(u,w,r);for(let M=0,Q=v.length;M<Q;++M)E=v[M],G=E.j(),P=G.da(),G.yA(!0),x(P,u),P.Dl(E,G,u,w),G.yA(!1)}else{x(P,u);P.Dl(E,G,u,w);for(let M=0,Q=v.length;M<Q;++M)G=v[M],G!==E&&(P=G.j(),D=P.da(),x(D,u),D.Dl(G,P,u,w))}H=A;d.C(r);d.C(v)}else++H}z&&
u.kE(z);d.C(p);q=null}D8(u,w,z){u.zM();for(let P=0,D=z.length;P<D;++P){var A=z[P],E=A.j(),G=E.da();E.wA(!0);x(G,u);G.KG(A,E,u)}u.yM();for(let P=0,D=z.length;P<D;++P)A=z[P],E=A.j(),G=E.da(),x(G,u),G.Dl(A,E,u,w),E.wA(!1);u.xM()}la(){const u={sx:this.Tf(),sy:this.Uf(),s:this.Rb,a:this.ta(),w:this.O(),h:this.R(),ortho:this.zf,vpX:this.TE(),vpY:this.UE(),fv:this.bq,persist:this.pq,fx:this.La.Nc(),layers:{}};for(const w of this.Yb)u.layers[w.eb.toString()]=w.la();return u}qa(u){this.ji=u.sx;this.ki=u.sy;
this.Rb=u.s;this.ue=u.a;this.P=u.w;this.M=u.h;this.zf=!!u.ortho;u.hasOwnProperty("vpX")&&(this.fD=u.vpX);u.hasOwnProperty("vpY")&&(this.gD=u.vpY);this.bq=!!u.fv;this.pq=u.persist;this.La.xc(u.fx);for(const [w,z]of Object.entries(u.layers))(u=this.Uy(parseInt(w,10)))&&u.qa(z);this.Vr();this.mk()}zh(u){u.vg=this.Yv;var w=this.b;(w=w.ub&&!w.ia().oz())&&b.lG();this.le.dispatchEvent(u);w&&b.RD()}Ho(u){u.vg=this.Yv;return this.le.jL(u)}}}
{"use strict";const d=self.m;d.h2=class extends d.fa{constructor(b){super();this.b=b;this.Yi=[];this.xJ=new Map;this.yJ=new Map;this.Cw=null;this.lK=[];this.qB=null;this.NB=0;this.Kw=null}g(){this.Kw=this.qB=this.Cw=this.b=null;d.C(this.Yi);this.xJ.clear();this.yJ.clear();d.C(this.lK)}Na(b){b=d.B(d.dO,this,this.Yi.length,b);this.Yi.push(b);this.xJ.set(b.xa().toLowerCase(),b);this.yJ.set(b.eb,b)}G(){return this.b}c5(b){this.qB=b}A_(){if(this.qB)return this.qB;if(this.Yi.length)return this.Yi[0];throw Error("no first layout");
}$q(b){return this.xJ.get(b.toLowerCase())||null}FE(b){return this.yJ.get(b)||null}U_(b){b=d.W(Math.floor(b),0,this.Yi.length-1);return this.Yi[b]}nc(b){return"number"===typeof b?this.U_(b):this.$q(b.toString())}vS(b){this.Cw=b}Ob(){return this.Cw}*Vx(){this.Cw&&(yield this.Cw);this.lK.length&&(yield*this.lK)}FP(b){if(b)this.NB++;else{if(0>=this.NB)throw Error("already unset");this.NB--}}UN(){return 0<this.NB}iy(b){this.Kw=b}PX(){this.Kw=null}kr(){return!!this.Kw}mp(){const b=this.Ob();b&&b.Vr()}lp(){const b=
this.Ob();b&&b.mk()}}}
{"use strict";const d=self.m;class b{constructor(){this.Hc=this.hf=null;this.It=this.Jt=this.ti=this.Cm=0;this.Ct=new d.Rect;this.Dm=new d.Rect;this.zo=new d.Rect;this.Tx=new d.Rect;this.Ft=new d.Rect;this.clearRect=new d.Rect;this.ID=new d.Rect;this.bW=[null,null];this.wo=0;this.Lq=1;this.At=this.Bt=this.pt=this.ot=0;this.Em=this.Qf=this.Xd=this.Yd=this.vg=null;this.pD=this.IL=this.yD=!1;this.wD=null}Ic(){this.wD=this.Em=this.Qf=this.Xd=this.Yd=this.vg=this.Hc=this.hf=null}a6(g){g=g.ib;if(g.an())return!0;
if(this.Xd)return g.xx&&(0!==this.Qf.ta()||0>this.Qf.O()||0>this.Qf.R())||0!==this.ot||0!==this.pt||!this.Qf.Sm()||this.Xd.an();if(this.Yd)return!this.Yd.Sm()}Z5(g){g=g.ib;return g.xx||g.kI||this.vg&&"low"===this.Hc.U.qj}Zq(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.bW;if(!l[g]){var p=this.Hc;const r=p.U;p={wg:p.Wc};"low"===r.qj&&(p.width=r.Ag(),p.height=r.Sf());l[g]=r.cu(p)}return l[g]}g4(){const g=this.bW,l=this.Hc.U;g[0]&&(l.cn(g[0]),g[0]=null);g[1]&&(l.cn(g[1]),g[1]=
null)}}const a=[];let e=0;const c=new d.nd;let f=!1;async function k(g,l,p){l=await d.ca.sG.nY(l,p);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(p?"":" [to display]")+": ",l)}d.IF=function(g,l,p,r,v,q){e===a.length&&a.push(new b);var x=a[e++];x.hf=g;x.Hc=l;if(p instanceof d.Instance)x.Xd=p,x.Qf=x.Xd.j();else if(p instanceof d.vF)x.Yd=p;else if(p instanceof d.dO)x.vg=p;else throw Error("invalid effects object");p=l.U;x.Em=r;x.Cm=p.Ag();x.ti=p.Sf();x.Jt=x.Cm;x.It=x.ti;x.wo=0;x.Lq=1;x.ot=0;x.pt=
0;x.Ft.set(0,0,x.Cm,x.ti);x.clearRect.set(0,0,x.Cm,x.ti);x.pD=!1;x.wD=q;x.Xd?(r=x.Qf,x.Bt=r.da().Pm(),x.At=r.da().ta(),x.Ct.pa(r.Kc())):x.Yd?(r=x.Yd,x.Bt=r.Pm(),x.At=r.ta(),x.Ct.pa(r.Hf)):(r=x.vg,x.Bt=r.Rb,x.At=r.ta(),x.Ct.set(0,0,x.Cm,x.ti));if(x.Xd){{for(let H=0,J=v.length;H<J;++H)r=v[H].ib,x.ot+=r.tT,x.pt+=r.uT;var u=x.Qf;r=u.da();p=r.ta();q=u.Kc();var w=u.Wf();u=u.Ye;let [E,G]=r.Zm(q.N,q.K,w),[P,D]=r.Zm(q.$,q.T,w);if(0!==p||0<u){const [H,J]=r.Zm(q.$,q.K,w),[M,Q]=r.Zm(q.N,q.T,w);if(0<u){p=w+u;
const [R,V]=r.Zm(q.N,q.K,p),[Z,ca]=r.Zm(q.$,q.K,p),[Y,ha]=r.Zm(q.$,q.T,p),[ka,za]=r.Zm(q.N,q.T,p);r=Math.min(E,P,H,M,R,Z,Y,ka);P=Math.max(E,P,H,M,R,Z,Y,ka);E=r;r=Math.min(G,D,J,Q,V,ca,ha,za);D=Math.max(G,D,J,Q,V,ca,ha,za);G=r}else r=Math.min(E,P,H,M),P=Math.max(E,P,H,M),E=r,r=Math.min(G,D,J,Q),D=Math.max(G,D,J,Q),G=r}r=x.Ft;q=x.Tx;p=x.zo;w=x.clearRect;u=x.Dm;r.set(E,G,P,D);r.UL(x.ti);q.pa(r);q.Vk(x.Jt,x.It);q.Nq();r.tD(x.ot,x.pt);p.pa(r);p.Vk(x.Jt,x.It);p.Nq();w.pa(r);w.kga();w.tD(x.ot+1,x.pt+1);
r.W(0,0,x.Cm,x.ti);w.W(0,0,x.Cm,x.ti);u.pa(r);u.Vk(x.Jt,x.It);u.Nq()}}else x.Dm.set(0,0,x.Cm/x.Jt,x.ti/x.It),x.zo.pa(x.Dm),x.Tx.pa(x.Dm),x.Dm.Nq(),x.zo.Nq(),x.Tx.Nq();g.RF();g.wr();g.Iu(0);g.jn(0);x.yD=x.a6(v[0]);x.yD&&(r=x.hf,r.Lh(),q=x.Zq(x.wo),r.Qe(q),(p=x.wD)&&p.JL&&p.JL(),r.$D(x.clearRect),x.Xd?(r.gk(x.Qf.KE()),r.jn(x.Qf.Wf()),x.Xd.oe(r),r.jn(0)):(p=(x.Yd||x.vg).Yy(),x.Yd?r.gk(x.Yd.KE()):r.wr(),r.Vt(p),r.Vo(p),x.Hc.U.cn(p)),x.zo.SV(),x.wo=1,x.Lq=0,f&&k("Pre-draw",r,q));g.wr();r=v.length-1;x.IL=
x.Z5(v[r]);for(let E=0,G=v.length;E<G;++E){p=v[E];q=p.ib;g.nn(q);q.JA&&l.S();if(0!==E||x.yD){g.uP();var z=void 0,A=void 0;q=x;z=p;A=E===r&&!x.IL;p=E;w=q.hf;u=q.Hc;0===p&&q.yD&&q.Xd&&q.Ft.UL(q.ti);A?(q.Xd?w.qf(q.Qf.Di()):q.Yd&&w.qf(q.Yd.Di()),A=q.Em,w.Qe(A)):(A=q.Zq(q.wo),w.Qe(A),w.$D(q.clearRect));z=q.Xd?q.Qf.we.Bg(z.Da()):(q.Yd||q.vg).La.Bg(z.Da());w.Er(q.Em,q.zo,q.Dm,q.Tx,q.Ct,1/q.Jt,1/q.It,q.Bt,q.At,u.Cg(),z);z=q.Zq(q.Lq);w.ag(z.Fd());u.U.xP(w);q.pD=!0;c.Lj(q.Ft);w.gp(c,q.Dm);q.Xd||w.Vo(z);f&&
k("Bounce "+p,w,A)}else{q=x;A=p;p=q.hf;w=q.Hc;u=q.Zq(q.wo);p.Qe(u);(z=q.wD)&&z.JL&&z.JL();p.$D(q.clearRect);if(q.Xd){const [P,D]=q.Xd.Ky();(z=q.Xd.Ly())?q.ID.pa(z):q.ID.set(0,0,0,0);A=q.Qf.we.Bg(A.Da());p.Er(q.Em,q.zo,q.ID,q.ID,q.Ct,1/P,1/D,q.Bt,q.At,w.Cg(),A);p.jn(q.Qf.Wf());q.Xd.oe(p);p.jn(0);q.zo.SV();q.Ft.UL(q.ti)}else A=(q.Yd||q.vg).La.Bg(A.Da()),p.Er(q.Em,q.zo,q.Dm,q.Tx,q.Ct,1/q.Cm,1/q.ti,q.Bt,q.At,w.Cg(),A),q=(q.Yd||q.vg).Yy(),f&&k("Layer target",p,q),p.Vt(q),p.Vo(q),w.U.cn(q);f&&k("First bounce",
p,u)}0===x.wo?(x.wo=1,x.Lq=0):(x.wo=0,x.Lq=1)}x.IL&&(g=x.hf,x.vg?(g.Lh(),g.Qe(x.Em),l=x.Zq(x.Lq),g.bE(l),g.Vo(l)):(l=x.Hc.U,"low"===l.qj?(g.Lh(),l.xP(g,l.Ag(),l.Sf()),x.pD=!0):g.W4(),x.Xd?g.qf(x.Qf.Di()):x.Yd&&g.qf(x.Yd.Di()),g.Qe(x.Em),l=x.Zq(x.Lq),g.ag(l.Fd()),c.Lj(x.Ft),g.gp(c,x.Dm),x.Xd||g.Vo(l),f&&k("Post-draw",g,x.Em)));g=x.pD;x.g4();x.Ic();e--;f=!1;return g}}
{"use strict";const d=self.m;d.u6=class extends d.fa{constructor(b){super();this.b=b;this.nx=d.B(d.Tg);this.oea=null;this.fo=[];this.ox=new Map;this.fm=new Map;this.ho=new Map;this.ih=[];this.pg=[];this.ow=this.bs=this.Up=!1;this.pm=()=>this.maa();this.gt=()=>this.fH();this.XH=()=>this.pA();this.wJ=()=>this.Q$();this.WI=a=>this.JR(a.instance);this.KH=()=>this.pv();this.Ov=[]}g(){this.l4();this.KH=this.WI=this.wJ=this.XH=this.gt=this.pm=null;for(const b of this.fo)b.uf(),b.g();d.C(this.fo);this.fo=
null;this.nx.g();this.nx=null;d.C(this.ih);this.ih=null;d.C(this.pg);this.pg=null;this.ox.clear();this.ox=null;this.fm.clear();this.fm=null;this.ho.clear();this.ho=null;d.C(this.Ov);this.b=this.Ov=null}eX(){const b=this.b.Cb();b.addEventListener("pretick",this.pm);b.addEventListener("tick2",this.gt);b.addEventListener("beforelayoutchange",this.XH);b.addEventListener("layoutchange",this.wJ);b.addEventListener("instancedestroy",this.WI);b.addEventListener("afterload",this.KH)}l4(){const b=this.b.Cb();
b.removeEventListener("pretick",this.pm);b.removeEventListener("tick2",this.gt);b.removeEventListener("beforelayoutchange",this.XH);b.removeEventListener("layoutchange",this.wJ);b.removeEventListener("instancedestroy",this.WI);b.removeEventListener("afterload",this.KH)}Na(b){this.nx.wc(b);b=d.ae.gY(b,this);this.wc(b);this.I5(b);this.ho.set(b.xa(),0)}cE(b){b=b.AN();var a=this.nx.aa(b);a=d.ae.cE(`${b}:${this.ho.get(b)}`,a,this);this.mR(b);this.wc(a);return a}mR(b){this.ho.set(b,this.ho.get(b)+1)}Mba(){for(const b of this.fo)b.Cs||
this.mR(b.AN())}E7(){for(const b of this.ho.keys())this.ho.set(b,0)}wc(b){this.fo.push(b);this.ox.set(b.xa().toLowerCase(),b)}Jh(b){b.Cs||(d.Kq(this.fo,b),d.Kq(this.ih,b),d.Kq(this.pg,b),this.ox.delete(b.xa().toLowerCase()),this.m4(b),b.gi||b.g())}ka(b){this.b.ka(b,this.oea,null)}G(){return this.b}OP(b,a){this.fm.has(b)||this.fm.set(b,new Set);this.fm.get(b).add(a)}I5(b){for(const a of b.JE())this.OP(a,b)}m4(b){for(const [a,e]of this.fm.entries())e.has(b)&&(e.delete(b),0===e.size&&this.fm.delete(a))}j0(b){if(this.fm.has(b))return this.fm.get(b)}bz(b){return this.ox.get(b.toLowerCase())||
null}k4(b){d.Kq(this.pg,b);this.lv()}pP(b){this.pg.includes(b)?(b.Ou(!0),b.Qu(!1),b.XF(!1)):(b.Ou(!1),b.Qu(!0),b.XF(!1),this.ih.includes(b)||this.ih.push(b));this.CR()}uy(b){b.Ou(!1);b.Qu(!1);b.NF();d.Kq(this.ih,b);this.lv()}oy(b){b.Ou(!1);b.Qu(!1);b.XF(!0)}ZX(b){this.oy(b);b.NF()}maa(){if(!this.G().Ek&&this.Up&&!this.bs){var b=!1;for(this.ow=!0;this.ih.length;){var a=this.ih.pop();a.yd();this.pg.push(a)}a=this.b.Mm();var e=this.b.Vd;for(const c of this.pg){if(c.Os)continue;const f=c.Gd(a,e);!b&&
f&&(b=!0)}this.ow=!1;b&&this.G().S()}}fH(){if(!this.G().Ek&&this.Up&&!this.bs){var b;for(const a of this.pg)a.Os&&(b||(b=new Set),this.DR(a),b.add(a));b&&d.rh(this.pg,b);this.lv()}}DR(b){b.gi||b.IN()&&b.hg&&b.Kn&&b.RM()}CR(){this.Up||(this.Up=!0)}lv(){this.pg.length||this.ih.length||this.ow||(this.Up=!1)}pA(){for(this.bs=!0;this.ih.length;)this.uy(this.ih.pop());const b=new Set;for(const a of this.pg)a.pA()&&b.add(a);d.rh(this.pg,b);this.lv();for(const a of this.fo)a.Mj()}Q$(){this.bs=!1}JR(b){var a=
b.H();if(a=this.j0(a))if(this.b.Ek)this.Ov.push(b);else for(const e of a)e.Cs||(e.gi?this.Jh(e):e.IN()||(this.DR(e),this.Jh(e)))}pv(){for(const b of this.Ov)this.JR(b);d.C(this.Ov)}la(){return{timelinesJson:this.yba(),scheduledTimelinesJson:this.wba(),playingTimelinesJson:this.uba(),hasRuntimeListeners:this.Up,changingLayout:this.bs,isTickingTimelines:this.ow}}qa(b){b&&(this.E7(),this.x$(b.timelinesJson),this.u$(b.scheduledTimelinesJson),this.s$(b.playingTimelinesJson),this.Up=!b.hasRuntimeListeners,
this.bs=!!b.changingLayout,this.ow=!!b.isTickingTimelines,this.Mba(),this.CR(),this.lv())}yba(){return this.fo.map(b=>b.la())}x$(b){for(const a of b){b=this.bz(a.name);if(!b){b=this.E9(a);if(!b)continue;b=this.bz(b);b=this.cE(b)}b.qa(a);b.F0()||this.Jh(b)}}E9(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}wba(){return this.iS(this.ih)}u$(b){this.xR(b,this.ih)}uba(){return this.iS(this.pg)}s$(b){this.xR(b,this.pg)}d$(b,a){for(const e of a)if(e===b.xa())return!0;return!1}iS(b){return b.map(a=>
a.xa())}xR(b,a){var e=new Set;for(const c of a)this.d$(c,b)||e.add(c);d.rh(a,e);e=c=>f=>f.xa()===c;for(const c of b)(b=this.bz(c))&&(a.find(e(c))||a.push(b))}}}
{"use strict";const d=self.m;d.ae=class extends d.fa{constructor(b,a,e){super();this.b=e.G();this.Bb=e;this.cf=a;this.Ca=b;this.Nb=[];for(const c of this.cf.dz().vga())this.Nb.push(d.ZP.Na(this,c));this.yC=this.Lw=null;this.Wn=d.B(d.mr);this.Wn.Set(0);this.hm=1;this.Cj=0;this.fj=1;this.Kn=this.Xl=this.SB=!1;this.hg=!0;this.Os=this.gi=!1;this.ds=-1;this.In=this.Sp=this.Cs=this.CB=!1;this.nU=NaN;this.mh=[""];this.uV="";this.CK=!1}static gY(b,a){const e=a.nx.aa(b[0]);b=d.B(d.ae,b[0],e,a);b.r5();return b}static cE(b,
a,e){return d.B(d.ae,b,a,e)}static get L6(){return 1}static get rl(){return d.AL(1)}g(){if(!this.gi){this.Bb.uy(this);this.Bb.ZX(this);for(const b of this.Nb)b.g();d.C(this.Nb);this.Nb=null;this.Wn.g();this.cf=this.Bb=this.b=this.Wn=null;this.gi=!0;this.yC=this.Lw=null}}G(){return this.b}QE(b,a,e){const c=[];for(const f of this.Nb){if(b!==f.za())continue;const k=f.kl(e);k&&a.constructor===k.xd().constructor&&c.push(k)}return c}F0(){return!!this.Nb.length}Tz(b){this.Ca=b}xa(){return this.Ca}AN(){return this.cf.xa()}Od(){return this.cf.Od()}nu(){return this.cf.nu()}Ei(){return this.cf.Ei()}Ii(){return this.cf.Ii()}hk(b){for(const a of this.Nb)a.hk(b)}br(){return this.cf.br()}dr(){return this.cf.dr()}Qm(){return this.cf.Qm()}Nu(b){return this.hm=
b}Hh(){return this.IsPlaying()?0<this.hm:!0}mN(){this.Lw||(this.Lw=new Promise(b=>{this.yC=b}))}NF(){this.Lw&&(this.yC(),this.yC=this.Lw=null)}Gr(b){this.mh=d.ae.D9(b);this.CK=!0}OO(){d.A.Pc.D.op(this);this.Bb.ka(d.A.Pc.D.cma);this.Bb.ka(d.A.Pc.D.dma);this.Bb.ka(d.A.Pc.D.ema);this.Bb.ka(d.A.Pc.D.Ula);d.A.Pc.D.op(null)}BO(){this.ds=this.b.Lk}RM(){this.Sp||(this.Sp=!0,d.A.Pc.D.op(this),this.Bb.ka(d.A.Pc.D.$la),this.Bb.ka(d.A.Pc.D.ama),this.Bb.ka(d.A.Pc.D.bma),this.Bb.ka(d.A.Pc.D.Tla),d.A.Pc.D.op(null))}Ou(b){this.SB=
b}QN(){return this.ds===this.b.Lk}IsPlaying(b=!1){return this.QN()||this.Xl&&!b?!0:this.SB}Rr(){return this.IsPlaying(!0)}Qu(b){this.Xl=b}tP(b){this.hg=b;b=this.Aa();if(0>=b||b>=this.Od())this.hg=!0}XF(b){this.Os=b}WF(b){this.CB=b}r5(){this.Cs=!0}Aa(){return this.Wn.aa()}Ir(b){const a=this.Aa();this.te(b);this.tP(!1);this.hg||this.WF(!0);if(this.Rr()||this.Xl||!this.Kn)this.Rr()||this.Xl||this.Kn?this.Rr()?this.uf():this.Xl&&(this.Bb.uy(this),this.EP()):this.EP();this.nA(b,!1,!0,!0,a)&&this.G().S();
this.NR()}te(b){0>b?this.Wn.Set(0):b>=this.Od()?this.Wn.Set(this.Od()):this.Wn.Set(b)}NR(){d.A.Pc&&this.constructor===d.ae&&(d.A.Pc.D.op(this),this.Bb.ka(d.A.Pc.D.Xla),this.Bb.ka(d.A.Pc.D.Yla),this.Bb.ka(d.A.Pc.D.Zla),d.A.Pc.D.op(null))}Play(b=!1){return this.gi||this.Xl?!1:this.Rr()&&this.QN()?this.Cba():this.Rr()||!this.hg&&!b&&!this.CB?!1:this.Dba()}Cba(){this.WF(!1);this.Bb.k4(this);this.Bb.pP(this);this.mN();return!0}Dba(){this.WF(!1);this.Bb.pP(this);this.mN();return!0}uf(b=!1){this.gi||(this.tP(b),
this.Bb.oy(this),this.hg&&this.NF())}Mc(b=!0,a=!1){if(!this.gi)if(!this.Rr()&&this.Xl)this.Bb.uy(this);else if(!this.hg){this.uf(!0);this.Hh()?this.te(0):this.te(this.Od());var e=this.Aa();a=a?this.V9(e):this.nA(e,!1,!1,!0);b&&this.NR();a&&b&&this.G().S()}}jP(){this.Mc(!1,!0)}V9(b){this.nA(b,!1,!1,!0,NaN,!1,!0)}pA(){if(this.gi)return!0;if(this.G0())return!1;this.Bb.oy(this);this.jP();return!0}EP(){this.yd(!0)}yd(b){if(!this.Os)if(b){this.In=this.Kn=!0;for(const a of this.Nb)a.yd()}else if(this.Ou(!0),
this.Qu(!1),this.OO(),this.hg){this.ds=-1;this.Cj=0;this.fj=1;this.Sp=this.hg=!1;this.In=this.Kn=!0;this.Hh()?this.te(0):this.te(this.Od());for(const a of this.Nb)a.yd()}else{this.In=!0;for(const a of this.Nb)a.$f()}}Gd(b,a){if(0!==b||0!==this.nU){this.nU=b;var e=this.Aa();this.te(e+b*a*this.hm);var c;this.br()||this.dr()?this.br()&&!this.dr()?c=this.C$():!this.br()&&this.dr()?c=this.xaa():this.br()&&this.dr()&&(c=this.D$()):c=this.yca();if(c){for(const f of this.Nb)f.a5();this.uf(!0);this.BO();return!0}return this.nA(this.Aa(),
!0,!1,!1,e,!0)}}nA(b,a=!1,e=!1,c=!1,f=NaN,k=!1,g=!1){let l=!1;for(var p of this.Nb)p.Rt();for(const r of this.Nb){p=b;if("number"===typeof f){const v=this.Aa()-r.Vf(),q=f-r.Vf();0>v&&0<q&&(p=r.Vf(),this.te(p))}p=r.mb(p,a,e,c,this.In,g);!l&&p&&(l=!0)}for(const r of this.Nb)r.Qt();this.In&&k&&(this.In=!1);return l}yca(){if(this.Hh()){if(this.Aa()>=this.Od())if(this.fj<this.Qm())this.fj++,this.te(0);else return this.te(this.Od()),!0}else if(0>=this.Aa())if(this.fj<this.Qm())this.fj++,this.te(this.Od());
else return this.te(0),!0;return!1}C$(){this.Hh()?this.Aa()>=this.Od()&&this.te(0):0>=this.Aa()&&this.te(this.Od());return!1}xaa(){if(this.Hh()){if(this.Aa()>=this.Od())if(this.te(this.Od()),this.Nu(-1*this.hm),1===this.Cj)if(this.fj<this.Qm())this.fj++,this.Cj=0;else return!0;else 0===this.Cj&&(this.Cj=1)}else if(0>=this.Aa())if(this.te(0),this.Nu(-1*this.hm),1===this.Cj)if(this.fj<this.Qm())this.fj++,this.Cj=0;else return!0;else 0===this.Cj&&(this.Cj=1);return!1}D$(){this.Hh()?this.Aa()>=this.Od()&&
(this.te(this.Od()),this.Nu(-1*this.hm)):0>=this.Aa()&&(this.te(0),this.Nu(-1*this.hm));return!1}Mj(){for(const b of this.Nb)b.Mj()}RX(){for(const b of this.Nb)b.OX()}J5(b,a){if(a)for(const e of this.Nb)if(e.Ih()){if(b){if(e.Qj()!==b)continue}else if(e.z0())continue;e.n5(a);this.Bb.OP(a.H(),this);break}}IN(){return this.Nb.some(b=>b.Ih()?b.XD():!0)}G0(){return this.Nb.some(b=>b.Ih()?b.XD()?(b=b.H())?b.Lg():!1:!1:!1)}kl(b){for(const a of this.Nb)for(const e of a.Gc)if(e.Ma.Id===b)return e}DN(b){for(const a of this.Nb)if(b===
a.za())return a;return null}JE(){const b=[];for(const a of this.Nb)b.push(a.H());return b.filter(a=>a)}la(){return{tracksJson:this.Aba(),name:this.Ca,playheadTime:this.Aa(),playbackRate:this.hm,pingPongState:this.Cj,currentRepeatCount:this.fj,isPlaying:this.SB,isScheduled:this.Xl,initialStateSet:this.Kn,finishedTriggers:this.Sp,complete:this.hg,released:this.gi,markedForRemoval:this.Os,completedTick:this.ds,implicitPause:this.CB,isTemplate:this.Cs,tags:this.mh.join(" "),stringTags:this.uV,tagsChanged:this.CK,
firstTick:this.In}}qa(b){b&&(this.y$(b.tracksJson),this.Ca=b.name,this.Wn.Set(b.playheadTime),this.hm=b.playbackRate,this.Cj=b.pingPongState,this.fj=b.currentRepeatCount,this.SB=!!b.isPlaying,this.Xl=!!b.isScheduled,this.Kn=!!b.initialStateSet,this.Sp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.hg=!!b.complete,this.gi=!!b.released,this.Os=!!b.markedForRemoval,this.ds=b.completedTick,this.CB=!!b.implicitPause,this.Cs=!!b.isTemplate,this.mh=b.tags.split(" "),this.uV=b.stringTags,
this.CK=!!b.tagsChanged,this.In=!!b.firstTick)}Aba(){return this.Nb.map(b=>b.la())}y$(b){b.forEach((a,e)=>{this.Nb[e].qa(a)});this.Nb.filter(a=>a.XD())}static D9(b){if(d.Wo(b))return b.slice(0);if(d.Ji(b))return b.split(" ")}}}
{"use strict";const d=self.m;d.ZP=class extends d.fa{constructor(b,a){super();this.eo=b;this.Tb=a;this.df=a.dz();this.em=this.Ul=NaN;this.kb=this.dh=null;this.cq=0<a.Vf();this.Op=this.Bs=!1;this.hq=null;this.Tc=this.Tb.Gi().Tc;this.Gc=[];for(const e of this.Tb.Me().dga())this.Gc.push(d.Wa.Na(this,e))}static Na(b,a){return d.B(d.ZP,b,a)}g(){this.Tc=null;for(const b of this.Gc)b.g();d.C(this.Gc);this.hq=this.Tb=this.kb=this.dh=this.eo=this.Gc=null}Mj(){for(const b of this.Gc)b.Mj();this.kb=this.dh=
null}oc(){return this.eo}G(){return this.eo.G()}S_(){return this.Tc?this.Tc:this.Tc=this.Tb.Gi().Tc}kl(b){for(const a of this.Gc)if(a.Ma.Id===b)return a}nr(){this.dh||this.za()}pl(){return this.dh?!this.dh.RN():!1}XD(){if(!this.Ih())return!1;const b=this.G().Ch(this.ku());return b?!b.RN():!1}H(){if(this.Ih()){var b=this.IE();if(-1!==b)return this.G().nf(b)}}OX(){this.dh=null;this.Ul=-1;this.kb=null;this.em=-1}z0(){return!!this.dh}za(){return this.dh&&this.pl()?this.dh:this.dh=this.G().Ch(this.ku())}n5(b){if(this.dh!==
b){this.Mj();this.dh=b;this.em=b.H().Da();this.Ul=b.lc;this.kb=b.j();for(const k of this.ega()){const g=k.pga;switch(k.cga.Nd()){case "instance-variable":var a=b.H(),e=a.L_(k.name),c=a.fN(e);a=a.lu(e);c===k.name&&a===k.type&&g.G6(e);break;case "behavior":var f=k.cL;e=this.H();c=b.H();a=g.Ah(c);f&&a&&(f=f.xa(),e.eu(f),c.eu(f),g.D6(a.eb))}}}}*ega(){for(const e of this.Gc){var b=e.xd(),a=this.H();const c={cga:e,pga:b};switch(e.Nd()){case "world-instance":c.aua=e.Ma.Id;break;case "instance-variable":b=
b.Yq();c.name=a.fN(b);c.type=a.lu(b);break;case "effect":a=b.vE(a.La);c.rsa=a;break;case "behavior":a=b.Ah(a);c.cL=a;break;case "plugin":c.Xta=a.yb()}yield c}}j(){if(this.kb&&this.pl())return this.kb;const b=this.za();b&&(this.kb=b.j());return this.kb}ku(){return this.Ul?this.Ul:this.Tb.ku()}Ei(){return this.Tb.Ei()}Ii(){return this.Tb.Ii()}Qj(){return this.Tb.Qj()}Vf(){return this.Tb.Vf()}hl(){return this.Tb.hl()}hk(b){for(const a of this.S_())a.hk(b);for(const a of this.Gc)a.hk(b)}gl(){return this.Tb.gl()}xl(b){this.Tb.xl(b)}IE(){return isNaN(this.em)?
this.Tb.IE():this.em}Tj(){const b=this.za();return b&&b.ga.Xm()?b.ga.Tj():this.Tb.Tj()}Sj(){const b=this.za();return b&&b.ga.Xm()?b.ga.Sj():this.Tb.Sj()}Yj(){return this.Tb.Yj()}xa(){return this.Tb.xa()}Ih(){return 0===this.Yj()}yd(){this.nr();if(this.pl()||!this.Ih()){for(var b of this.Gc)b.yd();b=this.oc().Hh()?0:this.hl();this.hq=this.EE(b);this.Op=this.Bs=!1;this.mb(b)}}$f(){this.nr();if(this.pl()||!this.Ih()){this.eo.Hh();var b=this.eo.Aa()-this.Vf();this.hq=this.EE(b);for(const a of this.Gc)a.$f()}}a5(){if(!(this.oc().hg||
(this.nr(),!this.pl()&&this.Ih()||this.cq))){const b=this.eo.Aa();b>=this.Vf()+this.hl()?this.mb(this.hl(),!0,!1,!0):0>=b&&this.mb(0,!0,!1,!0)}}Rt(){for(const b of this.Gc)b.Rt()}mb(b,a=!1,e=!1,c=!1,f=!1,k=!1){this.nr();if(!this.pl()&&this.Ih()||k&&this.Ih()&&this.H().Lg())return!1;b-=this.Vf();if(0>b)return!1;this.x2(b,a);this.nO(b,a,f);f=k=!1;for(const g of this.Gc){const l=g.mb(b,e,!1,c);k||0===(l&d.ae.L6)||(k=!0);f||0===(l&d.ae.rl)||(f=!0)}this.w2(b,a);k&&(b=this.j())&&b.Ba();return f}Qt(){for(const b of this.Gc)b.Qt()}x2(b,
a){if(a&&this.cq&&!this.Bs){if(this.oc().Hh()){if(0>b)return;for(const e of this.Gc)e.mb(0,!1,!1,!0)}else{if(b>this.hl())return;for(const e of this.Gc)e.mb(this.hl(),!1,!1,!0)}for(const e of this.Gc)e.yd();this.Bs=!0}}w2(b,a){if(a&&this.cq&&!this.Op)if(this.oc().Hh()){if(b>=this.hl()){for(const e of this.Gc)e.mb(this.hl(),!1,!1,!0);this.Op=!0}}else if(0>=b){for(const e of this.Gc)e.mb(0,!1,!1,!0);this.Op=!0}}nO(b,a,e){!e&&a&&(b=this.EE(b),b!==this.hq&&this.KO(b),this.hq=b)}EE(b){const a=this.oc();
let e=this.df.P_(b,this.Tb);return e?e:a.Hh()?this.df.z_(b,this.Tb):this.df.y_(b,this.Tb)}KO(b){if(d.A.Pc&&this.oc().constructor===d.ae){var a=this.oc();d.A.Pc.D.op(a);d.A.Pc.D.R5(b);b=a.Bb;b.ka(d.A.Pc.D.Sla);b.ka(d.A.Pc.D.KO);d.A.Pc.D.op(null);d.A.Pc.D.R5(null)}}$W(){return this.Tb.Gi().UW()}xY(b){this.Tb.Gi().wY(b)}gE(b){for(const a of this.Gc)a.gE(b)}kp(){for(const b of this.Gc)b.kp()}yi(){this.nr();if(this.pl()||!this.Ih())for(const b of this.Gc)b.yi()}Ai(){this.nr();if(this.pl()||!this.Ih()){var b=
!1;for(const a of this.Gc){const e=a.Ai();!b&&e&&(b=!0)}b&&(b=this.$W(),b.Ir(this.oc().Aa()),b.hk("noease"),b.xl(!0),b.Gr(""))}}la(){var b=this.za();b=b?b.lc:this.ku();return{propertyTracksJson:this.vba(),lastKeyframeDataItemJson:this.sba(),initialStateOfNestedSet:this.Bs,endStateOfNestedSet:this.Op,instanceUid:b}}qa(b){b&&(this.t$(b.propertyTracksJson),this.r$(b.lastKeyframeDataItemJson),this.o$(b.instanceUid),this.Bs=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Bs=b.initialStateOfNestedSet),
this.Op=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Op=b.endStateOfNestedSet))}sba(){return this.Tb.Gi().R_(this.hq)}vba(){return this.Gc.map(b=>b.la())}t$(b){b.forEach((a,e)=>{this.Gc[e].qa(a)})}o$(b){if(d.Tm(b)&&(b=this.G().Ch(b))){var a=this.oc();a.RX();a.J5(this.Tb.Qj(),b)}}r$(b){this.hq=this.Tb.Gi().Q_(b)}}}
{"use strict";const d=self.m;d.Wa=class extends d.fa{constructor(b,a){super();this.rd=b;this.Ma=a;this.Ad=a.Me();this.Ej=this.xd();this.Uc=this.Ma.Hi().Uc}static Na(b,a){return d.B(d.Wa,b,a)}g(){this.rd=null;this.Ej&&(this.Ej.g(),this.Ej=null);this.Ad=this.Ma=this.Uc=null}Me(){return this.Ad}oc(){return this.rd.oc()}G(){return this.rd.G()}za(){return this.rd.za()}xd(){if(this.Ej)return this.Ej;let b;switch(this.Ma.Nd()){case "behavior":b=new d.Wa.uX(this);break;case "effect":b=new d.Wa.EZ(this);break;
case "instance-variable":b=new d.Wa.F1(this);break;case "plugin":b=new d.Wa.N3(this);break;case "world-instance":b=new d.Wa.U6(this);break;case "value":b=new d.Wa.J6(this)}return this.Ej=b}Nd(){return this.Ma.Nd()}mu(){return this.Ma.Yj()}NE(){return this.Me().Py(this.Ma).Yj()}gl(){return this.Ma.gl()}xl(b){this.Ma.xl(b)}Ei(){return this.Ma.Ei()}Ii(){return this.Ma.Ii()}hk(b){for(const a of this.oN())a.hk(b)}oN(){return this.Uc?this.Uc:this.Uc=this.Ma.Hi().Uc}Mj(){this.xd().Mj()}Je(){return this.xd().Je()}yd(){this.xd().yd()}$f(){this.xd().$f()}Rt(){this.xd().Rt()}mb(b,
a=!1,e=!1,c=!1){var f=this.Ma;let k=this.Ad.ME(b,f);k?f=this.Ad.cN(b,f):(k=this.Ad.zE(b,f),f=this.Ad.yE(b,f));return this.xd().mb(b,k,f,a,e,c)}Qt(){this.xd().Qt()}static zN(b,a){const e=a.Ma;a=a.Ad;let c=a.ME(b,e);c||(c=a.zE(b,e));return c}static m_(b,a){const e=a.Ma;a=a.Ad;return a.ME(b,e)?a.cN(b,e):a.yE(b,e)}bX(){return this.Ma.Hi().VW()}gE(b){this.Ma.Hi().yY(b)}kp(){this.xd().kp()}yi(){if(this.xd().yi()){const b=this.Ad.Py(this.Ma),a=this.xd().Je();b.qP(a)}}Ai(){const b=this.xd().Ai();b&&this.cX();
this.xd().ny();return b}cX(){const b=this.oc().Aa(),a=this.xd(),e=d.Wa.zN(b,this),c=this.bX();c.PP(e.Yj());c.Ir(b);c.hk(e.Nm());c.xl(!0);c.Qg(a.gz());c.qP(a.Je())}la(){return{sourceAdapterJson:this.xd().la()}}qa(b){b&&this.xd().qa(b.sourceAdapterJson)}}}
{"use strict";const d=self.m.Wa;d.Ki=class{constructor(b){this.ma=b;this.im=null}g(){this.im&&(this.im.g(),this.im=null);this.ma=null}kl(){return this.ma}Mj(){this.im&&this.im.Mj()}Eg(){return this.im?this.im:this.im=this.R7()}Yq(){}Da(){return this.Yq()}pu(){}yd(){this.Eg().yd()}$f(){this.Eg().$f()}Rt(){this.Eg().Rq()}mb(b,a,e,c,f,k){const g=d.Ki.gN(this.ma)(b,a,e,this.ma);return f?g:this.Eg().Eo(b,g,a,e,c,k)}Qt(){this.Eg().Qq()}kp(){var b=this.Eg();b.hi=b.Je()}ny(){this.Eg().ny()}Je(){return this.Eg().Je()}yi(){return this.Eg().yi()}Ai(){return this.Eg().Ai()}gz(){return d.Ki.gz(this.ma)}R7(){const b=
this.ma.mu();switch(this.ma.NE()){case "combo":case "boolean":case "text":case "string":return new d.Yf.qO(this);case "numeric":case "number":case "angle":return"combo"===b?new d.Yf.qO(this):new d.Yf.D2(this);case "color":case "offsetColor":return new d.Yf.VX(this)}}la(){return{propertyAdapterJson:this.Eg().la()}}qa(b){b&&this.Eg().qa(b.propertyAdapterJson)}static gz(b){const a=b.rd.oc().Aa(),e=d.zN(a,b),c=d.m_(a,b);return d.Ki.gN(b)(a,e,c,b)}static ld(){let b=(void 0).Ii();"combo"===(void 0).mu()&&
(b="absolute");switch(b){case "relative":return NaN}}static gN(b){switch(b.NE()){case "numeric":return d.xF.mb;case "angle":return d.hM.mb;case "boolean":return d.lM.mb;case "color":return d.uM.mb;case "text":return d.XP.mb}}static n0(b){switch(b.NE()){case "numeric":return d.xF.Bl;case "angle":return d.hM.Bl;case "boolean":return d.lM.Bl;case "color":return d.uM.Bl;case "text":return d.XP.Bl}}}}{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a)}}d.Wa.U6=b}
{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a);this.wx=NaN}Yq(){return this.ma.Ma.jh[0]}Da(){return this.wx?this.wx:super.Da()}pu(){return this.ma.rd.za()}G6(a){this.ma.Ma.jh[0]!==a&&(this.wx=a)}mb(a,e,c,f,k,g){if(this.Eg().qM(e.ld()))return super.mb(a,e,c,f,k,g)}la(){return Object.assign(super.la(),{index:this.wx})}qa(a){a&&(super.qa(a),this.wx=a.index)}}d.Wa.F1=b}
{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a);this.eb=NaN}Yq(){return this.ma.Ma.jh[1]}pu(){var a=this.ma.Ma,e=this.eb?this.eb:a.jh[0];a=this.ma.rd.za();e=a.VM(e);return a.od[e].ga}Ah(a){return a.Ey(this.ma.Ma.jh[2])}D6(a){this.ma.Ma.jh[0]!==a&&(this.eb=a)}mb(a,e,c,f,k,g){const l=this.ma.rd.za();if(this.Ah(l.H()))return super.mb(a,e,c,f,k,g)}la(){return Object.assign(super.la(),{sid:this.eb})}qa(a){a&&(super.qa(a),this.eb=a.sid)}}d.Wa.uX=b}
{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a)}Yq(){return this.ma.Ma.jh[1]}pu(){const a=this.ma.rd.j().we,e=this.vE(a.La).Da();return a.wu(e)?a.Bg(e):null}vE(a){return a.fl(this.ma.Ma.jh[0])}mb(a,e,c,f,k,g){if(this.Z9())return super.mb(a,e,c,f,k,g)}Z9(){const a=this.ma.rd.j().we,e=this.vE(a.La);if(e)return a.wu(e.Da())}}d.Wa.EZ=b}
{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a)}Yq(){return this.ma.Ma.jh[0]}pu(){return this.ma.rd.za().ga}mb(a,e,c,f,k,g){var l=this.ma.rd;const p=l.H().yb();l=l.za().H().yb();if(p===l)return super.mb(a,e,c,f,k,g)}}d.Wa.N3=b}
{"use strict";const d=self.m;class b extends d.Wa.Ki{constructor(a){super(a);this.Bd=0;this.DB=!1}yd(){const a=this.ma.Me();let e=this.ma.Ma;e=a.Py(e);this.Bd=e.pc()}$f(){}ld(){this.DB||this.ma.mb(0);return this.Bd}mb(a,e,c){const f=d.Wa.xF.mb;this.Bd=f(a,e,c,this.ma);this.DB=!0}kp(){}ny(){}Je(){return this.Bd}yi(){return!1}Ai(){return!1}la(){return{value:this.Bd,init:this.DB}}qa(a){a&&(this.Bd=a.value,this.DB=a.hasOwnProperty("init")?a.init:!0)}}d.Wa.J6=b}"use strict";
function ic(d,b,a){return d.ma.oc().Hh()?b():a()}function jc(d,b,a){return"relative"===d.ma.Ii()?b():a()}function kc(d,b,a){d.ss?(d.ss=!1,b()):a()}function lc(d){if(d.et)return d.et;d.et=d.Ej.pu();return d.et}function mc(d,b,a,e,c,f){switch(d.ma.Nd()){case "behavior":return b();case "effect":return a();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,b=!1){const a=[];for(const e of d){d=e.rd.Vf();for(const c of e.oN())b&&0===c.Aa()?a.push({time:d+c.Aa(),value:c.Qh}):b||a.push({time:d+c.Aa(),value:c.Qh})}return a.sort((e,c)=>e.time-c.time)}function oc(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.m.Wa.Yf=class{constructor(d){this.Ej=d;this.ma=d.kl();this.kb=this.ma.rd.j();this.Id=this.ma.Ma.Id;this.ss=!1;this.et=this.hi=null}g(){this.et=this.hi=this.kb=this.ma=this.Ej=null}Mj(){this.et=this.hi=this.kb=null}kl(){return this.ma}j(){return this.kb?this.kb:this.kb=this.ma.rd.j()}yd(){}$f(){}ny(){this.hi=null}Je(){}yi(){}Ai(){}qM(d){return typeof this.El()===typeof d}Rq(){}Eo(){}Qq(){}tp(){return ic(this,()=>{const d=this.ma.Ma;return this.ma.Me().Py(d)},()=>{const d=this.ma.Ma;return this.ma.Me().Oo(d)}).Qh}bA(){const d=
this.ma.oc().Aa()-this.ma.rd.Vf();return ic(this,()=>{const b=this.ma.Ma;return this.ma.Me().zE(d,b)},()=>{const b=this.ma.Ma,a=this.ma.Me(),e=a.yE(d,b);return e?e:a.Oo(b)}).Qh}eA(){}Oh(){return this.Ej.Da()}la(){return{firstAbsoluteUpdate:this.ss,saveState:this.hi}}qa(d){d&&(this.ss=d.firstAbsoluteUpdate,this.hi=d.saveState)}};
{"use strict";const d=self.m,b=new Map,a=[0,0,0];class e extends d.Wa.Yf{constructor(c){super(c)}yd(){}$f(){}Je(){const c=this.ma.Nd(),f=lc(this),k=this.Oh();switch(c){case "behavior":return this.BA(f.Vb(k));case "effect":return this.BA(f[k]);case "plugin":return this.BA(f.Vb(k));case "world-instance":return this.BA(this.El())}}yi(){const c=this.tp();return!this.xQ(c,this.El())}Ai(){return d.pe(this.hi)?!1:!this.xQ(this.hi,this.El())}xQ(c,f){return c.vo(f)}tp(){const c=super.tp();return this.fA(c)}bA(){const c=
super.bA();return this.fA(c)}eA(){}BA(c){return d.Um(c,d.$a)?c.toArray().slice(0,3):c.slice(0,3)}fA(c){return d.Um(c,d.$a)?c:new d.$a(c[0],c[1],c[2],1)}qM(){return!0}Rq(){var c=this.ma.za();b.has(c)||b.set(c,new Map);c=b.get(c);const f=this.ma.Nd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Id)||c.set(this.Id,{Yx:!1,color:new d.$a(0,0,0,1)})}iR(c,f,k){c=b.get(c).get(f).get(k);c.Yx=!0;return c.color}Eo(c,f){var k=this.ma.oc(),g=this.ma.rd;c=this.ma.za();var l=this.ma.xd();const p=this.ma.Nd();
l=k.QE(c,l,this.Id);if(1<l.length){if(l=nc(l,!0),k=k.Aa(),k=oc(k,l))if(l=k.time-g.Vf(),0===l)this.iR(c,p,this.Id).IV(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];g=f[1];f=f[2];l=this.ma.mb(l,!1,!0);k=d.$a.hE(k,l[0]);g=d.$a.hE(g,l[1]);f=d.$a.hE(f,l[2]);this.iR(c,p,this.Id).IV(k,g,f)}}else this.qk(f[0],f[1],f[2]);return d.ae.rl}Qq(){const c=this.ma.za();if(b.has(c)){var f=b.get(c),k=this.ma.Nd();if(f.has(k)){var g=f.get(k);if(g.has(this.Id)){var l=g.get(this.Id),p=l.color;l.Yx&&this.qk(p.Ua,p.Ya,p.Xa);
0===g.size&&f.delete(k);0===f.size&&b.delete(c)}}}}El(){const c=this.ma.Nd(),f=lc(this),k=this.Oh();switch(c){case "behavior":return this.fA(f.Vb(k));case "effect":return f[k].clone();case "plugin":return this.fA(f.Vb(k));case "world-instance":return this.j().pb.clone()}}qk(c,f,k){const g=this.ma.Nd(),l=lc(this),p=this.Oh();switch(g){case "behavior":a[0]=c;a[1]=f;a[2]=k;l.Pe(p,a);break;case "effect":l[p].FD(c,f,k);break;case "plugin":a[0]=c;a[1]=f;a[2]=k;l.Pe(p,a);break;case "world-instance":this.j().S5(c,
f,k)}}la(){}qa(){}}d.Wa.Yf.VX=e}
{"use strict";const d=self.m;class b extends d.Wa.Yf{constructor(a){super(a)}yd(){}$f(){}Je(){return this.El()}yi(){return this.tp()!==this.Je()}Ai(){return d.pe(this.hi)?!1:this.hi!==this.Je()}Eo(a,e){const c=d.Wa.Ki.n0(this.ma);var f=this.ma;const k=f.rd,g=f.Nd();var l=f.oc();const p=k.za();f=f.xd();l=l.QE(p,f,this.Id);1<l.length&&(l=nc(l),a=oc(a+k.Vf(),l))&&(e=a.value);if(c(this.Oh(),lc(this),e,g))switch(this.qk(e),g){case "plugin":return d.ae.rl}}El(){const a=this.ma.Nd(),e=lc(this),c=this.Oh();
switch(a){case "behavior":return e.Vb(c);case "effect":return e[c];case "instance-variable":return e.Le(c);case "plugin":return e.Vb(c)}}qk(a){const e=this.ma.Nd(),c=lc(this),f=this.Oh();switch(e){case "behavior":c.Pe(f,a);break;case "effect":c[f]=a;break;case "instance-variable":c.ln(f,a);break;case "plugin":c.Pe(f,a)}}}d.Wa.Yf.qO=b}
{"use strict";const d=self.m,b=new Map,a=(c,f,k,g,l)=>b.set(c,{oga:f,Gea:k,rfa:g,round:l});a("offsetX",(c,f)=>c.tO(f),(c,f)=>c.bg(f),c=>c.X(),!0);a("offsetY",(c,f)=>c.uO(f),(c,f)=>c.Re(f),c=>c.Y(),!0);a("offsetWidth",(c,f)=>c.sO(f),(c,f)=>c.tf(f),c=>c.O(),!0);a("offsetHeight",(c,f)=>c.rO(f),(c,f)=>c.sf(f),c=>c.R(),!0);a("offsetAngle",(c,f)=>c.G2(f),(c,f)=>c.yc(f),c=>c.ta(),!1);a("offsetOpacity",(c,f,k,g)=>{k=c.Cd()+f;0===g.Sc?(1<k?g.Sc+=k-1:0>k&&(g.Sc+=k),c.H2(f)):(c=c.Cd()+f,0<f&&0<g.Sc?1<c&&(g.Sc+=
c-1):0<f&&0>g.Sc?(g.Sc+=f,0<g.Sc&&(g.Sc=0)):0>f&&0<g.Sc?(g.Sc+=f,0>g.Sc&&(g.Sc=0)):0>f&&0>g.Sc&&0>c&&(g.Sc+=c))},(c,f)=>{c.re(f)},c=>c.Cd(),!1);a("offsetOriginX",(c,f)=>c.I2(f),(c,f)=>c.Cr(f),c=>c.il(),!1);a("offsetOriginY",(c,f)=>c.J2(f),(c,f)=>c.Dr(f),c=>c.jl(),!1);a("offsetZElevation",(c,f)=>c.K2(f),(c,f)=>c.Se(f),c=>c.Qa(),!0);a("offsetScaleX",(c,f,k)=>{const g=0>c.O()?-1:1;c.sO(k.Tj()*g*f)},(c,f,k)=>{c.tf(k.Tj()*f)},(c,f)=>{const k=0>c.O()?-1:1;if(c.Ro()){var g=c.ya(),l=f.oc().DN(g.za());l?g=
g.O()/l.Tj():(l=g.za().ga,g=l.Xm()?g.O()/l.Tj():1);return c.O()*k/(f.Tj()*g)}return c.O()*k/f.Tj()},!1);a("offsetScaleY",(c,f,k)=>{const g=0>c.R()?-1:1;c.rO(k.Sj()*g*f)},(c,f,k)=>{c.sf(k.Sj()*f)},(c,f)=>{const k=0>c.R()?-1:1;if(c.Qo()){var g=c.ya(),l=f.oc().DN(g.za());l?g=g.R()/l.Sj():(l=g.za().ga,g=l.Xm()?g.R()/l.Sj():1);return c.R()*k/(f.Sj()*g)}return c.R()*k/f.Sj()},!1);class e extends d.Wa.Yf{constructor(c){super(c);this.Sc=this.bb=0;this.XI=this.ZI=this.YI=null;this.eV=!1;this.Gq=d.Um(this.ma.oc(),
d.z6)?new d.Wa.Yf.F2(this):new d.Wa.Yf.E2(this);c=this.ma.Ma.Id;"world-instance"===this.ma.Nd()&&(c=b.get(c),this.YI=c.rfa,this.ZI=c.oga,this.XI=c.Gea,this.eV=c.round)}g(){this.XI=this.ZI=this.YI=this.Gq=null;super.g()}GP(c){this.bb=c}yd(){const c=this.Gq.yd();"number"===typeof c&&(this.bb=c);this.Sc=0}$f(){const c=this.Gq.$f();"number"===typeof c&&(this.bb=c)}Je(){return this.El()}yi(){return this.tp()!==this.Je()}Ai(){return d.pe(this.hi)?!1:this.hi!==this.Je()}Rq(){this.Gq.Rq()}Eo(c,f,k,g,l,p,
r){return this.Gq.Eo(c,f,k,g,l,p,r)}Qq(){this.Gq.Qq()}El(){const c=lc(this),f=this.Oh(),k=this.ma.rd,g=this.j();return mc(this,()=>c.Vb(f),()=>c[f],()=>c.Le(f),()=>c.Vb(f),()=>this.YI(g,k))}qk(c){const f=lc(this),k=this.Oh(),g=this.ma.rd,l=this.j();mc(this,()=>f.zF(k,c),()=>f[k]+=c,()=>f.p5(k,c),()=>f.zF(k,c),()=>this.ZI(l,c,g,this))}CS(c){const f=lc(this),k=this.Oh(),g=this.ma.rd,l=this.j();mc(this,()=>f.Pe(k,c),()=>f[k]=c,()=>f.ln(k,c),()=>f.Pe(k,c),()=>this.XI(l,c,g))}Sr(c,f,k,g,l,p){this.Gq.Sr(c,
f,k,g,l,p)}Cl(c,f,k){c=(c.toString().split(".")[1]||"").length;const g=this.El();this.qk((0===c?this.eV?Math.round(g):g:d.toFixed(g,c))-g,f,k)}la(){return Object.assign(super.la(),{v:this.bb,a:this.Sc})}qa(c){c&&(super.qa(c),this.bb=c.v,this.Sc=c.a)}}d.Wa.Yf.D2=e}
{"use strict";const d=self.m,b=new Map;class a{constructor(e){this.Ce=e}g(){this.Ce=null}yd(){const e=this.Ce,c=this.Ce.kl();return jc(e,()=>ic(e,()=>0,()=>d.Wa.Ki.gz(c)),()=>{})}$f(){}Rq(){const e=this.Ce,c=this.Ce.kl(),f=c.Ma.Id;jc(e,()=>{},()=>{var k=c.za();b.has(k)||b.set(k,new Map);k=b.get(k);const g=c.Nd();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(f)||k.set(f,{Yx:!1,value:0})})}hR(e,c,f){e=b.get(e).get(c).get(f);e.Yx=!0;return e}Eo(e,c,f,k,g,l){const p=this.Ce,r=this.Ce.kl(),v=r.Ma.Id;jc(p,
()=>{const q=p.bb;p.qk(c-q,f,k);l&&this.Sr(e,f,k,g,q,c);p.GP(c)},()=>{var q=r.oc(),x=r.rd;const u=r.za();var w=r.xd();const z=r.Nd();w=q.QE(u,w,v);if(1<w.length){if(w=nc(w,!0),q=q.Aa(),q=oc(q,w))x=q.time-x.Vf(),0===x?this.hR(u,z,v).value+=c:0>x||(x=r.mb(x,!1,!0),this.hR(u,z,v).value+=c-x)}else p.CS(c)});return mc(p,()=>{},()=>d.ae.rl,()=>{},()=>d.ae.rl,()=>d.ae.rl)}Qq(){const e=this.Ce,c=this.Ce.kl(),f=c.Ma.Id;jc(e,()=>{},()=>{const k=c.za();if(b.has(k)){var g=b.get(k),l=c.Nd();if(g.has(l)){var p=
g.get(l);if(p.has(f)){var r=p.get(f),v=r.value;r.Yx&&e.CS(v);p.delete(f);0===p.size&&g.delete(l);0===g.size&&b.delete(k)}}}})}Sr(e,c,f,k,g,l){const p=this.Ce;k||(c&&e===c.Aa()?p.Cl(c.pc(),c,f):f&&e===f.Aa()?p.Cl(f.pc(),c,f):0===l-g&&p.Cl(c.pc(),c,f))}}d.Wa.Yf.E2=a}
{"use strict";const d=self.m;class b{constructor(a){this.Ce=a}g(){this.Ce=null}yd(){const a=this.Ce;a.ss=!0;return this.eA(a.tp())}$f(){const a=this.Ce;if(a.tp()!==a.bA())return a.ss=!0,this.eA(a.bA())}Rq(){}Eo(a,e,c,f,k,g){const l=this.Ce,p=l.bb;jc(l,()=>{l.qk(e-p,c,f);g&&this.Sr(a,c,f,k,p,e)},()=>{kc(l,()=>{l.qk(p,c,f)},()=>{l.qk(e-p,c,f);g&&this.Sr(a,c,f,k,p,e)})});l.GP(e);return mc(l,()=>{},()=>d.ae.rl,()=>{},()=>d.ae.rl,()=>d.ae.rl)}Qq(){}eA(a){return a-this.Ce.Je()}Sr(a,e,c,f,k,g){const l=this.Ce;
f?e&&a===e.Aa()?l.Cl(e.pc(),e,c):c&&a===c.Aa()?l.Cl(c.pc(),e,c):c||l.Cl(e.pc(),e,c):e&&a===e.Aa()?l.Cl(e.pc(),e,c):c&&a===c.Aa()?l.Cl(c.pc(),e,c):0===g-k&&l.Cl(e.pc(),e,c)}}d.Wa.Yf.F2=b}
{"use strict";const d=self.m,b=self.Wt;d.Wa.xF=class{constructor(){}static Bl(a,e,c,f){let k;switch(f){case "behavior":k=e.Vb(a);break;case "effect":k=e[a];break;case "instance-variable":k=e.Le(a);break;case "plugin":k=e.Vb(a)}return k===c?!1:!0}static mb(a,e,c,f){if(!c)return c=f.Ma,c=f.Me().Oo(c),c.pc();var k=f.Ei();"default"===k&&(k="continuous");"combo"===f.mu()&&(k="discrete");if("discrete"===k)return e.pc();if("continuous"===k||"step"===k){"step"===k&&(k=f.oc().nu(),0!==k&&(k=1/k,a=Math.floor(a*
k)/k));var g=e.Aa();const l=c.Aa();k=e.pc();const p=c.pc();if(k===p)return k;a=d.normalize(a,g,l);const r=e.Nm();e=e.oE("cubic-bezier");c=c.oE("cubic-bezier");e&&e.gx&&c&&c.kB?(g=l-g,g=b.Po(r)(g*a,0,1,g),g=b.Po("cubicbezier")(g,k,k+e.xK,p+c.uI,p)):g=b.Po(r)((l-g)*a,k,p-k,l-g);return"integer"===f.mu()?Math.floor(g):g}}}}
{"use strict";const d=self.m;d.Wa.hM=class{constructor(){}static Bl(b,a,e,c){let f;switch(c){case "behavior":f=a.Vb(b);break;case "effect":f=a[b];break;case "instance-variable":f=a.Le(b);break;case "plugin":f=a.Vb(b)}return f===e?!1:!0}static mb(b,a,e,c){if(!e)return a=c.Ma,a=c.Me().Oo(a),a.pc();var f=c.Ei();"default"===f&&(f="continuous");"combo"===c.mu()&&(f="discrete");if("discrete"===f)return a.pc();if("continuous"===f||"step"===f){"step"===f&&(c=c.oc().nu(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const k=a.Aa(),g=e.Aa();c=a.pc();e=e.pc();if(f=a.oE("angle")){const l=f.kK;if(c===e&&0===l)return c;b=d.normalize(b,k,g);a=self.Wt.Po(a.Nm())(b,0,1,1);switch(f.nI){case "closest":return d.$K(c,e,a,l);case "clockwise":return d.Nea(c,e,a,l);case "anti-clockwise":return d.Mea(c,e,a,l)}}else{if(c===e)return c;b=d.normalize(b,k,g);a=self.Wt.Po(a.Nm());return d.$K(c,e,a(b,0,1,1))}}}}}"use strict";
self.m.Wa.lM=class{constructor(){}static Bl(d,b,a,e){let c;switch(e){case "behavior":c=b.Vb(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Le(d);break;case "plugin":c=b.Vb(d)}return!!c===!!a?!1:!0}static mb(d,b,a,e){return a?b.pc()?1:0:(d=e.Ma,d=e.Me().Oo(d),d.pc()?1:0)}};
{"use strict";const d=self.m,b=[0,0,0],a=[0,0,0],e=[0,0,0];d.Wa.uM=class{constructor(){}static Bl(c,f,k,g){let l;switch(g){case "behavior":l=f.Vb(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.Le(c);break;case "plugin":l=f.Vb(c)}Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(e.xD(k),b[0]=Math.floor(255*e.Ua),b[1]=Math.floor(255*e.Ya),b[2]=Math.floor(255*e.Xa));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(e.xD(l),a[0]=Math.floor(255*e.Ua),a[1]=Math.floor(255*e.Ya),a[2]=Math.floor(255*
e.Xa));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static mb(c,f,k,g){if(!k)return f=g.Ma,f=g.Me().Oo(f),f=f.pc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;var l=g.Ei();"default"===l&&(l="continuous");if("discrete"===l)return f=f.pc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;if("continuous"===l||"step"===l){"step"===l&&(g=g.oc().nu(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.Aa();l=k.Aa();var p=f.pc(),r=k.pc();const v=d.normalize(c,g,l);c=p[0];k=p[1];p=p[2];const q=r[0],x=r[1];r=r[2];f=self.Wt.Po(f.Nm());g=l-g;
l=g*v;b[0]=c===q?c:f(l,c,q-c,g);b[1]=k===x?k:f(l,k,x-k,g);b[2]=p===r?p:f(l,p,r-p,g);return b}}}}"use strict";self.m.Wa.XP=class{constructor(){}static Bl(d,b,a,e){let c;switch(e){case "behavior":c=b.Vb(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Le(d);break;case "plugin":c=b.Vb(d)}return c===a?!1:!0}static mb(d,b,a,e){return a?b.pc():(d=e.Ma,d=e.Me().Oo(d),d.pc())}};
{"use strict";const d=self.m;d.Tg=class{constructor(){this.mx=new Map}g(){for(const b of this.mx.values())b.g();this.mx.clear();this.mx=null}wc(b){b=new d.t6(b);this.mx.set(b.xa(),b)}aa(b){return this.mx.get(b)}static Yu(b,a,e,c){if(a)for(const f of a)d.Tg.zQ("create",f,b,e,c)}static jv(b,a,e,c){b.length?a.forEach((f,k)=>{b[k].qa(f)}):a.forEach(f=>{d.Tg.zQ("load",f,b,e,c)})}static zQ(b,a,e,c,f){let k;if("function"===typeof c)switch(b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}else if("object"===
typeof c)switch(c=c.map.get(a[c.vW]),b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}switch(b){case "load":k.qa(a);e.push(k);break;case "create":"function"!==typeof k.gl||k.gl()?e.push(k):k.g()}}}}
{"use strict";const d=self.m;d.t6=class{constructor(b){this.Ca="";this.YC=NaN;this.UC=0;this.rg=this.mg="default";this.xC=this.oC=!1;this.Ys=1;this.df=null;b&&(this.Ca=b[0],this.YC=b[1],this.UC=b[2],this.mg=b[3],this.rg=b[4],this.oC=!!b[6],this.xC=!!b[7],this.Ys=b[8],this.df=new d.YP(b[5],this))}g(){this.df.g();this.df=null}dz(){this.df||(this.df=new d.YP(null,this));return this.df}xa(){return this.Ca}Tz(b){this.Ca=b}Od(){return this.YC}nu(){return this.UC}Ei(){return this.mg}Ii(){return this.rg}br(){return this.oC}dr(){return this.xC}Qm(){return this.Ys}la(){return{trackDataJson:this.df.la(),
name:this.Ca,totalTime:this.YC,step:this.UC,interpolationMode:this.mg,resultMode:this.rg,loop:this.oC,pingPong:this.xC,repeatCount:this.Ys}}qa(b){b&&(this.dz().qa(b.trackDataJson),this.Ca=b.name,this.YC=b.totalTime,this.UC=b.step,this.mg=b.interpolationMode,this.rg=b.resultMode,this.oC=b.loop,this.xC=b.pingPong,this.Ys=b.repeatCount)}}}
{"use strict";const d=self.m;class b{constructor(a,e){this.df=e;this.xn=this.HB=null;this.em=this.Ul=NaN;this.rg=this.mg="default";this.ah=!1;this.Ad=this.wj=null;this.Ze="";this.Qs=null;this.yK=0;this.mC=this.df.cf.Od();this.wa=0;this.Ca="";a&&(a[0]&&(this.HB=a[0],this.Ul=a[0][2],this.em=a[0][1]),this.mg=a[1],this.rg=a[2],this.ah=!!a[3],a[6]&&(this.Ze=a[6]),a[7]&&(this.Qs=a[7],this.yK=a[7][0],this.mC=a[7][1]),a[8]&&(this.xn=a[8]),a[8]&&(this.xn=a[8]),a[9]&&(this.wa=a[9]),a[10]&&(this.Ca=a[10]),this.wj=
new d.cO(a[4],this),this.Ad=new d.UO(a[5],this))}g(){this.df=this.HB=null;this.wj&&(this.wj.g(),this.wj=null);this.Ad&&(this.Ad.g(),this.Ad=null);this.Qs=null}dz(){return this.df}Gi(){this.wj||(this.wj=new d.cO(null,this));return this.wj}Me(){this.Ad||(this.Ad=new d.UO(null,this));return this.Ad}IE(){return this.em}ku(){return this.Ul}Ei(){return this.mg}Ii(){return this.rg}gl(){return this.ah}xl(a){this.ah=!!a}Qj(){return this.Ze}Vf(){return this.yK}hl(){return this.mC}Tj(){return this.xn[0]}Sj(){this.xn||
(this.xn=[]);return this.xn[1]}Yj(){return this.wa}xa(){return this.Ca}la(){return{keyframeDataJson:this.wj.la(),propertyTrackDataJson:this.Ad.la(),instanceData:this.HB,additionalInstanceData:this.xn,instanceUid:this.Ul,objectClassIndex:this.em,interpolationMode:this.mg,resultMode:this.rg,enabled:this.ah,id:this.Ze,nestedData:this.Qs,type:this.wa,name:this.Ca}}qa(a){a&&(this.HB=a.instanceData,this.Ul=a.instanceUid,this.em=a.objectClassIndex,this.mg=a.interpolationMode,this.rg=a.resultMode,this.ah=
a.enabled,this.Ze=a.id,this.wa=a.type?a.type:0,this.wa=a.name?a.name:"",this.mC=this.df.cf.Od(),a.nestedData&&(this.Qs=a.nestedData,this.yK=this.Qs[0],this.mC=this.Qs[1]),a.additionalInstanceData&&(this.xn=a.additionalInstanceData),this.Gi().qa(a.keyframeDataJson),this.Me().qa(a.propertyTrackDataJson))}}d.YP=class{constructor(a,e){this.cf=e;this.Eq=[];this.vw=new Map;d.Tg.Yu(this.Eq,a,b,this)}g(){this.cf=null;for(const a of this.Eq)a.g();d.C(this.Eq);this.Eq=null;this.vw.clear();this.vw=null}P_(a,
e){const c=this.vw.get(e);if(c&&c.has(a))return c.get(a);for(const f of e.Gi().hW())if(f.Aa()===a)return c||this.vw.set(e,new Map),this.vw.get(e).set(a,f),f}y_(a,e){for(const c of e.Gi().hW())if(c.Aa()>=a)return c}z_(a,e){for(const c of e.Gi().Jfa())if(c.Aa()<=a)return c}*vga(){for(const a of this.Eq)yield a}la(){return{trackDataItemsJson:this.Eq.map(a=>a.la())}}qa(a){a&&d.Tg.jv(this.Eq,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.m;class b{constructor(a,e){this.Ad=e;this.MC="";this.wa=this.Id=this.jh=null;this.GJ=this.KJ=NaN;this.rg=this.mg="default";this.ah=!1;this.Ik=null;a&&(this.MC=a[0][0],this.jh=a[0].slice(1),this.Id=a[1],this.wa=a[2],this.KJ=a[3],this.GJ=a[4],this.mg=a[5],this.rg=a[6],this.ah=!!a[7],this.Ik=new d.TO(a[8],this))}g(){this.Ik.g();this.jh=this.Ad=this.Ik=null}Me(){return this.Ad}Hi(){this.Ik||(this.Ik=new d.TO(null,this));return this.Ik}Nd(){return this.MC}Yj(){return this.wa}PP(a){this.wa=
a}Ei(){return this.mg}Ii(){return this.rg}gl(){return this.ah}xl(a){this.ah=!!a}la(){return{propertyKeyframeDataJson:this.Ik.la(),sourceAdapterId:this.MC,sourceAdapterArguments:this.jh,property:this.Id,type:this.wa,min:this.KJ,max:this.GJ,interpolationMode:this.mg,resultMode:this.rg,enabled:this.ah}}qa(a){a&&(this.MC=a.sourceAdapterId,this.jh=a.sourceAdapterArguments,this.Id=a.property,this.wa=a.type,this.KJ=a.min,this.GJ=a.max,this.mg=a.interpolationMode,this.rg=a.resultMode,this.ah=a.enabled,this.Hi().qa(a.propertyKeyframeDataJson))}}
d.UO=class{constructor(a,e){this.Tb=e;this.rq=[];this.Nw=new Map;d.Tg.Yu(this.rq,a,b,this)}g(){this.Tb=null;for(const a of this.rq)a.g();d.C(this.rq);this.rq=null;this.Nw.clear();this.Nw=null}Py(a){return a.Hi().Uc[0]}Oo(a){return a.Hi().Uc.Ge(-1)}ME(a,e){const c=this.Nw.get(e);if(c&&c.has(a))return c.get(a);const f=e.Hi();for(const k of f.LL())if(k.Aa()===a)return c||this.Nw.set(e,new Map),this.Nw.get(e).set(a,k),k}cN(a,e){e=e.Hi();for(const c of e.LL())if(c.Aa()>a)return c}yE(a,e){e=e.Hi();for(const c of e.LL())if(c.Aa()>=
a)return c}zE(a,e){e=e.Hi();for(const c of e.bga())if(c.Aa()<=a)return c}*dga(){for(const a of this.rq)yield a}la(){return{propertyTrackDataItemsJson:this.rq.map(a=>a.la())}}qa(a){a&&d.Tg.jv(this.rq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.m;class b{constructor(a,e){this.wj=e;this.Xc=-1;this.ij="noease";this.jj=!1;this.Bw=this.mh=null;a&&(this.Xc=a[0],this.ij=a[1],this.jj=!!a[2],this.mh=(a=a[3])?a.split(" "):[],this.Bw=new Set(this.mh.map(c=>c.toLowerCase())))}g(){this.wj=null;d.C(this.mh);this.mh=null;this.Bw.clear();this.Bw=null}Gi(){return this.wj}Aa(){return this.Xc}Ir(a){this.Xc=a}Nm(){return this.ij}hk(a){this.ij=a}gl(){return this.jj}xl(a){this.jj=!!a}Gr(a){this.mh=a?a.split(" "):[];this.Bw=new Set(this.mh.map(e=>
e.toLowerCase()))}la(){return{time:this.Xc,ease:this.ij,enable:this.jj,tags:this.mh}}qa(a){a&&(this.Xc=a.time,this.ij=a.ease,this.jj=a.enable,this.mh=a.tags,this.Bw=new Set(this.mh.map(e=>e.toLowerCase())))}}d.cO=class{constructor(a,e){this.Tb=e;this.Tc=[];d.Tg.Yu(this.Tc,a,b,this)}g(){this.Tb=null;for(const a of this.Tc)a.g();d.C(this.Tc);this.Tc=null}UW(){const a=new b(null,this);this.Tc.push(a);return a}wY(a){for(const e of this.Tc){if(!a(e))continue;const c=this.Tc.indexOf(e);-1!==c&&(e.g(),this.Tc.splice(c,
1))}this.f6()}f6(){this.Tc.sort((a,e)=>a.Aa()-e.Aa())}R_(a){return this.Tc.indexOf(a)}Q_(a){return this.Tc[a]}*hW(){for(const a of this.Tc)yield a}*Jfa(){for(let a=this.Tc.length-1;0<=a;a--)yield this.Tc[a]}la(){return{keyframeDataItemsJson:this.Tc.map(a=>a.la())}}qa(a){a&&d.Tg.jv(this.Tc,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.m;class b{constructor(a,e){this.Ik=e;this.Qh=this.Bd=null;this.wa="";this.Xc=NaN;this.ij="noease";this.jj=!1;this.Xi=null;a&&(this.Bd=a[0][0],this.Qh=a[0][1],this.wa=a[0][2],this.Xc=a[1],this.ij=a[2],this.jj=!!a[3],this.Xi=null,a[4]&&(this.Xi=new d.gX(a[4],this)))}g(){this.Ik=null;this.Xi&&(this.Xi.g(),this.Xi=null)}ld(){return this.Bd}Qg(a){"color"===this.wa&&d.Tm(a)?(this.Bd[0]=d.OE(a),this.Bd[1]=d.BE(a),this.Bd[2]=d.qE(a)):this.Bd=a}qP(a){"color"===this.wa&&d.Tm(a)?(this.Qh[0]=
d.OE(a),this.Qh[1]=d.BE(a),this.Qh[2]=d.qE(a)):this.Qh=a}pc(){const a=this.Ik.Ma.Ii();if("relative"===a)return this.ld();if("absolute"===a)return this.Qh}Yj(){return this.wa}PP(a){this.wa=a}Aa(){return this.Xc}Ir(a){this.Xc=a}Nm(){return this.ij}hk(a){this.ij=a}gl(){return this.jj}xl(a){this.jj=!!a}oE(a){if(this.Xi)for(const e of this.Xi.Hea())if(e.Qj()===a)return e}la(){const a=this.Xi;return{addonDataJson:a?a.la():a,value:this.Bd,aValue:this.Qh,type:this.wa,time:this.Xc,ease:this.ij,enable:this.jj}}qa(a){a&&
(a.addonDataJson&&this.Xi.Rra(a.addonDataJson),this.Bd=a.value,this.Qh=a.aValue,this.wa=a.type,this.Xc=a.time,this.ij=a.ease,this.jj=a.enable)}}d.TO=class{constructor(a,e){this.Ma=e;this.Uc=[];d.Tg.Yu(this.Uc,a,b,this)}g(){this.Ma=null;for(const a of this.Uc)a.g();d.C(this.Uc);this.Uc=null}VW(){const a=new b(null,this);this.Uc.push(a);return a}yY(a){for(const e of this.Uc){if(!a(e))continue;const c=this.Uc.indexOf(e);-1!==c&&(e.g(),this.Uc.splice(c,1))}this.g6()}g6(){this.Uc.sort((a,e)=>a.Aa()-e.Aa())}*LL(){for(const a of this.Uc)yield a}*bga(){for(let a=
this.Uc.length-1;0<=a;a--)yield this.Uc[a]}la(){return{propertyKeyframeDataItemsJson:this.Uc.map(a=>a.la())}}qa(a){a&&d.Tg.jv(this.Uc,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.m;class b{constructor(c,f){this.Xi=f;this.Ze=c[0];this.Ol=c[1]}g(){this.Ol=this.Xi=null}Qj(){return this.Ze}la(){return{id:this.Ze,data:this.Ol}}qa(c){c&&(this.Ze=c.id,this.Ol=c.data)}}class a extends b{constructor(c,f){super(c,f);this.xK=this.Ol[0];this.gx=!!this.Ol[1];this.uI=this.Ol[2];this.kB=!!this.Ol[3]}g(){super.g()}la(){return Object.assign(super.la(),{startAnchor:this.xK,startEnable:!!this.gx,endAnchor:this.uI,endEnable:!!this.kB})}qa(c){c&&(super.qa(c),this.xK=
c.startAnchor,this.gx=!!c.startEnable,this.uI=c.endAnchor,this.kB=!!c.endEnable)}}class e extends b{constructor(c,f){super(c,f);this.nI=this.Ol[0];this.kK=this.Ol[1]}g(){super.g()}la(){return Object.assign(super.la(),{direction:this.nI,revolutions:this.kK})}qa(c){c&&(super.qa(c),this.nI=c.direction,this.kK=c.revolutions)}}d.gX=class{constructor(c){this.Cp=[];d.Tg.Yu(this.Cp,c,{vW:0,map:new Map([["cubic-bezier",a],["angle",e]])},this)}g(){for(const c of this.Cp)c.g();d.C(this.Cp);this.Cp=null}*Hea(){for(const c of this.Cp)yield c}la(){return{addonDataItemsJson:this.Cp.map(c=>
c.la())}}qa(c){c&&d.Tg.jv(this.Cp,c.addonDataItemsJson,{vW:"id",map:new Map([["cubic-bezier",a],["angle",e]])},this)}}}
{"use strict";const d=self.m;let b=0;d.z6=class extends d.ae{constructor(a,e){super(`tween-${b++}`,a,e);this.Ze="";this.iT=!1;this.TI="start-value";this.KU=this.JU=null}za(){var a=this.Nb;if(a&&a.length&&(a=a[0])){var e=a.za();return a.pl()?e:null}}Qj(){return this.Ze}OO(){if(this.KU)for(const a of this.KU)a(this);if(!this.hg)for(const a of this.Nb)a.Ai()}BO(){this.ds=this.b.Lk}RM(){if(!this.Sp&&(this.Sp=!0,this.JU))for(const a of this.JU)a(this)}Ir(a){this.DQ();super.Ir(a)}yd(a){if(!this.Kn&&"current-state"===
this.TI)for(const e of this.Nb)e.yi();super.yd(a)}uf(a=!1){super.uf(a);if(!this.hg)for(const e of this.Nb)e.kp()}Mc(a=!0,e=!1){this.DQ();super.Mc(a,e)}DQ(){for(const a of this.Nb){const e=c=>{c=c.Aa();const f=this.Od();return 0!==c&&c!==f};a.xY(e);a.gE(e)}}pA(){if(this.gi)return!0;const a=this.za();if(a&&a.H().Lg())return!1;this.Bb.oy(this);this.jP();return!0}nO(){}Gd(){const a=this.za();super.Gd(this.G().Mm(a),1)}la(){const a=super.la();return Object.assign(a,{tweenDataItemJson:this.cf.la(),id:this.Ze,
destroyInstanceOnComplete:this.iT,initialValueMode:this.TI})}qa(a){a&&(this.cf.qa(a.tweenDataItemJson),super.qa(a),this.Ze=a.id,this.iT=a.destroyInstanceOnComplete,this.TI=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.m,b=self.Wt;d.aQ=class extends d.fa{constructor(a){super();this.Ca=a[0];this.ni=[];for(const e of a[1])a=d.bQ.Na(this,e),this.ni.push(a);this.Mw=new Map;this.ZC=new Map;this.yaa();b.TW(this.Ca,(e,c,f,k)=>this.mb(e,c,f,k))}static Na(a){return d.B(d.aQ,a)}g(){for(const a of this.ni)a.g();d.C(this.ni);this.ni=null;this.Mw.clear();this.Mw=null;this.ZC.clear();this.ZC=null}l0(a){const e=this.ZC.get(a);if(e)return e;for(const c of this.ni)if(c.ef===a)return this.ZC.set(a,c),c}C_(a){for(const e of this.ni)if(e.ef>
a)return e}B_(a){for(const e of this.ni)if(e.ef>=a)return e}D_(a){for(let e=this.ni.length-1;0<=e;e--){const c=this.ni[e];if(c.ef<=a)return c}}mb(a,e,c,f){var k=a/f;(a=this.l0(k))?f=this.C_(k):(a=this.D_(k),f=this.B_(k));k=d.Pfa(k,a.ef,f.ef,f.ef-a.ef);const g=a.ef,l=a.yx,p=a.ef+a.sV,r=a.yx+a.xea,v=f.ef+f.qT,q=f.yx+f.Cda,x=f.ef;f=f.yx;f=b.Po("spline")(k,g,l,p,r,v,q,x,f,this.Mw.get(a));f+=a.yx;return(1-f)*e+f*(e+c)}yaa(){this.Mw.clear();for(let e=0;e<this.ni.length-1;e++){var a=this.ni[e];if(!a.gx)continue;
const c=this.ni[e+1];this.Mw.set(a,b.c_(a.ef,a.ef+a.sV,c.ef+c.qT,c.ef))}}}}{"use strict";const d=self.m;d.bQ=class extends d.fa{constructor(b,a){super();this.ef=a[0];this.yx=a[1];this.sV=a[2];this.xea=a[3];this.qT=a[4];this.Cda=a[5];this.gx=a[6];this.kB=a[7]}g(){}static Na(b,a){return d.B(d.bQ,b,a)}}}{"use strict";const d=self.m;d.y6=class extends d.fa{constructor(b){super();this.b=b;this.$C=[]}g(){for(const b of this.$C)b.g();d.C(this.$C);this.$C=null}Na(b){this.$C.push(d.aQ.Na(b))}}}
{"use strict";const d=self.m;d.e6=class extends d.fa{constructor(b){super();this.I=b;this.jb=[];this.jb.push(d.B(d.hG,this));this.Oa=0;this.ej=this.jb[0]}g(){for(const b of this.jb)b.g();d.C(this.jb);this.I=this.ej=null}H(){return this.I}ba(){return this.ej}Ic(){this.ba().Ic()}V3(){var b=this.jb,a=++this.Oa;a===b.length?(a=d.B(d.hG,this),b.push(a),this.ej=a):(b=b[a],b.Mc(),this.ej=b)}W3(){const b=this.jb,a=++this.Oa;a===b.length&&b.push(d.B(d.hG,this));const e=b[a];e.bY(b[a-1]);this.ej=e}Ia(){this.ej=
this.jb[--this.Oa]}ip(b){const a=this.jb;for(let e=0,c=a.length;e<c;++e)a[e].ip(b)}}}
{"use strict";const d=self.m;d.hG=class extends d.fa{constructor(b){super();this.jb=b;this.I=this.jb.H();this.Rd=this.I.G().kd();this.Sb=!0;this.F=[];this.fc=[]}g(){this.ky();this.Rd=this.I=this.jb=null}ky(){d.C(this.F);d.C(this.fc)}H(){return this.I}XE(){return this.Sb?!!this.I.F.length:!!this.F.length}ja(){return this.Sb?this.I.ja():this.F}u0(){return!!this.fc.length}s_(){const b=this.ja();return b.length?b:this.fc}Mc(){this.Sb=!0;d.C(this.fc)}Ic(){this.Sb=!0}bY(b){b.Sb?this.Mc():(this.Sb=!1,d.ud(this.F,
b.F),d.C(this.fc))}wp(b){this.F.push(b)}vn(b){this.fc.push(b)}se(b){this.Sb=!!b}ik(b){this.Sb=!1;d.C(this.F);this.F.push(b)}Hu(b){this.Sb=!1;d.ud(this.F,b)}Ru(b){this.Sb=!1;d.C(this.F);for(const a of b)this.F.push(a)}eM(b,a){for(const e of a)b.has(e)||this.fc.push(e)}w6(b){for(const a of b)this.F.push(a);d.rh(this.fc,b)}bn(b){b&&(this.Rd.mf().Db().Td?(this.Sb&&(d.C(this.F),d.ud(this.fc,b.H().ja()),this.Sb=!1),b=this.fc.indexOf(b),-1!==b&&(this.F.push(this.fc[b]),this.fc.splice(b,1))):this.ik(b))}ip(b){d.rh(this.F,
b);d.rh(this.fc,b)}}}
{"use strict";const d=self.m;d.LZ=class extends d.fa{constructor(b){super();this.ua=b;this.b=this.ua.G();this.jb=[];this.jb.push(d.B(d.NM,this,null));this.Oa=0;this.mB=[]}g(){for(const b of this.jb)b.g();d.C(this.jb);d.C(this.mB);this.b=this.ua=null}ia(){return this.ua}G(){return this.b}mf(){return this.jb[this.Oa]}Ja(b){var a=this.jb;const e=++this.Oa;if(e===a.length)return b=d.B(d.NM,this,b),a.push(b),b;a=a[e];a.Mc(b);return a}Ia(){--this.Oa}X3(b){this.mB.push(b)}O3(){this.mB.pop()}j_(){const b=this.mB;
return 0===b.length?null:b.Ge(-1)}}}
{"use strict";const d=self.m;d.NM=class extends d.fa{constructor(b,a){super();this.jb=b;this.b=this.jb.G();this.Kv=a;this.fg=this.Ll=0;this.tI=this.gq=!1;this.yI=null;this.FI=this.DT=0}g(){this.Mc(null);this.b=this.jb=null}Mc(b){this.Kv=b;this.fg=this.Ll=0;this.tI=this.gq=!1}kH(b,a){this.Kv=b;this.Ll=0;this.fg=a}kP(){this.fg=this.Ll=0}Db(){return this.Kv}Pg(b){this.Kv=b}hn(b){this.Ll=b}Kz(b){this.fg=b}mn(b){this.gq=!!b}zr(b){this.tI=!!b}b5(b){this.yI=b}d1(b,a){this.DT=b;this.FI=a}Qz(b){this.FI=b}ak(){const b=
this.Kv;return b.XB?!0:this.Ll<b.Xb.length-1?!!b.Dd().length:!1}}}{"use strict";const d=self.m;d.r2=class extends d.fa{constructor(b){super();this.ua=b;this.b=this.ua.G();this.jb=[];this.Oa=-1;this.ej=null;this.EB=[]}g(){d.C(this.jb);this.b=this.ua=null}Zba(b){this.EB=b;b=this.EB.slice(0);this.jb.push(b);this.Oa=0;this.ej=b}ia(){return this.ua}G(){return this.b}Xq(){return this.ej}Ja(){const b=++this.Oa,a=this.jb;b===a.length?a.push(this.EB.slice(0)):d.ud(a[b],this.EB);this.ej=a[b]}Ia(){this.ej=this.jb[--this.Oa]}}}
{"use strict";const d=self.m;d.t2=class extends d.fa{constructor(b){super();this.ua=b;this.b=this.ua.G();this.jb=[];this.Oa=-1}g(){d.C(this.jb);this.b=this.ua=null}ia(){return this.ua}G(){return this.b}WN(){return 0<=this.Oa}Xq(){return this.jb[this.Oa]}Ja(){++this.Oa;if(this.Oa===this.jb.length){var b=d.B(d.s2,this);this.jb.push(b);return b}b=this.jb[this.Oa];b.Mc();return b}Ia(){--this.Oa}RZ(b){const a=this.jb;for(let e=this.Oa;0<=e;--e){const c=a[e];if(c.xa()===b)return c}return null}}}
{"use strict";const d=self.m;d.s2=class extends d.fa{constructor(b){super();this.Df=b;this.Ca="";this.Oa=0;this.uc=!1}Mc(){this.Ca="";this.Oa=0;this.uc=!1}Tz(b){this.Ca=b}xa(){return this.Ca}Oc(b){this.Oa=b}Da(){return this.Oa}uf(){this.uc=!0}}}{"use strict";const d=self.m;d.nX=class extends d.fa{constructor(){super();this.jb=[];this.Oa=-1}g(){d.C(this.jb)}Xq(){return this.jb[this.Oa]}Ja(){++this.Oa;if(this.Oa===this.jb.length){const b=[];this.jb.push(b);return b}return this.jb[this.Oa]}Ia(){--this.Oa}}}
{"use strict";const d=self.m;function b(a,e){return a.Da()-e.Da()}d.KZ=class extends d.fa{constructor(a){super();this.b=a;this.yv=[];this.oK=new Map;this.OH=[];this.HT=new Map;this.cI=new Map;this.iI=new Map;this.GA=new Map;this.VS=new Map;this.wI=new Map;this.kea=0;this.NH=[];this.gda=[];this.vU=[];this.DI=new Map;this.Rd=d.B(d.LZ,this);this.zd=d.B(d.r2,this);this.Df=d.B(d.t2,this);this.IK=[];this.EC=[];this.DC=[];this.bI=this.Ql=this.nm=0;this.sg=[];this.OA=[];self.c3_callFunction=(e,c)=>this.oA(e,
c)}g(){this.jy();this.Rd.g();this.Rd=null;this.zd.g();this.zd=null;d.C(this.EC);d.C(this.DC);this.b=null;d.C(this.yv);this.oK.clear()}Na(a){a=d.B(d.JZ,this,a);this.yv.push(a);this.oK.set(a.xa().toLowerCase(),a)}n7(a){this.IK.push(a)}Mb(){for(const a of this.DI.values())a.Mb(!1);for(const a of this.yv)a.Mb();for(const a of this.yv)a.BH();for(const a of this.IK)a.Mb(!1);d.C(this.IK);this.zd.Zba(this.vU)}G(){return this.b}aN(a){return this.oK.get(a.toLowerCase())||null}Kaa(a){this.OH.push(a);this.HT.set(a.GT,
a)}Haa(a){this.cI.set(a.eb,a)}Gaa(a){this.iI.set(a.eb,a)}Faa(a){this.GA.set(a.eb,a)}Jaa(a){this.DI.set(a.vB.toLowerCase(),a)}Iaa(a){this.wI.set(a.eb,a);a.Lg()?this.NH.push(a):this.gda.push(a)}cA(a){2<=a.length&&a.sort(b);let e=this.VS.get(a.length);e||(e=[],this.VS.set(a.length,e));for(let f=0,k=e.length;f<k;++f){const g=e[f];a:{for(let l=0,p=a.length;l<p;++l)if(a[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(a);return a}z9(a){this.vU.push(a.hb);return this.kea++}kd(){return this.Rd}lf(){return this.kd().mf()}Db(){return this.lf().Db()}Rf(){const a=
this.lf();return a.Db().XM(a.Ll)}hu(){const a=this.lf();return a.Db().TM(a.fg)}ZZ(a){const e=[];for(a=a.fr();a;)d.Am(e,a.SQ()),a=a.fr();return e}aR(a){const e={};for(const c of this.ZZ(a))e[c.Fi()]=c.dR();return Object.create(Object.prototype,e)}xE(a){return this.wI.get(a)||null}o_(a){return this.cI.get(a)||null}XZ(a){return this.GA.get(a)||null}Ry(a){return this.DI.get(a.toLowerCase())||null}t4(){for(const a of this.NH)a.y4()}$M(a){return this.HT.get(a.toLowerCase())||null}p_(a){return(a=this.cI.get(a))&&
a.uj?a:null}u4(){for(const a of this.OH)a.v4()}XR(){for(const a of this.yv)a.Zaa()}D4(a){this.XR();this.nm++;for(const e of a.Vx())if(a=e.dd)this.b.Eu(e),a.oa(),this.b.Du();this.nm--}async rY(a){this.XR();this.nm++;for(const e of this.l8(a))await this.b.Vq(e);this.nm--}*l8(a){for(const e of a.Vx())if(a=e.dd)this.b.Eu(e),yield*a.lb(),this.b.Du()}wv(a,e,c,f){let k=!1;if(!a.Ob())return this.FF(e,c,f);this.Ql++;for(const g of a.Vx())if(a=g.dd){this.b.Eu(g);for(const l of a.cB){const p=l.wv(e,c,f);k=k||
p}a=a.wv(e,c,f);k=k||a;this.b.Du()}this.Ql--;return k}*$u(a,e,c,f){let k=!1;if(!a.Ob())return this.FF(e,c,f);this.Ql++;for(const g of a.Vx())if(a=g.dd){this.b.Eu(g);for(const l of a.cB){const p=yield*l.$u(e,c,f);k=k||p}a=yield*a.$u(e,c,f);k=k||a;this.b.Du()}this.Ql--;return k}FF(a,e,c){this.EC.push([a,e,c]);return!1}b4(a,e,c){let f=null;const k=new Promise(g=>f=g);this.DC.push([a,e,c,f]);return k}*iba(){if(this.b.tu())throw Error("should not be in breakpoint");const a=this.b.Ta;for(;this.DC.length;){const [e,
c,f,k]=this.DC.shift(),g=yield*this.$u(a,e,c,f);k(g)}}async mP(){for(const a of this.iba())await this.b.Vq(a)}oF(){return 0<this.Ql}gv(){return++this.Ql}av(){--this.Ql}V1(){return 0<this.nm}oz(){return this.V1()||this.oF()}jba(a){for(const [e,c,f]of this.EC)this.wv(a,e,c,f);d.C(this.EC)}He(a){a?this.bI++:this.bI--}VN(){return 0<this.bI}Tq(a){for(let e=0,c=a.length;e<c;++e)a[e].$n.Ic()}Mg(a){for(let e=0,c=a.length;e<c;++e)a[e].$n.V3()}Oe(a){for(let e=0,c=a.length;e<c;++e)a[e].$n.W3()}Lb(a){for(let e=
0,c=a.length;e<c;++e)a[e].$n.Ia()}QD(){const a=d.B(d.QF,this);this.sg.push(a);return a}F4(){if(this.sg.length){var a=this.lf(),e=!1;this.nm++;for(let c=0,f=this.sg.length;c<f;++c){const k=this.sg[c];k.DS()&&k.aba(a);k.Ww&&(e=!0)}e&&this.OQ();this.nm--}}async tY(){if(this.sg.length){var a=this.lf(),e=!1;this.nm++;for(let c=0,f=this.sg.length;c<f;++c){const k=this.sg[c];k.DS()&&await k.f8(a);k.Ww&&(e=!0)}e&&this.OQ();this.nm--}}OQ(){const a=d.Pea(this.sg,e=>e.Ww);for(const e of a)e.g()}jy(){for(const a of this.sg)a.g();
d.C(this.sg)}j4(a){for(const e of this.sg)e.ip(a)}ND(a){this.OA.push(a)}ly(){d.C(this.OA)}e0(){const a=Promise.all(this.OA);this.OA=[];return a}la(){return{groups:this.qba(),cnds:this.pba(),acts:this.oba(),vars:this.Bba(),waits:this.xba()}}qa(a){this.n$(a.groups);this.i$(a.cnds);this.h$(a.acts);this.z$(a.vars);this.v$(a.waits)}qba(){const a={};for(const e of this.OH)a[e.eb.toString()]=e.xu();return a}n$(a){for(const [e,c]of Object.entries(a))(a=this.p_(parseInt(e,10)))&&a.Ar(c)}pba(){const a={};for(const [e,
c]of this.iI){const f=c.la();f&&(a[e.toString()]=f)}return a}i$(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.iI)f.qa(e.get(c)||null)}oba(){const a={};for(const [e,c]of this.GA){const f=c.la();f&&(a[e.toString()]=f)}return a}h$(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.GA)f.qa(e.get(c)||null)}Bba(){const a={};for(const [e,c]of this.wI)c.tb||!c.Lg()&&!c.$h||(a[e.toString()]=c.ld());return a}z$(a){for(const [e,
c]of Object.entries(a))(a=this.xE(parseInt(e,10)))&&a.Qg(c)}xba(){return this.sg.filter(a=>!a.T1()).map(a=>a.la())}v$(a){this.jy();for(const e of a)(a=d.QF.K7(this,e))&&this.sg.push(a)}mE(a){for(;a;)if(a=a.fr(),a instanceof d.bu)return a;return null}oA(a,e){Array.isArray(e)||(e=[]);a=this.Ry(a.toLowerCase());if(!a)return null;if(!a.Xf())return a.ju();var c=a.bh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].hb);while(e.length<c.length)}c=a.Ke();return c.OF(c.Ed(),a.lm,a.ju(),...e)}}}
{"use strict";const d=self.m;d.JZ=class extends d.fa{constructor(b,a){super();this.ua=b;this.b=b.G();this.Ca=a[0];this.lB=[];this.cD=new Map;this.xT=new Map;this.Dda=new Map;this.Wv=!1;this.lV=[];this.cB=[];this.WS=new Set;for(const e of a[1])this.AQ(e,null,this.lB);this.Bj=this.b.ub?{type:"sheet",name:this.Ca,Xx:0,children:[]}:null}g(){this.b=this.ua=null}AQ(b,a,e){switch(b[0]){case 0:case 3:this.I7(b,a,e);break;case 1:this.J7(b,a,e);break;case 2:this.N7(b,a,e);break;case 4:this.L7(b,a);break;case 5:this.S7(b,
a,e);break;default:throw Error("invalid event type");}}I7(b,a,e){b=d.bl.Na(this,a,b);if(b.Td){e.push(b);e=b.Xb;for(let c=0,f=e.length;c<f;++c)e[c].bp()&&this.oR(b,c)}else b.bp()?this.oR(b,0):e.push(b)}L7(b,a){b=d.bu.Na(this,a,b);this.ua.Jaa(b)}J7(b,a,e){b=d.Ay.Na(this,a,b);e.push(b)}N7(b,a,e){b=d.MM.Na(this,a,b);e.push(b)}S7(b,a,e){b=d.zy.Na(this,a,b);e.push(b)}oR(b,a){b.Td||this.ua.n7(b);var e=b.XM(a),c=e.Ea,f=e.H();if(e.bU){var k=this.xT.get(f);k||(k=new Map,this.xT.set(f,k));e=e.u_().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([b,a])}else k=this.cD.get(f),k||(k={xL:new Map,Dx:new Map},this.cD.set(f,k)),(f=e.Ah())?(e=k.Dx.get(f),e||(e=new Map,k.Dx.set(f,e))):e=k.xL,k=e.get(c),k||(k=[],e.set(c,k)),k.push([b,a])}Mb(){const b=this.lB;for(let a=0,e=b.length;a<e;++a)b[a].Mb(a<e-1&&b[a+1]instanceof d.bl&&b[a+1].nz())}l7(b){this.lV.push(b)}BH(){d.C(this.cB);this.lQ(this);this.WS.clear()}lQ(b){const a=b.cB,e=b.WS;for(const c of this.lV){const f=c.aw;c.Hb&&
b!==f&&!e.has(f)&&(e.add(f),f.lQ(b),a.push(f))}}ia(){return this.ua}G(){return this.b}xa(){return this.Ca}QR(b,a){this.Dda.set(a,b)}Zaa(){this.Wv=!1}oa(){if(!this.Wv){var b=this.b,a=b.hF(),e=a?performance.now():0;this.Wv=!0;var c=this.ia(),f=c.lf();for(const k of this.lB)k.oa(f),c.Tq(k.Dd()),c.ly(),b.Zd();f.Mc(null);a&&(this.Bj.Xx+=performance.now()-e)}}*lb(){if(!this.Wv){this.Wv=!0;var b=this.b,a=this.ia(),e=a.lf();for(const c of this.lB)yield*c.lb(e),a.Tq(c.Dd()),a.ly(),b.Zd();e.Mc(null)}}wv(b,
a,e){if(a){const c=a.H();this.zH(b,a,c,e);for(const f of c.Yh)this.zH(b,a,f,e)}else return this.zH(b,a,null,null)}zH(b,a,e,c){e=this.cD.get(e);if(!e)return!1;c=c?e.Dx.get(c):e.xL;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [f,k]of c)c=this.NQ(a,f,k),b=b||c;return b}*$u(b,a,e){if(a){const c=a.H();yield*this.GG(b,a,c,e);for(const f of c.Yh)yield*this.GG(b,a,f,e)}else return yield*this.GG(b,a,null,null)}*GG(b,a,e,c){e=this.cD.get(e);if(!e)return!1;c=c?e.Dx.get(c):e.xL;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [f,k]of c)c=f.Ie()?this.NQ(a,f,k):yield*this.Z7(a,f,k),b=b||c;return b}NQ(b,a,e){const c=this.b,f=this.ua,k=f.Db(),g=f.kd(),l=f.Ql;let p=!1;k&&f.Mg(k.Ed());f.Mg(a.Ed());const r=1<l;r&&f.zd.Ja();const v=g.Ja(a);b&&(a.Xb[e].H().ba().ik(b),b.Wb()&&b.Pi());b=!0;if(a.ya()){const q=a.Fq;for(let x=0,u=q.length;x<u;++x)if(!q[x].lP(v)){b=!1;break}}b&&(c.ol(),a.Td?a.E4(v,e):a.oa(v),p=v.gq);g.Ia();r&&f.zd.Ia();f.Lb(a.Ed());k&&f.Lb(k.Ed());k||1!==l||(f.ly(),f.VN()||c.Zd());return p}*Z7(b,
a,e){const c=this.b,f=this.ua,k=f.Db(),g=f.kd(),l=f.Ql;let p=!1;k&&f.Mg(k.Ed());f.Mg(a.Ed());const r=1<l;r&&f.zd.Ja();const v=g.Ja(a);b&&(a.Xb[e].H().ba().ik(b),b.Wb()&&b.Pi());b=!0;if(a.ya()){const q=a.Fq;for(let x=0,u=q.length;x<u;++x)if(!(yield*q[x].FM(v))){b=!1;break}}b&&(c.ol(),a.Td?yield*a.sY(v,e):yield*a.lb(v),p=v.gq);g.Ia();r&&f.zd.Ia();f.Lb(a.Ed());k&&f.Lb(k.Ed());k||1!==l||(f.ly(),f.VN()||c.Zd());return p}}}
{"use strict";const d=self.m,b=[];function a(){return!0}function*e(){return!0}d.bl=class extends d.fa{constructor(c,f,k){super();this.dd=c;this.b=c.G();this.Fc=f;this.ie=null;this.Rd=this.b.ia().kd();this.$e=[];this.$s=[];this.Tv=this.ZB=this.XB=this.MT=!1;this.Td=!!k[2];this.MB=!1;this.Fq=null;this.Xb=[];this.Wg=[];this.mi=[];this.Vi=a;this.sp=e;this.fJ=this.uj=!1;this.GT="";this.OB=!1;this.Bj=this.aB=null;this.eb=k[4];this.ns=k[5];this.dd.QR(this,this.ns);this.Ka=this.b.ub?{fd:k[3][0],sL:k[3][1],
NV:!1,dL:!1,eL:!1,OV:!1}:null;this.ia().Haa(this);3===k[0]&&this.P9(k[1]);c=0;for(var g of k[6])f=d.wM.Na(this,g,c++),this.Xb.push(f),this.qQ(f.H());c=0;for(const l of k[7])g=d.by.Na(this,l,c++),this.Wg.push(g);if(9===k.length){k=k[8];for(const l of k)this.dd.AQ(l,this,this.mi)}this.Xb.length&&(this.MB=null===this.Xb[0].H()&&this.Xb[0].Ea===d.A.gb.D.LM);0===this.Xb.length&&(this.Xb=b);0===this.Wg.length&&(this.Wg=b);0===this.mi.length&&(this.mi=b)}static Na(c,f,k){return d.B(d.bl,c,f,k)}P9(c){this.uj=
!0;this.OB=this.fJ=!!c[0];this.GT=c[1].toLowerCase();this.aB=[];this.ia().Kaa(this);this.b.ub&&(this.Bj={type:"group",name:c[1],Xx:0,children:[]})}d7(c){this.aB.push(c)}kQ(c,f){for(const k of c.Yg.gm)f.includes(k)||f.push(k)}rQ(c,f){if(c)if(f.includes(c)||f.push(c),c.Sa)for(const k of c.Rp)k.Wb()&&this.kQ(k,f);else c.Wb()&&this.kQ(c,f)}qQ(c){this.rQ(c,this.$e)}h7(c){this.rQ(c,this.$s)}L4(){this.$e=this.b.ad}Mb(c){this.Tv=!!c;this.J9();this.K9();for(const k of this.Xb)k.Mb();if(0<this.Wg.length){c=
!1;for(var f of this.Wg)f.Mb(),f.C0()&&(c=!0);c?(this.Vi=this.cba,this.sp=this.h8):(this.Vi=this.bba,this.sp=this.g8)}f=this.mi;for(let k=0,g=f.length;k<g;++k)f[k].Mb(k<g-1&&f[k+1]instanceof d.bl&&f[k+1].nz());this.Ka&&this.Pca();this.Bj&&this.A9().Bj.children.push(this.Bj)}A9(){let c=this.ya();for(;c;){if(c.uj)return c;c=c.ya()}return this.dd}Pca(){const c=this.Ka;c.NV=this.Xb.every(f=>f.Ie());c.dL=this.Wg.every(f=>f.Ie());c.eL=this.mi.every(f=>f.Ie());c.OV=c.NV&&c.dL&&c.eL}J9(){if(this.uj){var c=
this.ya();for(this.ZB=!0;c;){if(!c.uj){this.ZB=!1;break}c=c.ya()}}}I9(){var c=this.b.ad;if(this.$e===c)this.$s=c;else{this.$s=d.lD(this.$e);for(c=this.ya();c;){for(var f of c.$e)this.h7(f);c=c.ya()}f=this.ia();this.$e=f.cA(this.$e);this.$s=f.cA(this.$s)}}K9(){if(this.v0()){this.Fq=[];for(var c=this.ya();c;)this.Fq.push(c),c=c.ya();this.Fq.reverse()}}Su(){this.XB=!0;this.Fc&&this.Fc.Su()}Dd(){return this.$e}Ed(){this.MT||(this.MT=!0,this.I9());return this.$s}E0(c){return this.$e.includes(c)}ia(){return this.dd.ia()}G(){return this.b}ya(){return this.Fc}kca(c){this.ie=
c}fr(){return this.ie||this.Fc}iF(){return this.Ka&&this.Ka.sL}Yo(){return this.iF()&&this.Ka.fd}nz(){return this.MB}xu(){return this.OB}v4(){this.Ar(this.fJ)}Ar(c){c=!!c;if(!this.uj)throw Error("not a group");if(this.OB!==c){this.OB=c;for(const f of this.aB)f.cQ();this.aB.length&&(c=this.b.Ha().dd)&&c.BH()}}bp(){return this.Xb.length&&this.Xb[0].bp()}P1(){return this.ie&&this.ie instanceof d.bu}v0(){return this.P1()||this.Xb.some(c=>c.bp())}XM(c){c=Math.floor(c);if(0>c||c>=this.Xb.length)throw new RangeError("invalid condition index");
return this.Xb[c]}O1(c){let f=c.Da();if(0===f)return!0;for(--f;0<=f;--f)if(this.Xb[f].H()===c.H())return!1;return!0}TM(c){c=Math.floor(c);if(0>c||c>=this.Wg.length)throw new RangeError("invalid action index");return this.Wg[c]}H9(c){c=Math.floor(c);return 0<=c&&c<this.Wg.length}SQ(){return this.mi.filter(c=>c instanceof d.Ay)}lP(c){c.Pg(this);let f=!1;const k=this.Xb;for(let g=0,l=k.length;g<l;++g){const p=k[g];c.hn(g);if(p.QB)throw Error("trigger cannot be used as sub-event to a loop");if(p.oa())f=
!0;else if(!this.Td)return!1}return this.Td?f:!0}E4(c,f){c.Pg(this);this.Xb[f].oa()&&(this.Vi(c,0)&&this.Gl(),c.mn(!0))}*FM(c){c.Pg(this);let f=!1;const k=this.Xb;for(let g=0,l=k.length;g<l;++g){const p=k[g];c.hn(g);if(p.QB)throw Error("trigger cannot be used as sub-event to a loop");if(p.Ie()?p.oa():yield*p.lb())f=!0;else if(!this.Td)return!1}return this.Td?f:!0}*sY(c,f){c.Pg(this);f=this.Xb[f];if(f.Ie()?f.oa():yield*f.lb())(this.vy()?this.Vi(c,0):yield*this.sp(c,0))&&(this.wy()?this.Gl():yield*this.Zu()),
c.mn(!0)}oa(c){c.Pg(this);this.MB||c.zr(!1);this.Td?this.hba(c):this.uA(c)}*lb(c){if(this.Yo()||this.b.mc())yield this;c.Pg(this);this.MB||c.zr(!1);this.Td?yield*this.s8(c):yield*this.DG(c)}hba(c){const f=this.Xb;let k=0===f.length;for(let l=0,p=f.length;l<p;++l){var g=f[l];g.bp()||(c.hn(l),g=g.oa(),k=k||g)}c.mn(k);k&&(this.Vi(c,0)&&this.Gl(),this.Tv&&c.zr(!0))}*s8(c){const f=this.Xb;let k=0===f.length;for(let l=0,p=f.length;l<p;++l){var g=f[l];g.bp()||(c.hn(l),g=g.Ie()?g.oa():yield*g.lb(),k=k||g)}c.mn(k);
k&&((this.vy()?this.Vi(c,0):yield*this.sp(c,0))&&(this.wy()?this.Gl():yield*this.Zu()),this.Tv&&c.zr(!0))}uA(c){const f=this.Xb;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.hn(k);if(!l.oa()){c.mn(!1);return}}c.mn(!0);this.Vi(c,0)&&this.Gl();c.gq&&this.Tv&&c.zr(!0)}*DG(c){const f=this.Xb;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.hn(k);if(l.Ie()?!l.oa():!(yield*l.lb())){c.mn(!1);return}}c.mn(!0);(this.vy()?this.Vi(c,0):yield*this.sp(c,0))&&(this.wy()?this.Gl():yield*this.Zu());c.gq&&this.Tv&&
c.zr(!0)}bba(c,f){const k=this.Wg;for(let g=f,l=k.length;g<l;++g)f=k[g],c.Kz(g),f.oa();return!0}*g8(c,f){const k=this.Wg;for(let g=f,l=k.length;g<l;++g)f=k[g],c.Kz(g),f.Ie()?f.oa():yield*f.lb();return!0}cba(c,f){const k=this.ia(),g=this.Wg;for(let l=f,p=g.length;l<p;++l){f=g[l];c.Kz(l);const r=f.oa();if(f.pM()&&!0===r)return!1;f.Jg()&&r instanceof Promise&&k.ND(r)}return!0}*h8(c,f){const k=this.ia(),g=this.Wg;for(let l=f,p=g.length;l<p;++l){f=g[l];c.Kz(l);let r;r=f.Ie()?f.oa():yield*f.lb();if(f.pM()&&
!0===r)return!1;f.Jg()&&r instanceof Promise&&k.ND(r)}return!0}$aa(c){this.Vi(c,c.fg)&&this.Gl()}*e8(c){if(yield*this.sp(c,c.fg))yield*this.Zu()}Gl(){if(this.mi.length){var c=this.uj&&this.b.hF(),f=c?performance.now():0,k=this.Rd,g=k.Ja(this);this.XB?this.mba(g):this.lba(g);k.Ia();c&&(this.Bj.Xx+=performance.now()-f)}}mba(c){const f=this.uj,k=this.ZB,g=this.ia(),l=this.mi;for(let p=0,r=l.length,v=r-1;p<r;++p){const q=l[p],x=q.Dd(),u=!k||!f&&p<v;u&&g.Oe(x);q.oa(c);u?g.Lb(x):g.Tq(x)}}lba(c){const f=
this.mi;for(let k=0,g=f.length;k<g;++k)f[k].oa(c)}*Zu(){if(this.mi.length){var c=this.Rd,f=c.Ja(this);this.XB?yield*this.v8(f):yield*this.u8(f);c.Ia()}}*v8(c){const f=this.uj,k=this.ZB,g=this.ia(),l=this.mi;for(let p=0,r=l.length,v=r-1;p<r;++p){const q=l[p],x=q.Dd(),u=!k||!f&&p<v;u&&g.Oe(x);yield*q.lb(c);u?g.Lb(x):g.Tq(x)}}*u8(c){const f=this.mi;for(let k=0,g=f.length;k<g;++k)yield*f[k].lb(c)}Og(c,f){this.b.ol();f.kP();const k=this.Xb;if(!this.Td)for(let g=c.Ll+1,l=k.length;g<l;++g)if(c=k[g],f.hn(g),
!c.oa())return!1;this.Vi(f,0)&&this.Gl();return!0}*yg(c,f){this.b.ol();f.kP();const k=this.Xb;if(!this.Td)for(let g=c.Ll+1,l=k.length;g<l;++g)if(c=k[g],f.hn(g),c.Ie()?!c.oa():!(yield*c.lb()))return!1;(this.vy()?this.Vi(f,0):yield*this.sp(f,0))&&(this.wy()?this.Gl():yield*this.Zu());return!0}Ie(){return!this.Yo()&&!this.b.mc()&&this.Ka.OV}vy(){return!this.b.mc()&&this.Ka.dL}wy(){return!this.b.mc()&&this.Ka.eL}wG(c){if(this.ya()){const f=this.Fq;for(let k=0,g=f.length;k<g;++k)if(!f[k].lP(c))return!1}return!0}*BQ(c){if(this.ya()){const f=
this.Fq;for(let k=0,g=f.length;k<g;++k)if(!(yield*f[k].FM(c)))return!1}return!0}MQ(c,f,k){0<f.length?k?(f=f.map(g=>g.aa(0)),c.zd.Ja(),this.ie.Lu(f)):this.ie.IZ(f):k&&c.zd.Ja()}B4(c,f){let k,g;const l=0<c.length;var p=this.b;const r=this.Rd,v=p.ia(),q=1<v.gv();this.MQ(v,f,q);l&&v.Mg(c);f=r.Ja(this);this.wG(f)&&(p.ol(),f.Pg(this),(p=this.ie.Jg())&&([g,k]=this.ie.kG()),this.uA(f),p&&this.ie.zu(g));r.Ia();q&&v.zd.Ia();l&&v.Lb(c);v.av();return k}*pY(c,f){let k,g;if(this.Yo()||this.b.mc())yield this;const l=
0<c.length;var p=this.b;const r=this.Rd,v=p.ia(),q=1<v.gv();this.MQ(v,f,q);l&&v.Mg(c);f=r.Ja(this);if(yield*this.BQ(f))p.ol(),f.Pg(this),(p=this.ie.Jg())&&([g,k]=this.ie.kG()),yield*this.DG(f),p&&this.ie.zu(g);r.Ia();q&&v.zd.Ia();l&&v.Lb(c);v.av();return k}C4(c){const f=this.Ed(),k=0<f.length,g=this.b,l=this.Rd,p=g.ia(),r=1<p.gv();r&&p.zd.Ja();this.ie.Lu(c);k&&p.Mg(f);c=l.Ja(this);this.wG(c)&&(g.ol(),c.Pg(this),this.uA(c));l.Ia();r&&p.zd.Ia();k&&p.Lb(f);p.av()}*qY(c){if(this.Yo()||this.b.mc())yield this;
const f=this.Ed(),k=0<f.length,g=this.b,l=this.Rd,p=g.ia(),r=1<p.gv();r&&p.zd.Ja();this.ie.Lu(c);k&&p.Mg(f);c=l.Ja(this);if(yield*this.BQ(c))g.ol(),c.Pg(this),yield*this.DG(c);l.Ia();r&&p.zd.Ia();k&&p.Lb(f);p.av()}OF(c,f,k,...g){let l,p;const r=0<c.length,v=this.b,q=this.Rd,x=v.ia(),u=1<x.gv();u&&x.zd.Ja();0<g.length&&this.ie.Lu(g);r&&x.Mg(c);g=q.Ja(this);g.d1(f,k);q.X3(g);v.Nz(!1);this.wG(g)&&(v.ol(),g.Pg(this),(f=this.ie.Jg())&&([p,l]=this.ie.kG()),this.uA(g),f&&this.ie.zu(p));v.Nz(!0);q.Ia();q.O3();
u&&x.zd.Ia();r&&x.Lb(c);x.av();return l||g.FI}}}
{"use strict";const d=self.m,b=[];let a=!1;d.zy=class extends d.fa{constructor(e,c,f){super();const k=e.G(),g=e.ia();this.dd=e;this.ua=g;this.b=e.G();this.Fc=c;this.Ea=k.Eh(f[1]);this.ns=f[2];this.dd.QR(this,this.ns);this.Ka=k.ub?{fd:f[3][0],sL:f[3][1]}:null}static Na(e,c,f){return d.B(d.zy,e,c,f)}Mb(){const e=this.Ea,c=this.b.ia().aR(this);this.Ea=e.bind(null,this.b.sj,c)}ya(){return this.Fc}fr(){return this.Fc}iF(){return this.Ka&&this.Ka.sL}Yo(){return this.iF()&&this.Ka.fd}nz(){return!1}Dd(){return b}Ed(){return this.Fc?
this.Fc.Ed():b}oa(e){e.Pg(this);this.ua.ND(this.nba())}async nba(){try{await this.Ea()}catch(e){console.error(`Unhandled exception running script %c${this.dd.xa()}, event ${this.ns}:`,"font-size: 1.2em; font-weight: bold;",e),self.xg&&self.xg.$ba(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*lb(e){e.Pg(this);if(this.Yo()||this.b.mc())yield this;
this.oa(e)}Ie(){return!this.Yo()&&!this.b.mc()}static q0(){return a}static i5(){a=!0}}}
{"use strict";const d=self.m;d.bu=class extends d.fa{constructor(b,a,e){super();this.dd=b;this.b=b.G();this.Fc=a;const c=e[1];this.vB=c[0];this.lm=c[1];this.bh=c[2].map(f=>d.Ay.Na(b,this,f));this.Dc=c[3];this.UI=[];this.ew=c[4];this.gea=0;this.Jv=-1;this.Bv=new Map;this.de=d.bl.Na(b,a,e);this.de.kca(this)}static Na(b,a,e){return d.B(d.bu,b,a,e)}Mb(){for(const b of this.bh)b.Mb();this.de.Mb(!1)}SQ(){return this.bh}Laa(b){this.UI.push(b)}IZ(b){const a=this.bh;for(let e=0,c=a.length;e<c;++e)a[e].Qg(b[e].aa(0))}Lu(b){const a=
this.bh;for(let e=0,c=a.length;e<c;++e)a[e].Qg(b[e])}IX(){return this.bh.map(b=>b.ld())}ya(){return this.Fc}fr(){return this.Fc}Xf(){return this.Dc}ju(){switch(this.lm){case 0:return null;case 2:return"";default:return 0}}Ke(){return this.de}Jg(){return this.ew}kG(){const b=this.gea++;this.Jv=b;let a;const e=new Promise(c=>a=c);this.Bv.set(b,{resolve:a,FL:0});return[b,e]}zu(b){const a=this.Bv.get(b);0===a.FL&&(a.resolve(),this.Bv.delete(b));this.Jv=-1}L3(){this.Bv.get(this.Jv).FL++;return this.Jv}A4(b){this.Jv=
b;this.Bv.get(b).FL--}}}
{"use strict";const d=self.m,b=[];d.Ay=class extends d.fa{constructor(a,e,c){super();const f=a.ia();this.dd=a;this.ua=f;this.b=a.G();this.Fc=e;this.zd=f.zd;this.Ca=c[1];this.wa=c[2];this.hb=c[3];this.$h=!!c[4];this.tb=!!c[5];this.Qda=e instanceof d.bu;this.eb=c[6];this.rw=this.b.Fi(c[8]);this.vea=k=>this.Qg(k);this.tea=()=>this.ld();this.OT=!this.Fc||this.$h||this.tb;this.Bd=this.hb;this.DJ=-1;this.PN()&&(this.Bd=this.Bd?1:0);!this.qF()||this.$h||this.tb||(this.DJ=f.z9(this));f.Iaa(this)}static Na(a,
e,c){return d.B(d.Ay,a,e,c)}Mb(){if(this.qF()&&!this.$h&&!this.tb&&!this.Qda){const a=this.ua.mE(this);a&&a.Laa(this)}}xa(){return this.Ca}Fi(){return this.rw}ya(){return this.Fc}fr(){return this.ya()}Lg(){return!this.ya()}qF(){return!this.Lg()}Wm(){return 0===this.wa}Ji(){return 1===this.wa}PN(){return 2===this.wa}nz(){return!1}Dd(){return b}oa(){!this.qF()||this.$h||this.tb||this.Qg(this.hb)}Ie(){return!0}*lb(a){this.oa(a)}Qg(a){this.Wm()?"number"!==typeof a&&(a=parseFloat(a)):this.Ji()?"string"!==
typeof a&&(a=a.toString()):this.PN()&&(a=a?1:0);this.OT?this.Bd=a:this.zd.Xq()[this.DJ]=a}ld(){return this.OT?this.Bd:this.zd.Xq()[this.DJ]}y4(){this.Bd=this.hb}dR(){return{configurable:!1,enumerable:!0,get:this.tea,set:this.vea}}}}
{"use strict";const d=self.m,b=[];d.MM=class extends d.fa{constructor(a,e,c){super();const f=a.ia();this.dd=a;this.ua=f;this.b=a.G();this.Fc=e;this.aw=null;this.Jda=c[1];this.Hb=!0}static Na(a,e,c){return d.B(d.MM,a,e,c)}Mb(){this.aw=this.ua.aN(this.Jda);this.dd.l7(this);let a=this.ya();for(;a;)a instanceof d.bl&&a.uj&&a.d7(this),a=a.ya();this.cQ();this.b.ub&&this.dd.Bj.children.push(this.aw.Bj)}ya(){return this.Fc}Dd(){return b}oa(){const a=!!this.ya(),e=this.b.ad;a&&this.ua.Mg(e);this.aw.oa();a&&
this.ua.Lb(e)}*lb(){const a=!!this.ya(),e=this.b.ad;a&&this.ua.Mg(e);yield*this.aw.lb();a&&this.ua.Lb(e)}Ie(){return!1}cQ(){let a=this.ya();for(;a;){if(a instanceof d.bl&&a.uj&&!a.xu()){this.Hb=!1;return}a=a.ya()}this.Hb=!0}}}
{"use strict";const d=self.m;d.Jo=class extends d.fa{constructor(g){super();this.hc=g;this.b=g.G()}Mb(){}static iY(g,l){return d.B([f,e,c,k,b,a][l[0]],g,l)}};class b extends d.Jo{constructor(g,l){super(g);this.Kd=this.b.ou();this.Ea=this.b.Eh(l[1]);this.Ea!==d.A.gb.wd.random&&this.Ea!==d.A.gb.wd.RV||this.hc.gG()}Bh(){return this.Kd.lk(this.Ea,this.Kd)}}class a extends d.Jo{constructor(g,l){super(g);this.ts=null;this.vB=l[1];this.hc.gG()}Mb(){const g=this.b.ia();this.ts=g.Ry(this.vB);this.vB=null;
const l=this.ts.Ke();this.Ml=[...new Set([...this.hc.Ke().Ed(),...l.Ed()])];this.Ml=g.cA(this.Ml)}Bh(){const g=this.ts;if(g.Xf())return d.bl.prototype.OF.bind(g.Ke(),this.Ml,g.lm,g.ju());{const l=g.ju();return()=>l}}}class e extends d.Jo{constructor(g,l){super(g);this.I=this.b.nf(l[1]);this.Ea=this.b.Eh(l[2]);this.jK=!!l[3];this.Rd=this.b.ia().kd();this.hc.aH(this.I)}Bh(){return this.I.yb().lk(this.Ea,this.I.Wj().ga)}OM(){const g=this.I,l=g.ba().s_();var p=l.length;if(0===p)return this.jK?"":0;var r=
this.hc.LC;r>=p?p=r%p:(0>r&&(r<=-p&&(r%=p),0>r&&(r+=p)),p=r);this.Rd.mf().b5(g);return this.Ea.apply(l[p].ga,[])}}class c extends d.Jo{constructor(g,l){super(g);this.I=this.b.nf(l[1]);this.jK=!!l[2];this.hc.aH(this.I)}}class f extends d.Jo{constructor(g,l){super(g);this.I=this.b.nf(l[1]);this.bd=this.I.Ey(l[2]);this.aj=this.I.eu(l[2]);this.Ea=this.b.Eh(l[3]);this.jK=!!l[4];this.Rd=this.b.ia().kd();this.hc.aH(this.I)}}class k extends d.Jo{constructor(g,l){super(g);this.lj=null;this.vI=l[1]}Mb(){this.lj=
this.b.ia().xE(this.vI)}}}
{"use strict";const d=self.m;d.Ne=class extends d.fa{constructor(A,E,G){super();this.hc=A;this.Oa=G;this.wa=E;this.aa=null;this.tb=this.ff=!1}static Na(A,E,G){const P=E[0];return d.B([a,e,r,f,g,c,l,a,f,f,v,q,r,u,e,p,k,x,w,z][P],A,P,G,E)}Mb(){}gG(){this.ff=!0}aH(A){this.ff||!A||A.yb().Ln||(this.ff=!0)}Da(){return this.Oa}G(){return this.hc.G()}Ke(){return this.hc.Ke()}};function b(A){A=self.yX[A];if(!A)throw Error("invalid expression number");return A}class a extends d.Ne{constructor(A,E,G,P){super(A,
E,G);this.LC=0;A=P[1];this.xI=A[0];this.Rs=[];this.nB=null;for(let D=1,H=A.length;D<H;++D)this.Rs.push(d.Jo.iY(this,A[D]));this.Rs.length?this.aa=this.r_:(this.aa=b(this.xI),this.tb=!0)}Pd(A){if(0>A||A>=this.Rs.length)throw new RangeError("invalid numbered node");return this.Rs[A]}Mb(){for(var A of this.Rs)A.Mb();A=b(this.xI);this.nB=this.Rs.length?A(this):A}r_(A){this.LC=A;return this.nB()}}class e extends a{constructor(A,E,G,P){super(A,E,G,P);this.aa=this.h0;14===E&&(this.Ke().L4(),this.hc instanceof
d.by&&this.Ke().Su())}h0(A){this.LC=A;A=this.nB();return"string"===typeof A?A:""}s9(){return b(this.xI)()}}class c extends a{constructor(A,E,G,P){super(A,E,G,P);this.aa=this.da;this.tb=!1}da(A){this.LC=A;A=this.nB();return this.G().Ha().da(A)}}class f extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.vda=P[1];this.aa=this.i_;this.tb=!0}i_(){return this.vda}}class k extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.lda=P[1];this.aa=this.e_;this.tb=!0}e_(){return this.lda}}class g extends d.Ne{constructor(A,
E,G,P){super(A,E,G);this.I=this.G().nf(P[1]);this.aa=this.H;A=this.Ke();A.qQ(this.I);this.hc instanceof d.by?A.Su():A.ya()&&A.ya().Su();this.tb=!0}H(){return this.I}}class l extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.yj=this.G().Ta.$q(P[1]);this.aa=this.nc;this.tb=!0}nc(){return this.yj}}class p extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.eo=this.G().Bb.bz(P[1]);this.aa=this.oc;this.tb=!0}oc(){return this.eo}}class r extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.Eda=P[1];this.aa=
this.v_;this.tb=!0}v_(){return this.Eda}}class v extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.YT=P[1];(A=this.hc.H())&&A.Sa?(this.aa=this.t_,this.gG()):(this.aa=this.K_,this.tb=!0)}K_(){return this.YT}t_(A){A=A||0;const E=this.hc.H();var G=E.ba();const P=G.ja();if(P.length)A=P[A%P.length].H();else if(G.u0())G=G.fc,A=G[A%G.length].H();else if(0<E.F.length)G=E.ja(),A=G[A%G.length].H();else return 0;return this.YT+A.bN(E.nj)}}class q extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.vI=P[1];
this.lj=null;this.aa=this.q_;this.tb=!0}Mb(){this.lj=this.G().ia().xE(this.vI)}q_(){return this.lj}}class x extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.BT=P[1];this.ts=null;this.aa=this.E_;this.tb=!0}Mb(){this.ts=this.G().ia().Ry(this.BT);this.BT=null}E_(){return this.ts}}class u extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.BK=[];this.FV=[];this.tb=!0;for(let D=1,H=P.length;D<H;++D)A=d.Ne.Na(this.hc,P[D],0),this.BK.push(A),this.FV.push(0),A.tb||(this.tb=!1);this.aa=this.m0}Mb(){for(const A of this.BK)A.Mb()}m0(){const A=
this.BK,E=this.FV;for(let G=0,P=A.length;G<P;++G)E[G]=A[G].aa(0);return E}}class w extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.Ada=P[1];this.aa=this.Nm;this.tb=!0}Nm(){return this.Ada}}class z extends d.Ne{constructor(A,E,G,P){super(A,E,G);this.rda=P[1];this.aa=this.i0;this.tb=!0}i0(){return this.rda}}}
{"use strict";const d=self.m;function b(c,f){for(let k=0,g=c.length;k<g;++k)f[k]=c[k].aa(0)}const a=[],e=function(){};d.wM=class extends d.fa{constructor(c,f,k){super();this.de=c;this.b=c.G();this.Oa=k;this.Ea=this.b.Eh(f[1]);this.mJ=0<f[3];this.bU=2===f[3];this.QB=!!f[4];this.vj=!!f[5];this.$h=!!f[6];this.eb=f[7];this.cU=this.de.Td;this.bd=this.I=null;this.aj=-1;this.Kd=null;this.lb=this.oa=e;this.Fa=[];this.wb=[];this.Il=!1;this.oi=this.Ab=null;this.Ka=this.b.ub?{fd:f[8][0],Lf:f[8][1]}:null;-1===
f[0]?this.Kd=this.b.ou():(this.I=this.b.nf(f[0]),f[2]&&(this.bd=this.I.Ey(f[2]),this.aj=this.I.eu(f[2])),this.de.ya()&&this.de.ya().Su());if(10===f.length){c=f[9];for(let g of c)this.Fa.push(d.Ne.Na(this,g,this.Fa.length)),this.wb.push(0)}0===this.Fa.length&&(this.wb=this.Fa=a);this.de.ia().Gaa(this)}static Na(c,f,k){return d.B(d.wM,c,f,k)}Mb(){for(const c of this.Fa)c.Mb(),c.ff&&(this.Il=!0);this.bU?(this.oa=this.dba,this.lb=this.m8):this.Kd?(this.vH(),this.lb=this.FG):this.I.yb().Ln?(this.tH(),
this.lb=this.EG):this.$h?(this.oa=this.kba,this.lb=this.t8):(this.oa=this.dS,this.lb=this.n8)}vH(){this.vv(this.Kd,this.Kd,this.nH)}tH(){const c=this.I.yb(),f=this.I.Wj().ga;this.vv(c,f,this.mH)}vv(c,f,k){const g=this.Ea,l=this.vj,p=this.Fa;if(0===p.length){const r=c.lk(g,f);this.oa=l?function(){return d.xor(r(),l)}:r}else if(1===p.length){const r=p[0];if(!l&&r.tb)this.oa=c.UQ(g,f,r.aa(0));else{const v=c.lk(g,f);this.oa=function(){return d.xor(v(r.aa(0)),l)}}}else if(2===p.length){const r=p[0],v=
p[1];if(!l&&r.tb&&v.tb)this.oa=c.VQ(g,f,r.aa(0),v.aa(0));else{const q=c.lk(g,f);this.oa=function(){return d.xor(q(r.aa(0),v.aa(0)),l)}}}else if(3===p.length){const r=p[0],v=p[1],q=p[2];if(!l&&r.tb&&v.tb&&q.tb)this.oa=c.WQ(g,f,r.aa(0),v.aa(0),q.aa(0));else{const x=c.lk(g,f);this.oa=function(){return d.xor(x(r.aa(0),v.aa(0),q.aa(0)),l)}}}else this.oa=k}H(){return this.I}Ah(){return this.bd}Ke(){return this.de}G(){return this.b}Da(){return this.Oa}YM(){return this.Da()}bp(){return this.mJ}Ie(){return!this.Ka.fd&&
!this.b.mc()&&!this.Ka.Lf}Fh(){this.Ab||(this.Ab=new Map);return this.Ab}qu(){this.oi||(this.oi=new Map);return this.oi}nH(){const c=this.wb;b(this.Fa,c);return d.xor(this.Ea.apply(this.Kd,c),this.vj)}*FG(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){var c=this.wb;b(this.Fa,c);c=this.Ea.apply(this.Kd,c);d.Vm(c)&&(c=yield*c);return d.xor(c,this.vj)}return this.oa()}mH(){const c=this.wb;b(this.Fa,c);const f=this.I.Wj().ga;return d.xor(this.Ea.apply(f,c),this.vj)}*EG(){if(this.Ka.fd||this.b.mc())yield this;
if(this.Ka.Lf){var c=this.wb;b(this.Fa,c);const f=this.I.Wj().ga;c=this.Ea.apply(f,c);d.Vm(c)&&(c=yield*c);return d.xor(c,this.vj)}return this.oa()}dba(){return!0}*m8(){if(this.Ka.fd||this.b.mc())yield this;return!0}kba(){var c=this.wb;b(this.Fa,c);c=this.Ea.apply(this.bd||this.I,c);this.I.$b();return c}*t8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){var c=this.wb;b(this.Fa,c);c=this.Ea.apply(this.bd||this.I,c);d.Vm(c)&&(c=yield*c);this.I.$b();return c}return this.oa()}dS(){const c=this.Fa,
f=this.wb,k=this.I.ba();for(let g=0,l=c.length;g<l;++g){const p=c[g];p.ff||(f[g]=p.aa(0))}return k.Sb?this.eba(k):this.fba(k)}*n8(){if(this.Ka.fd||this.b.mc())yield this;return this.dS()}NG(c){const f=this.Fa,k=this.wb;for(let g=0,l=f.length;g<l;++g){const p=f[g];p.ff&&(k[g]=p.aa(c))}}eba(c){const f=this.I,k=f.Sa,g=f.nj,l=this.aj,p=0<=l,r=f.ja(),v=this.Il,q=this.wb,x=this.Ea,u=this.vj,w=this.cU&&!this.mJ;c.ky();for(let A=0,E=r.length;A<E;++A){const G=r[A];v&&this.NG(A);var z=void 0;p?(z=k?G.H().Ko(g):
0,z=x.apply(G.od[l+z].ga,q)):z=x.apply(G.ga,q);d.xor(z,u)?c.wp(G):w&&c.vn(G)}f.au(!0);c.se(!1);f.$b();return c.XE()}fba(c){const f=this.I;var k=f.Sa;const g=f.nj,l=f.Wb(),p=this.aj,r=0<=p,v=this.Il,q=this.wb,x=this.Ea,u=this.vj,w=this.cU&&!this.mJ,z=c.F,A=c.fc,E=w&&!this.de.O1(this),G=E?A:z;let P=0,D=!1;for(let J=0,M=G.length;J<M;++J){const Q=G[J];v&&this.NG(J);var H=void 0;r?(H=k?Q.H().Ko(g):0,H=x.apply(Q.od[p+H].ga,q)):H=x.apply(Q.ga,q);d.xor(H,u)?(D=!0,E?(z.push(Q),l&&Q.Daa()):(G[P]=Q,l&&Q.mca(P),
++P)):E?(G[P]=Q,l&&Q.lca(P),++P):w&&(A.push(Q),l&&Q.Caa())}d.jf(G,P);l&&f.Mca(E,P);k=D;E&&!D&&(D=this.uaa(z));f.au(k||w);return w?D:c.XE()}uaa(c){var f=this.I;const k=f.Sa;f=f.nj;const g=this.Il,l=this.aj,p=0<=l,r=this.wb,v=this.Ea,q=this.vj;for(let u=0,w=c.length;u<w;++u){var x=c[u];g&&this.NG(u);if(p){const z=k?x.H().Ko(f):0;x=v.apply(x.od[l+z].ga,r)}else x=v.apply(x.ga,r);if(d.xor(x,q))return!0}return!1}Gu(c,f){return this.Fa[c].aa(f)}u_(){const c=this.Fa;if(!c.length)throw Error("no parameters");
return c[0].s9()}la(){if(!this.Ab||!this.Ab.size)return null;const c={};for(const [f,k]of this.Ab.entries()){let g=k;"collmemory"===f&&(g=[...k.entries()].map(l=>[l[0].lc,l[1].lc,l[2]]));c[f]=g}return{ex:c}}qa(c){this.Ab&&(this.Ab.clear(),this.Ab=null);if(c){var f=this.b,k=c.ex;if(k){c=this.Fh();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.B(d.Bu,l.map(p=>[f.Ch(p[0]),f.Ch(p[1]),p[2]]).filter(p=>p[0]&&p[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.m;function b(f,k){for(let g=0,l=f.length;g<l;++g)k[g]=f[g].aa(0)}const a=[],e=function(){},c=function*(){};d.by=class extends d.fa{constructor(f,k,g){super();this.de=f;this.b=f=f.G();this.Oa=g;this.eb=4<=k.length?k[3]:-1;this.EA=5<=k.length?k[4]:0;this.bd=this.I=this.Ea=null;this.aj=-1;this.Kd=null;this.WA="";this.Ml=this.VA=null;this.lb=this.oa=e;this.Fa=[];this.wb=[];this.Il=!1;this.oi=this.Ab=null;const l=(g=-3===k[0])?k[2]:k[5];this.Ka=f.ub||g?{fd:l[0],Lf:l[1],index:l[2]}:
null;-1===k[0]?(this.Kd=f.ou(),this.Ea=f.Eh(k[1])):-2===k[0]?this.WA=k[1]:g?(this.Ea=f.Eh(k[1]),this.oa=this.PF,this.lb=this.uY,this.EA=1):(this.Ea=f.Eh(k[1]),this.I=f.nf(k[0]),k[2]&&(this.bd=this.I.Ey(k[2]),this.aj=this.I.eu(k[2])));if(7===k.length){k=k[6];for(const p of k)this.Fa.push(d.Ne.Na(this,p,this.Fa.length)),this.wb.push(0)}0===this.Fa.length&&(this.wb=this.Fa=a);this.de.ia().Faa(this)}static Na(f,k,g){return d.B(d.by,f,k,g)}Mb(){for(var f of this.Fa)f.Mb(),f.ff&&(this.Il=!0);if(this.Kd)this.vH(),
this.lb=this.FG;else if(this.WA)this.Jba(),this.WA="";else if(this.oa===this.PF){f=this.Ea;const k=this.b.ia().aR(this.de);this.Ea=f.bind(null,this.b.sj,k)}else this.bd?this.Jg()?(this.oa=this.bS,this.lb=this.j8):(this.oa=this.aS,this.lb=this.i8):this.I.yb().Ln?(this.tH(),this.lb=this.EG):this.Jg()?(this.oa=this.fS,this.lb=this.p8):this.Fa.length?this.Fa.every(k=>k.ff)?(this.oa=this.eS,this.lb=this.o8):this.Il?(this.oa=this.hS,this.lb=this.r8):this.Fa.every(k=>k.tb)?(b(this.Fa,this.wb),this.oa=this.lH,
this.lb=this.CQ):(this.oa=this.gS,this.lb=this.q8):(this.oa=this.lH,this.lb=this.CQ)}vH(){this.vv(this.Kd,this.Kd,this.nH)}tH(){const f=this.I.yb(),k=this.I.Wj().ga;this.vv(f,k,this.mH)}Jba(){const f=this.de.ia(),k=f.Ry(this.WA);k.Xf()?(this.VA=k.Ke(),this.Ml=[...new Set([...this.de.Ed(),...this.VA.Ed()])],this.Ml=f.cA(this.Ml),this.oa=d.bl.prototype.B4.bind(this.VA,this.Ml,this.Fa),this.lb=this.k8):(this.oa=e,this.lb=c)}vv(f,k,g){const l=this.Ea,p=this.Fa;if(0===p.length)this.oa=f.lk(l,k);else if(1===
p.length){const r=p[0];if(r.tb)this.oa=f.UQ(l,k,r.aa(0));else{const v=f.lk(l,k);this.oa=function(){return v(r.aa(0))}}}else if(2===p.length){const r=p[0],v=p[1];if(r.tb&&v.tb)this.oa=f.VQ(l,k,r.aa(0),v.aa(0));else{const q=f.lk(l,k);this.oa=function(){return q(r.aa(0),v.aa(0))}}}else if(3===p.length){const r=p[0],v=p[1],q=p[2];if(r.tb&&v.tb&&q.tb)this.oa=f.WQ(l,k,r.aa(0),v.aa(0),q.aa(0));else{const x=f.lk(l,k);this.oa=function(){return x(r.aa(0),v.aa(0),q.aa(0))}}}else this.oa=g}Jg(){return 1===this.EA}pM(){return 2===
this.EA}C0(){return 0!==this.EA}H(){return this.I}Ke(){return this.de}G(){return this.b}Da(){return this.Oa}YM(){return this.Ka.index}Ie(){return!this.Ka.fd&&!this.b.mc()&&!this.Ka.Lf}Fh(){this.Ab||(this.Ab=new Map);return this.Ab}qu(){this.oi||(this.oi=new Map);return this.oi}nH(){const f=this.wb;b(this.Fa,f);return this.Ea.apply(this.Kd,f)}*FG(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.wb;b(this.Fa,f);return yield*this.Ea.apply(this.Kd,f)}return this.oa()}*k8(){if(this.Ka.fd||
this.b.mc())yield this;return yield*this.VA.pY(this.Ml,this.Fa)}mH(){const f=this.wb;b(this.Fa,f);return this.Ea.apply(this.I.Wj().ga,f)}*EG(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.wb;b(this.Fa,f);return yield*this.Ea.apply(this.I.Wj().ga,f)}return this.oa()}lH(){const f=this.wb,k=this.I.ba().ja();for(let g=0,l=k.length;g<l;++g)this.Ea.apply(k[g].ga,f)}*CQ(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.wb,k=this.I.ba().ja();for(let g=0,l=k.length;g<
l;++g)yield*this.Ea.apply(k[g].ga,f)}else this.lH()}gS(){const f=this.wb;b(this.Fa,f);const k=this.I.ba().ja();for(let g=0,l=k.length;g<l;++g)this.Ea.apply(k[g].ga,f)}*q8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.wb;b(this.Fa,f);const k=this.I.ba().ja();for(let g=0,l=k.length;g<l;++g)yield*this.Ea.apply(k[g].ga,f)}else this.gS()}eS(){const f=this.Fa,k=this.wb,g=this.Ea,l=this.I.ba().ja();for(let p=0,r=l.length;p<r;++p){const v=l[p];for(let q=0,x=f.length;q<x;++q)k[q]=f[q].aa(p);
g.apply(v.ga,k)}}*o8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.Fa,k=this.wb,g=this.Ea,l=this.I.ba().ja();for(let p=0,r=l.length;p<r;++p){const v=l[p];for(let q=0,x=f.length;q<x;++q)k[q]=f[q].aa(p);yield*g.apply(v.ga,k)}}else this.eS()}hS(){const f=this.Fa,k=this.wb,g=this.Ea,l=this.I.ba().ja();for(let r=0,v=f.length;r<v;++r){var p=f[r];p.ff||(k[r]=p.aa(0))}for(let r=0,v=l.length;r<v;++r){p=l[r];for(let q=0,x=f.length;q<x;++q){const u=f[q];u.ff&&(k[q]=u.aa(r))}g.apply(p.ga,
k)}}*r8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const k=this.Fa,g=this.wb,l=this.Ea,p=this.I.ba().ja();for(let r=0,v=k.length;r<v;++r){var f=k[r];f.ff||(g[r]=f.aa(0))}for(let r=0,v=p.length;r<v;++r){f=p[r];for(let q=0,x=k.length;q<x;++q){const u=k[q];u.ff&&(g[q]=u.aa(r))}yield*l.apply(f.ga,g)}}else this.hS()}aS(){var f=this.I;const k=f.Sa,g=f.nj,l=this.Fa,p=this.Il,r=this.wb,v=this.Ea,q=this.aj;f=f.ba().ja();for(let w=0,z=l.length;w<z;++w){var x=l[w];x.ff||(r[w]=x.aa(0))}for(let w=
0,z=f.length;w<z;++w){x=f[w];if(p)for(let A=0,E=l.length;A<E;++A){var u=l[A];u.ff&&(r[A]=u.aa(w))}u=k?x.H().Ko(g):0;v.apply(x.od[q+u].ga,r)}}*i8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){var f=this.I;const l=f.Sa,p=f.nj,r=this.Fa,v=this.Il,q=this.wb,x=this.Ea,u=this.aj;f=f.ba().ja();for(let w=0,z=r.length;w<z;++w){var k=r[w];k.ff||(q[w]=k.aa(0))}for(let w=0,z=f.length;w<z;++w){k=f[w];if(v)for(let A=0,E=r.length;A<E;++A){var g=r[A];g.ff&&(q[A]=g.aa(w))}g=l?k.H().Ko(p):0;yield*x.apply(k.od[u+
g].ga,q)}}else this.aS()}fS(){const f=this.Fa,k=this.wb,g=this.Ea,l=this.I.ba().ja(),p=[];for(let r=0,v=l.length;r<v;++r){const q=l[r];for(let x=0,u=f.length;x<u;++x)k[x]=f[x].aa(r);p.push(g.apply(q.ga,k))}return Promise.all(p)}*p8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){const f=this.Fa,k=this.wb,g=this.Ea,l=this.I.ba().ja(),p=[];for(let r=0,v=l.length;r<v;++r){const q=l[r];for(let x=0,u=f.length;x<u;++x)k[x]=f[x].aa(r);p.push(yield*g.apply(q.ga,k))}return Promise.all(p)}return this.fS()}bS(){var f=
this.I;const k=f.Sa,g=f.nj,l=this.Fa,p=this.wb,r=this.Ea,v=this.aj;f=f.ba().ja();const q=[];for(let x=0,u=f.length;x<u;++x){const w=f[x];for(let A=0,E=l.length;A<E;++A)p[A]=l[A].aa(x);const z=k?w.H().Ko(g):0;q.push(r.apply(w.od[v+z].ga,p))}return Promise.all(q)}*j8(){if(this.Ka.fd||this.b.mc())yield this;if(this.Ka.Lf){var f=this.I;const k=f.Sa,g=f.nj,l=this.Fa,p=this.wb,r=this.Ea,v=this.aj;f=f.ba().ja();const q=[];for(let x=0,u=f.length;x<u;++x){const w=f[x];for(let A=0,E=l.length;A<E;++A)p[A]=l[A].aa(x);
const z=k?w.H().Ko(g):0;q.push(yield*r.apply(w.od[v+z].ga,p))}return Promise.all(q)}return this.bS()}async PF(){try{await this.Ea()}catch(f){console.error(`Unhandled exception running script %c${this.de.dd.xa()}, event ${this.de.ns}, action ${this.YM()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.xg&&self.xg.$ba(this),d.zy.q0()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.zy.i5())}}*uY(){if(this.Ka.fd||this.b.mc())yield this;return this.PF()}la(){return this.Ab&&this.Ab.size?{ex:d.pG(this.Ab)}:null}qa(f){this.Ab&&(this.Ab.clear(),this.Ab=null);f&&(f=f.ex)&&(this.Ab=d.nE(f))}}}
{"use strict";const d=self.m,b=new d.$a;function a(K,N){return d.compare(this.j().X(),K,N)}function e(K,N){return d.compare(this.j().Y(),K,N)}function c(){const K=this.j(),N=K.da();return N.gr()?K.jr(N.dv()):K.XN(N.Hf,K.nc().JN(),K.nc().zf)}function f(){var K=this.j();const N=K.nc();K=K.Kc();return 0>K.$||0>K.T||K.N>N.O()||K.K>N.R()}function k(K,N,U){const ba=this.ba(),ia=ba.ja();if(!ia.length)return!1;let ja=ia[0];var la=ja.j();let va=ja,na=d.WV(la.X(),la.Y(),N,U);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.j(),la=d.WV(la.X(),la.Y(),N,U),0===K&&la<na||1===K&&la>na)na=la,va=ja;ba.bn(va);return!0}function g(K){const N=this.j();N.X()!==K&&(N.bg(K),N.Ba())}function l(K){const N=this.j();N.Y()!==K&&(N.Re(K),N.Ba())}function p(K,N){const U=this.j();U.GZ(K,N)||(U.Rg(K,N),U.Ba())}function r(K,N){if(K&&(K=K.a0(this.J))){var [U,ba]=K.No(N);N=this.j();if(N.X()!==U||N.Y()!==ba)N.Rg(U,ba),N.Ba()}}function v(K){if(0!==K){var N=this.j();N.Au(N.tE()*K,N.RE()*K);N.Ba()}}function q(K,N){if(0!==N){var U=this.j();
K=d.Ga(K);U.Au(Math.cos(K)*N,Math.sin(K)*N);U.Ba()}}function x(){return this.j().X()}function u(){return this.j().Y()}function w(){return this.b.Mm(this.J)}function z(K,N){return d.compare(this.j().O(),K,N)}function A(K,N){return d.compare(this.j().R(),K,N)}function E(K){const N=this.j();N.O()!==K&&(N.tf(K),N.Ba())}function G(K){const N=this.j();N.R()!==K&&(N.sf(K),N.Ba())}function P(K,N){const U=this.j();if(U.O()!==K||U.R()!==N)U.zc(K,N),U.Ba()}function D(){return this.j().O()}function H(){return this.j().R()}
function J(){return this.j().Kc().N}function M(){return this.j().Kc().K}function Q(){return this.j().Kc().$}function R(){return this.j().Kc().T}function V(K,N){return d.nt(this.j().ta(),d.Ga(N))<=d.Ga(K)}function Z(K){return d.Kf(this.j().ta(),d.Ga(K))}function ca(K,N){K=d.Ga(K);N=d.Ga(N);const U=this.j().ta();return d.Kf(N,K)?d.Kf(U,K)&&!d.Kf(U,N):!(!d.Kf(U,K)&&d.Kf(U,N))}function Y(K){const N=this.j();K=d.me(d.Ga(K));isNaN(K)||N.ta()===K||(N.yc(K),N.Ba())}function ha(K){if(!isNaN(K)&&0!==K){var N=
this.j();N.yc(N.ta()+d.Ga(K));N.Ba()}}function ka(K){if(!isNaN(K)&&0!==K){var N=this.j();N.yc(N.ta()-d.Ga(K));N.Ba()}}function za(K,N){const U=this.j(),ba=U.ta();K=d.aL(ba,d.Ga(N),d.Ga(K));isNaN(K)||ba===K||(U.yc(K),U.Ba())}function Oa(K,N,U){const ba=this.j(),ia=ba.ta();N-=ba.X();U-=ba.Y();K=d.aL(ia,Math.atan2(U,N),d.Ga(K));isNaN(K)||ia===K||(ba.yc(K),ba.Ba())}function ab(K,N){const U=this.j(),ba=U.ta();K-=U.X();N-=U.Y();N=Math.atan2(N,K);isNaN(N)||ba===N||(U.yc(N),U.Ba())}function Ua(){return d.ne(this.j().ta())}
function bb(K,N){return d.compare(d.BD(100*this.j().Cd()),K,N)}function mb(){return this.j().$c()}function Va(K){const N=this.j();K=2===K?!N.$c():0!==K;N.$c()!==K&&(N.Mh(K),this.b.S())}function Pa(K){K=d.W(K/100,0,1);const N=this.j();N.Cd()!==K&&(N.re(K),this.b.S())}function fb(K){b.Wx(K);K=this.j();K.pb.vo(b)||(K.QP(b),this.b.S())}function cb(){const K=this.j().pb;return d.Bz(K.Ua,K.Ya,K.Xa,K.Pa)}function ub(){return d.BD(100*this.j().Cd())}function vb(K){return K?this.j().da()===K:!1}function wb(K){const N=
this.ba(),U=N.ja();if(!U.length)return!1;let ba=U[0];for(let ia=1,ja=U.length;ia<ja;++ia){const la=U[ia],va=la.j(),na=ba.j(),wa=va.da().Da(),xa=na.da().Da();if(0===K){if(wa>xa||wa===xa&&va.Zj()>na.Zj())ba=la}else if(wa<xa||wa===xa&&va.Zj()<na.Zj())ba=la}N.bn(ba);return!0}function gb(K,N,U){const ba=this.j();K=0===K?ba.Qa():ba.Wf();return d.compare(K,N,U)}function xb(){this.j().a7()}function yb(){this.j().Y6()}function zb(K){K&&this.j().Z6(K)}function Ab(K,N){K=0===K;N&&(N=N.Lo(this.za()))&&this.j().X6(N,
K)}function Bb(K){const N=this.j();N.Qa()!==K&&(N.Se(K),this.b.S())}function Cb(){return this.j().da().Da()}function Db(){return this.j().da().xa()}function hb(){return this.j().Zj()}function Eb(){return this.j().Qa()}function Fb(){return this.j().Wf()}function Gb(K,N){if(N=this.H().La.fl(N)){N=N.Da();K=1===K;var U=this.j().we;U.wu(N)!==K&&(U.AP(N,K),U.rn(),this.b.S())}}function Hb(K,N,U){var ba=this.H().La.fl(K);if(ba){K=ba.Da();var ia=this.j().we,ja=ia.Bg(K);N=Math.floor(N);if(!(0>N||N>=ja.length)){ba=
ba.ib.Wy(N);if("color"===ba){b.Wx(U);N=ja[N];if(b.vo(N))return;N.Bm(b)}else{"percent"===ba&&(U/=100);if(ja[N]===U)return;ja[N]=U}ia.wu(K)&&this.b.S()}}}const ib=d.B(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(K,N,U,ba){N.lc<U.lc?K.Set(N,U,ba):K.Set(U,N,ba)}function qa(K,N,U){N.lc<U.lc?K.Go(N,U):K.Go(U,N)}function Ka(K,N,U){return N.lc<U.lc?K.aa(N,U):K.aa(U,N)}function Ib(K,N,U,ba){if(!N)return!1;K=K.za();const ia=0!==U||0!==ba,ja=K.j(),la=K.G(),va=la.Uh;var na=la.Rf();
const wa=na.Ke().Td;var xa=na.H();na=na.vj;const Ha=N.ba();xa=xa!==N;Wa=N;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Sb?(ib.pa(ja.Kc()),ib.offset(U,ba),va.Jy(ja.da(),N,ib,jb),N=jb):wa?la.M1()&&!Ha.fc.length&&Ha.F.length?N=Ha.F:(N=Ha.fc,lb=!0):N=Ha.F;ia&&(La=ja.X(),Ca=ja.Y(),ja.Au(U,ba),ja.Ba());for(const ea of N)if(va.qp(K,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Rg(La,Ca),ja.Ba());d.C(jb);return ma}function Ob(K,N){if(kb){if(N){{K=K.G().Db().Td;N=Wa.ba();const U=N.F,ba=N.fc;N.Sb?(N.Ru(Ma),K&&(d.C(ba),
N.eM(Ma,Wa.ja()))):K?lb?N.w6(Ma):(N.eM(Ma,U),N.Ru(Ma)):N.Ru(Ma);Wa.$b()}}Ma.clear();Wa=null;kb=!1}}function Pb(K){if(this.b.ye)return Qb.call(this,K);if(!K)return!1;var N=this.b;const U=N.Uh,ba=N.ia(),ia=ba.kd();var ja=ba.Rf();const la=ja.H();var va=ja.Fh(),na=ja.qu();ja=ia.mf();const wa=N.Lk,xa=wa-1,Ha=ja.Db(),La=ia.Ja(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.B(d.Bu),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),N.Cb().addEventListener("instancedestroy",
Na=>{Ca.HM(Na.instance)}));N=K.ba();va=la.ba().ja();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];N.Sb?(U.Jy(Ba.j().da(),K,Ba.j().Kc(),Sa),na=Sa,U.gM(Ba,K,na)):na=N.ja();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(U.qp(Ba,Ja)||U.sM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Dd(),ba.Oe(ma),oa=la.ba(),ea=K.ba(),oa.se(!1),ea.se(!1),la===K?(ea=oa.F,d.C(ea),ea.push(Ba),ea.push(Ja),la.$b()):(oa=oa.F,ea=ea.F,d.C(oa),
d.C(ea),oa.push(Ba),ea.push(Ja),la.$b(),K.$b()),Ha.Og(ja,La),ba.Lb(ma))}else qa(Ca,Ba,Ja)}d.C(Sa)}ia.Ia();return!1}function*Qb(K){if(!K)return!1;var N=this.b;const U=N.Uh,ba=N.ia(),ia=ba.kd(),ja=ia.mf(),la=N.Lk,va=la-1,na=ja.Db(),wa=ia.Ja(na);var xa=ba.Rf();const Ha=xa.H();var La=xa.Fh();xa=xa.qu();let Ca=La.get("collmemory");Ca||(Ca=d.B(d.Bu),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),N.Cb().addEventListener("instancedestroy",
Na=>{Ca.HM(Na.instance)}));N=K.ba();La=Ha.ba().ja();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];N.Sb?(U.Jy(Ba.j().da(),K,Ba.j().Kc(),Sa),xa=Sa,U.gM(Ba,K,xa)):xa=N.ja();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(U.qp(Ba,Ja)||U.sM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Dd(),ba.Oe(ma),oa=Ha.ba(),ea=K.ba(),oa.se(!1),ea.se(!1),Ha===K?(ea=oa.F,d.C(ea),ea.push(Ba),ea.push(Ja),Ha.$b()):(oa=oa.F,ea=ea.F,d.C(oa),
d.C(ea),oa.push(Ba),ea.push(Ja),Ha.$b(),K.$b()),yield*na.yg(ja,wa),ba.Lb(ma))}else qa(Ca,Ba,Ja)}d.C(Sa)}ia.Ia();return!1}function Rb(K){return Ib(this,K,0,0)}function Sb(K,N,U){return Ib(this,K,N,U)}function ob(){return this.j().$j()}function pb(){return this.j().pf()}function qb(K,N){const U=this.ba().ja();if(0===U.length)return!1;const ba=K.ba();var ia=ba.ja();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=U.length;va<na;++va){var la=U[va];if(1===N)for(const wa of la.Qx())wa.Sq(K)&&
ia.has(wa)&&ja.add(wa);else{if(0===N){if(la=la.ya(),null===la)continue}else la=la.cz();la.Sq(K)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.Ru(ja);K.$b();return!0}function rb(K,N){const U=this.ba().ja();if(0===U.length)return!1;const ba=K.ba();var ia=ba.ja();if(ba.Sb){var ja=[...this.b.qL(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=U.length;la<va;++la){const na=U[la];2===N&&!na.pf()&&na.Sq(K)&&ia.has(na)&&ja.add(na);for(const wa of 0===
N?na.children():na.Uk())2===N&&wa.pf()||wa.Sq(K)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.Ru(ja);K.$b();return!0}function db(K,N){const U=this.ba().ja();if(0===U.length)return!1;const ba=K.ba();var ia=ba.ja();if(ba.Sb){var ja=[...this.b.qL(K)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=U.length;la<va;++la){const na=U[la].sE(N);null!==na&&na.Sq(K)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Hu(ja);K.$b();return!0}function h(K,
N){return d.compare(this.J.Iy(),K,N)}function n(K,N,U,ba,ia,ja,la,va){const na=this.J,wa=this.b.hu().H();for(const xa of K.KV(na,wa)){if(!xa.yb().vV)break;na.Im(xa,{Lt:N,Mt:U,Pq:ba,Oq:ia,Kt:ja,Nt:la,Fx:va})}}function t(K){const N=this.J,U=this.b.hu().H();for(const ba of K.KV(N,U))N.ck(ba)}function y(){this.J.$j()&&this.J.ya().ck(this.J)}function B(){return this.J.Iy()}function C(K,N){K=Math.floor(K);N=Math.floor(N);const U=this.j();2>K||2>N||!isFinite(K)||!isFinite(N)?(U.Fz(),U.Ba()):U.eE(K,N)}function F(K,
N,U,ba,ia,ja,la,va){const na=this.j();na.HP(K,N,{mode:0===U?"absolute":"relative",x:ba,y:ia,ay:ja,JW:la,KW:va})&&na.Ba()}function I(){const K=this.j();return K.Gg()?K.Xj().Ak:0}function L(){const K=this.j();return K.Gg()?K.Xj().Ok:0}function O(K){const N=this.j();K=2===K?!N.$c():0!==K;N.$c()!==K&&N.Mh(K)}function S(K,N){this.Z4(K,N)}function T(K,N){this.Y4(K,""+N)}function X(K){this.i4(K)}function W(){this.SM()}function fa(){this.kM()}function da(){return this.sI}function aa(K){this.Hl(0!==K)}function ua(){return this.Dc}
function pa(K,N,U){return d.compare(this.za().Le(K),N,U)}function sa(K){return!!this.za().Le(K)}function ta(K,N){const U=this.ba(),ba=U.ja();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Le(N);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Le(N);if(0===K&&wa<la||1===K&&wa>la)la=wa,ja=ia}U.bn(ja);return!0}function ra(K){if(this.b.Rf().vj){{const ba=this.ba();if(ba.Sb){ba.se(!1);ba.ky();var N=this.ja();for(let ia=0,ja=N.length;ia<ja;++ia){var U=N[ia];U.lc===K?ba.vn(U):ba.wp(U)}this.$b();
K=!!ba.F.length}else{N=ba.F;U=0;for(let ia=0,ja=N.length;ia<ja;++ia){const la=N[ia];N[U]=la;la.lc===K?ba.vn(la):++U}d.jf(N,U);this.$b();K=!!N.length}}}else K=Da(this,K);return K}function Da(K,N){N=K.G().Ch(N);if(!N)return!1;const U=K.ba();if(!U.Sb&&!U.F.includes(N))return!1;if(K.Sa){if(N.H().VD(K))return U.bn(N),K.$b(),!0}else if(N.H()===K)return U.bn(N),K.$b(),!0;return!1}function Ea(){this.b.Jm(this.J)}function Fa(){return!0}function Ga(){return!0}function Ia(K,N){this.za().ln(K,N)}function Qa(K,
N){const U=this.za(),ba=U.Le(K);"number"===typeof ba&&"number"!==typeof N?N=parseFloat(N):"string"===typeof ba&&"string"!==typeof N&&(N=N.toString());U.ln(K,ba+N)}function Ra(K,N){const U=this.za(),ba=U.Le(K);"number"===typeof ba&&("number"!==typeof N&&(N=parseFloat(N)),U.ln(K,ba-N))}function Aa(K,N){this.za().ln(K,N?1:0)}function Jb(K){const N=this.za();N.ln(K,0===N.Le(K)?1:0)}function Kb(K){let N;try{N=JSON.parse(K)}catch(U){console.error("Failed to load from JSON string: ",U);return}K=this.za();
K.qA("state");K.xc(N,"state")}function pc(){return JSON.stringify(this.za().Nc("state"))}function qc(){return this.za().H().xa()}function rc(){const K=this.b.lf().yI;let N=K.F.length;for(const U of this.b.qL(K))++N;return N}function sc(){return this.b.lf().yI.ba().ja().length}function tc(){return this.J.Mo()}function uc(){return this.J.lc}d.SW=function(K,N){const U=K[1],ba=K[4],ia=K[5],ja=K[6],la=K[7],va=K[8],na=K[10],wa=K[11],xa=K[12],Ha=K[13],La=K[14],Ca=K[15],ma=N.D,ea=N.cb,oa=N.wd;K[3]&&(ma.Aia=
a,ma.vM=e,ma.Kka=c,ma.Mka=f,ma.uma=k,ea.bg=g,ea.Re=l,ea.Rpa=p,ea.Spa=r,ea.Dla=v,ea.Cla=q,oa.W6=x,oa.tG=u,oa.YV=w);ba&&(ma.zia=z,ma.lia=A,ea.tf=E,ea.sf=G,ea.zc=P,oa.Cra=D,oa.Lja=H,oa.Bha=J,oa.Dha=M,oa.Cha=Q,oa.Aha=R);ia&&(ma.hX=V,ma.J1=Z,ma.I1=ca,ea.yc=Y,ea.goa=ha,ea.hoa=ka,ea.ioa=za,ea.joa=Oa,ea.Wpa=ab,oa.qha=Ua);ja&&(ma.$c=mb,ma.pia=bb,ea.Mh=Va,ea.re=Pa,ea.Ooa=fb,oa.Opacity=ub,oa.dia=cb);la&&(ma.Ika=vb,ma.Cma=wb,ma.Bia=gb,ea.Gla=xb,ea.Ela=yb,ea.Fla=zb,ea.Ora=Ab,ea.Se=Bb,oa.ila=Cb,oa.hla=Db,oa.Nra=
hb,oa.Mra=Eb,oa.Mqa=Fb);va&&(ea.Qoa=Gb,ea.Roa=Hb);Ha&&(ma.$j=ob,ma.pf=pb,ma.Ama=qb,ma.tma=rb,ma.yma=db,ma.jia=h,ea.Im=n,ea.ck=t,ea.ina=y,oa.Zha=B);La&&(ea.Ipa=C,ea.HP=F,oa.zla=I,oa.Ala=L);na&&(ma.$c=mb,ea.Mh=O,ea.Joa=S,ea.Toa=T,ea.hna=X);wa&&(ma.vka=da,ea.Yoa=W,ea.Goa=fa);xa&&(ma.Xf=ua,ea.yl=aa);Ca&&(ma.S2=Pb,ma.Nka=Rb,ma.Oka=Sb,N.SZ=Ob);U||(ma.WX=pa,ma.kka=sa,ma.vma=ta,ma.sma=ra,ea.o5=Ia,ea.bha=Qa,ea.Bqa=Ra,ea.Hoa=Aa,ea.Kqa=Jb,ma.T2=Fa,ma.U2=Ga,ea.AY=Ea,ea.wF||(ea.wF=Kb),oa.pX||(oa.pX=pc),oa.Hia=
rc,oa.Dma=sc,oa.Qja=tc,oa.Zqa=uc,oa.Qla=qc)}}
{"use strict";const d=self.m;d.QF=class extends d.fa{constructor(b){super();this.ua=b;this.wa="";this.Xc=-1;this.Xw="";this.WB=!1;this.kj=null;this.fg=0;this.$e=[];this.xq=new Map;this.Kl=null;this.Av=-1;this.EI=this.bh=null;this.Ww=!1}g(){this.wa="";this.Xc=-1;this.Xw="";this.EI=this.bh=this.Kl=this.kj=null;this.Av=-1;d.C(this.$e);for(const b of this.xq.values())b.g();this.xq.clear()}Ui(){var b=this.ua,a=b.G().ad;const e=b.lf();this.kj=e.Db();this.fg=e.fg+1;if(b=b.mE(this.kj))this.Kl=b,this.bh=b.IX(),
this.EI=b.UI.map(c=>c.ld()),b.Jg()&&(this.Av=b.L3());for(const c of a)if(a=c.ba(),!a.Sb||this.kj.E0(c))this.$e.push(c),this.xq.set(c,d.B(d.UP,a))}C1(b){this.wa="timer";this.Ui();this.Xc=this.ua.G().Cg()+b}A1(b){this.wa="signal";this.Ui();this.Xw=b.toLowerCase()}p1(b){this.wa="promise";this.Ui();b.then(()=>this.$F()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.$F()})}Z1(){return"timer"===this.wa}X1(){return"signal"===this.wa}T1(){return"promise"===
this.wa}$F(){this.WB=!0}DS(){return this.Z1()?this.Xc<=this.ua.G().Cg():this.WB}ZR(b){b.kH(this.kj,this.fg);for(const [a,e]of this.xq.entries())e.kH(a.ba());if(b=this.Kl)b.Lu(this.bh),b.UI.map((a,e)=>a.Qg(this.EI[e])),b.Jg()&&b.A4(this.Av)}aba(b){this.ZR(b);this.kj.$aa(b);this.Kl&&this.Kl.Jg()&&this.Kl.zu(this.Av);this.ua.Tq(this.$e);this.Ww=!0}async f8(b){this.ZR(b);for(const a of this.kj.e8(b))await this.ua.G().Vq(a);this.Kl&&this.Kl.Jg()&&this.Kl.zu(this.Av);this.ua.Tq(this.$e);this.Ww=!0}ip(b){for(const a of this.xq.values())a.ip(b)}la(){const b=
{},a={t:this.Xc,st:this.Xw,s:this.WB,ev:this.kj.eb,sm:this.$e.map(e=>e.eb),sols:b};this.kj.H9(this.fg)&&(a.act=this.kj.TM(this.fg).eb);for(const [e,c]of this.xq)b[e.eb.toString()]=c.la();return a}static K7(b,a){const e=b.G();var c=b.o_(a.ev);if(!c)return null;let f=0;if(a.hasOwnProperty("act")){var k=b.XZ(a.act);if(!k)return null;f=k.Da()}k=d.B(d.QF,b);k.Xc=a.t;k.wa=-1===k.Xc?"signal":"timer";k.Xw=a.st;k.WB=a.s;k.kj=c;k.fg=f;for(var g of a.sm)(c=e.Vy(g))&&k.$e.push(c);for(const [l,p]of Object.entries(a.sols))if(a=
e.Vy(parseInt(l,10)))g=d.B(d.UP,null),g.qa(b,p),k.xq.set(a,g);return k}}}{"use strict";const d=self.m;d.UP=class extends d.fa{constructor(b){super();this.I=null;this.VB=!0;this.F=[];b&&(this.I=b.H(),this.VB=b.Sb,d.ud(this.F,b.F))}g(){this.I=null;d.C(this.F)}kH(b){b.se(this.VB);d.ud(b.F,this.F)}ip(b){d.rh(this.F,b)}la(){return{sa:this.VB,insts:this.F.map(b=>b.lc)}}qa(b,a){b=b.G();this.VB=!!a.sa;d.C(this.F);for(const e of a.insts)(a=b.Ch(e))&&this.F.push(a)}}}
{"use strict";const d=self.m;function b(a,e){let c=a.get(e);c||(c=new Map,a.set(e,c));return c}d.ek=class extends d.fa{constructor(a){super();this.b=a.Hc;this.Ln=!!a.fW;this.Af=!!a.Gfa;this.Vda=!!a.Ffa;this.eea=!!a.Tfa;this.Gda=!!a.ufa;this.vV=!!a.rga;this.zea=!!a.qga;this.mV=null;this.bT=new Map;this.mda=new Map;this.nda=new Map;this.oda=new Map}g(){this.b=null}G(){return this.b}qc(){}$o(){return this.Vda}an(){return this.eea}YE(){return this.Gda}lk(a,e){if(!e)throw Error("missing 'this' binding");
let c=this.bT.get(a);if(c)return c;c=a.bind(e);this.bT.set(a,c);return c}UQ(a,e,c){if(!e)throw Error("missing 'this' binding");const f=b(this.mda,a);let k=f.get(c);if(k)return k;k=a.bind(e,c);f.set(c,k);return k}VQ(a,e,c,f){if(!e)throw Error("missing 'this' binding");var k=b(this.nda,a);k=b(k,c);let g=k.get(f);if(g)return g;g=a.bind(e,c,f);k.set(f,g);return g}WQ(a,e,c,f,k){if(!e)throw Error("missing 'this' binding");var g=b(this.oda,a);g=b(g,c);g=b(g,f);let l=g.get(k);if(l)return l;l=a.bind(e,c,f,
k);g.set(k,l);return l}nca(a){if(!this.Ln)throw Error("must be single-global plugin");this.mV=a}Wj(){if(!this.Ln)throw Error("must be single-global plugin");return this.mV.Wj()}}}
{"use strict";const d=self.m;d.moa=class extends d.ek{constructor(b,a){super(b);this.Gn=a;this.iea=0;this.VI=new Map;this.dM("elem-focused",e=>e.Y$());this.dM("elem-blurred",e=>{e&&e.X$()})}g(){super.g()}f7(b){const a=this.iea++;this.VI.set(a,b);return a}Raa(b){this.VI.delete(b)}dM(b,a){this.b.xi(this.Gn,b,e=>{const c=this.VI.get(e.elementId);a(c,e)})}}}{"use strict";const d=self.m;d.gn=class extends d.fa{constructor(b){super();this.I=b;this.b=b.G();this.di=b.yb()}g(){this.di=this.b=this.I=null}H(){return this.I}G(){return this.b}yb(){return this.di}Zc(){return this.I.Zc()}au(){}ep(){}dn(){}zz(){}CF(){}Fg(){return null}}}
{"use strict";const d=self.m;d.jp=class extends d.fa{constructor(b,a){super();this.J=b;this.Gn=a;this.b=b.G();this.I=this.J.H();this.Va=this.I.Va;this.gt=this.pm=null;this.mw=this.Yl=!1;this.pd=null;this.Cx=!1}g(){this.Cx=!0;this.Ap();this.yH();this.gt=this.pm=null;this.pd&&(this.pd.g(),this.pd=null);this.Va=this.I=this.b=this.J=null}Nr(){return this.Cx}za(){return this.J}G(){return this.b}H(){return this.I}yb(){return this.Va.yb()}$y(){return this.J.Dh()}ka(b){return this.b.ka(b,this.J,null)}ab(b){return this.b.ab(b,
this.J,null)}fk(b){return this.b.fk(b)}OD(b,a){this.b.xi(this.Gn,b,a)}cM(b){for(const [a,e]of b)this.OD(a,e)}Ra(b,a){this.b.tl(this.Gn,b,a)}bk(b,a){return this.b.fp(this.Gn,b,a)}Fl(b,a){this.b.Ae?this.Ra(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Gn,handler:b,data:a,responseId:null})}Gd(){}eg(){this.Yl||(this.pm||(this.pm=()=>this.Gd()),this.b.Cb().addEventListener("tick",this.pm),this.Yl=!0)}Ap(){this.Yl&&(this.b.Cb().removeEventListener("tick",this.pm),this.Yl=
!1)}yH(){this.mw&&(this.b.Cb().removeEventListener("tick2",this.gt),this.mw=!1)}Nc(){return null}xc(){}Vb(){}Pe(){}zF(b,a){if(0!==a){var e=this.Vb(b);if("number"!==typeof e)throw Error("expected number");this.Pe(b,e+a)}}Fg(){return null}}}
{"use strict";const d=self.m;d.Jz=class extends d.jp{constructor(b,a){super(b,a);this.kb=b.j();this.iD=this.mt=null}g(){if(this.mt){const b=this.b.Cb();b.removeEventListener("webglcontextlost",this.mt);b.removeEventListener("webglcontextrestored",this.iD);this.iD=this.mt=null}this.kb=null;super.g()}r0(){if(!this.mt){this.mt=()=>this.qr();this.iD=()=>this.RO();var b=this.b.Cb();b.addEventListener("webglcontextlost",this.mt);b.addEventListener("webglcontextrestored",this.iD)}}qr(){}RO(){}j(){return this.kb}Xm(){return!1}Tj(){if(!this.Xm())throw Error("original size not known");
const b=this.$d();if(b)return b.O()}Sj(){if(!this.Xm())throw Error("original size not known");const b=this.$d();if(b)return b.R()}$d(){return null}Ky(){var b=this.$d();return b&&(b=b.Fd())?[b.O(),b.R()]:[100,100]}Ly(){const b=this.$d();return b?b.Gh():null}No(){const b=this.J.j();return[b.X(),b.Y()]}tr(){return!0}}}
{"use strict";const d=self.m,b=d.B(d.Rect);d.loa=class extends d.Jz{constructor(a,e){super(a,e);this.jB=this.yb().f7(this);this.aU=!0;this.ida=this.sI=!1;this.Hs=d.B(d.Rect,0,0,-1,-1);a=this.b.U;this.rU=a.Sk;this.qU=a.Rk;this.eg()}g(){this.yb().Raa(this.jB);this.rr("destroy");this.jB=-1;super.g()}rr(a,e){e||(e={});e.elementId=this.jB;this.Ra(a,e)}OR(a){a||(a={});a.elementId=this.jB;this.Fl("focus",a)}Pz(a){a=!!a;this.aU!==a&&(this.aU=a,this.rr("set-visible",{isVisible:a}))}Gd(){this.Sca()}wca(){const a=
this.b.U.Qy();return"Android"===d.md.pr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}Sca(){var a=this.j();const e=a.da();var c=a.X(),f=a.Y();let [k,g]=e.cp(c,f),[l,p]=e.cp(c+a.O(),f+a.R());c=this.b.U;f=c.cd;const r=c.Rc;if(a.$c()&&e.$c()){if(!this.wca()){if(0>=l||0>=p||k>=f||g>=r){this.Pz(!1);return}1>k&&(k=1);1>g&&(g=1);l>=f&&(l=f-1);p>=r&&(p=r-1)}b.set(k,g,l,p);a=c.Sk;f=c.Rk;b.Yc(this.Hs)&&this.rU===a&&this.qU===f?this.Pz(!0):(this.Hs.pa(b),this.rU=a,this.qU=f,this.Pz(!0),a=null,this.ida&&
(a=e.el()-.2),this.rr("update-position",{left:Math.round(this.Hs.N)+c.fu(),top:Math.round(this.Hs.K)+c.gu(),width:Math.round(this.Hs.width()),height:Math.round(this.Hs.height()),fontSize:a}))}else this.Pz(!1)}SM(){this.OR({focus:!0})}kM(){this.OR({focus:!1})}Y$(){this.sI=!0}X$(){this.sI=!1}Z4(a,e){this.rr("set-css-style",{prop:d.AX(a),val:e})}Y4(a,e){this.rr("set-attribute",{name:a,val:e})}i4(a){this.rr("remove-attribute",{name:a})}}}
{"use strict";const d=self.m,b=self.K0;d.Gz=class extends d.fa{constructor(a){super();this.b=a.Hc;this.LJ=d.B(d.TD);this.sC=d.B(d.TD);this.Xv=null;this.uea=a.yua||null}g(){this.sC.g();this.LJ.g();this.b=null}G(){return this.b}qc(){}g7(a){this.LJ.wc(a)}JE(){return this.LJ.pE()}Ug(a){this.sC.wc(a)}xp(a){this.sC.Go(a)}ja(){return this.sC.pE()}F_(){if(null===this.Xv){const a=this.uea;if(a){if(this.Xv=new a(this),!(this.Xv instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.Xv=new b(this)}return this.Xv}}}{"use strict";const d=self.m;d.Iz=class extends d.fa{constructor(b){super();this.b=b.G();this.bd=b;this.I=b.H();this.$i=b.Km();this.$i.g7(this.I)}g(){this.$i=this.I=this.bd=this.b=null}Ah(){return this.bd}H(){return this.I}G(){return this.b}Km(){return this.$i}}}
{"use strict";const d=self.m;d.Hz=class extends d.fa{constructor(b,a){super();this.SA=b;this.Gn=a;this.J=b.J;this.b=b.G();this.bd=b.Ah();this.Va=this.bd.Va;this.eU=this.mw=this.Yl=!1;this.pd=null}g(){this.Ap();this.yH();this.Eca();this.pd&&(this.pd.g(),this.pd=null);this.Va=this.bd=this.b=this.J=this.SA=null}Km(){return this.bd.Km()}H(){return this.J.H()}j(){return this.J.j()}G(){return this.b}Ah(){return this.bd}$y(){return this.SA.$y()}ka(b){return this.b.ka(b,this.J,this.bd)}ab(b){return this.b.ab(b,
this.J,this.bd)}Gd(){}eg(){this.Yl||(this.b.b7(this),this.Yl=!0)}Ap(){this.Yl&&(this.b.Oaa(this),this.Yl=!1)}yH(){this.mw&&(this.b.Paa(this),this.mw=!1)}Eca(){this.eU&&(this.b.Naa(this),this.eU=!1)}OD(b,a){this.b.xi(this.Gn,b,a)}Nc(){return null}xc(){}Vb(){}Pe(){}zF(b,a){if(0!==a){var e=this.Vb(b);if("number"!==typeof e)throw Error("expected number");this.Pe(b,e+a)}}Fg(){return null}}}
{"use strict";const d=self.m;d.A={};d.fb={};d.M3=class extends d.fa{constructor(b){super();this.b=b;this.hda=[];this.PU=new Map;this.Kd=null;this.eda=[];this.ZH=new Map;this.jU=this.sK=null}jY(b){const a=this.b.Eh(b[0]);if(!a)throw Error("missing plugin");d.SW(b,a);b=d.B(a,{Hc:this.b,fW:b[1],Gfa:b[2],Ffa:b[5],ufa:b[8],Tfa:b[9],rga:b[13],qga:b[14]});b.qc();this.hda.push(b);this.PU.set(a,b)}lY(){this.Kd=d.B(d.A.gb,{Hc:this.b,fW:!0});this.Kd.qc()}fY(b){b=this.b.Eh(b[1]);if(!b)throw Error("missing behavior");
const a=d.B(b,{Hc:this.b});a.qc();this.eda.push(a);this.ZH.set(b,a);!this.sK&&d.fb.Co&&a instanceof d.fb.Co?this.sK=a:!this.jU&&d.fb.Ifa&&a instanceof d.fb.Ifa&&(this.jU=a)}c0(b){return this.PU.get(b)||null}x0(b){return this.ZH.has(b)}b_(b){return this.ZH.get(b)||null}ou(){return this.Kd}SE(){return this.sK}}}
{"use strict";const d=self.m,b=new Set;d.vu=class extends d.fa{constructor(){super();this.Hj="";this.M=this.P=this.Jw=this.Iw=this.Zs=0;this.Uv=this.UB=!1;this.xf=null;this.om="";this.qg=d.B(d.Rect);this.sq=d.B(d.nd);b.add(this)}g(){this.Ng();this.xf=null;b.delete(this)}static qr(){for(const a of b)a.om="",a.qg.set(0,0,0,0),a.sq.Lj(a.qg)}hO(a){this.Hj=a[0];this.Zs=a[1];this.Iw=a[2];this.Jw=a[3];this.P=a[4];this.M=a[5];this.UB=a[6];this.Uv=!0}iO(a,e){if(this.xf)throw Error("already loaded asset");
this.Hj=e;const c={};d.gF(e)&&(c.Nx="remote");this.xz(a,c);return this.xf.gO()}s4(a){if(a===this)throw Error("cannot replace with self");this.Ng();this.Hj=a.Hj;this.Zs=a.Zs;this.Iw=a.Iw;this.Jw=a.Jw;this.P=a.P;this.M=a.M;this.Uv=a.Uv;this.xf=a.xf;this.om=a.om;this.qg=a.qg;this.sq=a.sq}Rm(){return this.Zs}O(){return this.P}R(){return this.M}xz(a,e){if(this.xf)throw Error("already got asset");e=Object.assign({},e,{url:this.Hj,size:this.Rm()});this.xf=a.yz(e)}pz(){return this.xf&&this.xf.pz()}async $m(a,
e){if(!this.xf)throw Error("no asset");if(this.om)throw Error("already loaded texture");this.om="loading";a=await this.xf.$m(a,e);if(!a)return this.om="",null;this.om="loaded";this.Uv||(this.P=a.O(),this.M=a.R(),this.Uv=!0);this.qg.set(this.Iw,this.Jw,this.Iw+(this.UB?this.M:this.P),this.Jw+(this.UB?this.P:this.M));this.qg.Vk(a.O(),a.R());this.sq.Lj(this.qg);this.UB&&this.sq.iga();return a}Ng(){this.om&&(this.xf&&this.xf.Ng(),this.om="",this.qg.set(0,0,0,0),this.sq.Lj(this.qg))}Fd(){return this.xf?
this.xf.Fd():null}Gh(){return this.qg}az(){return this.sq}}}
{"use strict";const d=self.m;d.jX=class extends d.fa{constructor(b){super();this.Ca=b[0];this.wea=b[1];this.QB=!!b[2];this.Ys=b[3];this.bV=b[4];this.Uda=!!b[5];this.eb=b[6];this.Sd=b[7].map(a=>d.B(d.iX,a))}g(){for(const b of this.Sd)b.g();d.C(this.Sd)}k2(b){for(const a of this.Sd)a.Zc().xz(b)}l2(b,a){return Promise.all(this.Sd.map(e=>e.Zc().$m(b,a)))}f4(){for(const b of this.Sd)b.Zc().Ng()}xa(){return this.Ca}Om(b){b=Math.floor(b);if(0>b||b>=this.Sd.length)throw new RangeError("invalid frame");return this.Sd[b]}ll(){return this.wea}Qm(){return this.Ys}}}
{"use strict";const d=self.m;d.iX=class extends d.fa{constructor(b){super();this.lg=d.B(d.vu);this.lg.hO(b);this.pT=b[7];this.MU=d.B(d.Vu,b[8],b[9]);this.BB=b[10].map(a=>d.B(d.Y0,this,a));this.TT=new Map;for(const a of this.BB)this.TT.set(a.xa().toLowerCase(),a);this.Jp=null;b=b[11];6<=b.length&&(this.Jp=d.B(d.Fo,b))}g(){this.Jp&&(this.Jp.g(),this.Jp=null);this.lg.g();this.lg=null}Zc(){return this.lg}il(){return this.MU.V}jl(){return this.MU.L}H_(b){return this.TT.get(b.toLowerCase())||null}G_(b){b=
Math.floor(b);return 0>b||b>=this.BB.length?null:this.BB[b]}DE(){return this.BB.length}}}{"use strict";const d=self.m;d.Y0=class extends d.fa{constructor(b,a){super();this.Ca=a[0];this.bK=d.B(d.Vu,a[1],a[2])}g(){}xa(){return this.Ca}X(){return this.bK.V}Y(){return this.bK.L}}}
{"use strict";const d=self.m,b=self.xg,a=self.kz;d.yF=class extends d.fa{constructor(e,c,f){super();const k=e.Eh(f[1]);this.b=e;this.di=e.Xn.c0(k);this.Va=null;this.GB=k.Instance;this.Oa=c;this.eb=f[11];this.Ca=f[0];this.rw=this.b.Fi(f[14]);this.Rda=!!f[9];this.Sa=!!f[2];this.jJ=!!f[10];this.tj=f[3].map(g=>({AW:g[0],type:g[1],name:g[2],Hfa:e.Fi(g[3])}));this.kda=f[4];this.Bda=f[5];this.Af=this.di.Af;this.La=null;this.ZA=d.B(d.h6,e.hh,e.gh);this.RH=!0;this.SH=!1;this.BI=this.Rp=null;this.nj=-1;this.AI=
this.oB=this.pB=this.zI=this.Yh=null;this.dJ=!1;this.Yg=null;this.$S=f[8].map(g=>d.iM.Na(this,g));this.TA=[];this.$H=new Map;this.YH=new Map;this.DV=new Set;this.$n=d.B(d.e6,this);this.MA=this.LA=this.Qd=this.lg=this.Yg=this.ks=null;this.ft=0;this.Ab=new Map;this.oi=new Map;this.F=[];this.RI=!0;this.di.YE()&&(this.La=d.B(d.al,this,f[12]));f[6]&&(this.lg=d.B(d.vu),this.lg.hO(f[6]));if(f[7]){this.Qd=f[7].map(g=>d.B(d.jX,g));this.LA=new Map;this.MA=new Map;for(const g of this.Qd)this.LA.set(g.xa().toLowerCase(),
g),this.MA.set(g.eb,g)}this.Sa?(this.Rp=[],this.BI=new Set,this.nj=this.b.y9()):(this.Yh=[],this.zI=new Set,this.pB=[],this.oB=[],this.AI=[]);this.Va=d.B(k.dg,this,f[15]);this.ZT=this.Zv=null;this.le=d.B(d.Event.Cb);if(c=this.Va.Fg()){if(this.Zv=new c(this),!(this.Zv instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.Zv=new a(this);this.b.eD&&!this.Sa&&!this.jJ&&this.Af||this.qc();this.di.Ln&&(this.di.nca(this),this.T7(f))}static Na(e,c,f){return d.B(d.yF,
e,c,f)}g(){this.lg&&(this.lg.g(),this.lg=null);if(this.Qd){for(const e of this.Qd)e.g();d.C(this.Qd);this.LA.clear();this.MA.clear()}this.$n.g();this.$n=null;this.Ab.clear();this.oi.clear();this.b=this.Yg=null}m$(e){for(let c=1,f=e.length;c<f;++c){const k=this.b.nf(e[c]);this.Rp.push(k);this.BI.add(k);k.Yh.push(this);k.zI.add(this)}}Lba(e){this.dJ=!0;this.Yg=e}Wb(){return this.dJ}R$(){var e=0;if(!this.Sa)for(var c of this.Yh)for(var f of c.$S){const l=f.xa().toLowerCase();this.$H.set(l,f);this.YH.set(l,
e);this.TA.push(f);++e}for(var k of this.$S)c=k.xa().toLowerCase(),this.$H.set(c,k),this.YH.set(c,e),this.TA.push(k),++e;for(var g of this.TA)this.DV.add(g.Km().constructor);if(!this.Sa&&this.Yh.length){e=this.b.vT;d.qD(this.pB,e,0);d.qD(this.oB,e,0);d.qD(this.AI,e,0);e=[];c=g=k=0;for(const l of this.Yh)if(f=l.nj,this.pB[f]=k,k+=l.tj.length,this.oB[f]=g,g+=l.kda,this.AI[f]=c,c+=l.Bda,(f=l.La)&&this.La)for(const p of f.zg())e.push(p.SX(this.La));this.La&&this.La.S3(e)}}T7(e){const c=this.b.x9(),f=
d.B(d.Instance,{Hc:this.b,BL:this,uid:c});f.aA(e[16],[]);this.b.E$(c,f);this.F.push(f)}qc(){this.Sa||this.Va.qc()}B0(){return 0<this.ft}ep(e){if(this.Sa)return Promise.resolve();this.ft++;return 1===this.ft?this.Va.ep(e)||Promise.resolve():Promise.resolve()}dn(){if(!this.Sa){this.ft--;if(0>this.ft)throw Error("released textures too many times");0===this.ft&&this.Va.dn()}}zz(){if(this.Sa)throw Error("not applicable to family");this.Va.zz()}CF(e){return this.Sa?Promise.resolve():this.Va.CF(e)}G(){return this.b}yb(){return this.di}xa(){return this.Ca}Fi(){return this.rw}Da(){return this.Oa}Lg(){return this.Rda}eQ(e){return e&&
this.DV.has(e)}N_(){return this.tj.map(e=>e.AW)}M_(e){return this.tj.findIndex(c=>c.AW===e)}L_(e){return this.tj.findIndex(c=>c.name===e)}m9(){return this.tj.map(e=>e.Hfa)}lu(e){e=Math.floor(e);if(0>e||e>=this.tj.length)throw new RangeError("invalid instance variable index");return this.tj[e].type}fN(e){e=Math.floor(e);if(0>e||e>=this.tj.length)throw new RangeError("invalid instance variable index");return this.tj[e].name}Ey(e){return this.$H.get(e.toLowerCase())||null}eu(e){e=this.YH.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}YE(){return this.di.YE()}fQ(){return this.La&&this.La.t0()}ba(){return this.$n.ba()}Zc(){return this.lg}vP(e){this.ks=e}VD(e){return this.zI.has(e)}PM(e){return this.BI.has(e)}Ko(e){return this.oB[e]}bN(e){return this.pB[e]}UM(e){if(!this.Qd)throw Error("no animations");return this.LA.get(e.toLowerCase())||null}$Z(e){if(!this.Qd)throw Error("no animations");return this.MA.get(e)||null}x_(){if(!this.Qd)throw Error("no animations");return this.Qd[0].Om(0)}k_(){if(this.Qd){const e=
this.x_().Zc();return[e.O(),e.R()]}return this.lg?[this.lg.O(),this.lg.R()]:[100,100]}Wj(){if(!this.di.Ln)throw Error("not a single-global plugin");return this.F[0]}ja(){return this.F}*dW(){yield*this.F}*yfa(){yield*this.F;for(const e of this.b.Vl)e.H()===this&&(yield e)}Ug(e){this.F.push(e)}sv(){this.RI=!0}DA(){if(this.RI&&!this.Sa){var e=this.F,c=0;for(let f=e.length;c<f;++c)e[c].oS(c);e=this.b.Vl;for(const f of e)f.H()===this&&f.oS(c++);this.RI=!1}}eN(e){var c=this.F;if(e<c.length)return c[e];
e-=c.length;c=this.b.Vl;for(const f of c)if(f.H()===this){if(0===e)return f;--e}return null}Lo(e){if(e&&e.Wb()&&e.H()!==this)for(const c of e.Jd)if(c.H()===this)return c;e=this.ba().ja();return e.length?e[0]:null}a0(e){const c=this.ba().ja();return 0<c.length?c[e.Mo()%c.length]:null}*KV(e,c){const f=this.ba().ja();var k=f.length;const g=c.ba(),l=c.ba().ja(),p=l.length;var r=e.Mo();if(c.Sa||!g.Sb)r=l.indexOf(e);e=Math.ceil(k/p);k%=p;0===k||r<k?(r*=e,k=e):(r=k*e+(r-k)*(e-1),k=e-1);for(let v=r,q=r+k;v<
q;++v)yield f[v]}au(e){this.Va.au(e)}$b(){if(this.dJ&&!this.Sa){this.DA();var e=this.ba(),c=e.F,f=e.Sb,k=this.b.lf();k=k&&k.Db()&&k.Db().Td;for(const p of this.Yg.gm)if(p!==this){p.DA();var g=p.ba();g.se(f);if(!f){var l=g.F;d.C(l);for(const r of c)l.push(p.eN(r.Mo()));if(k){l=e.fc;g=g.fc;d.C(g);for(const r of l)g.push(p.eN(r.Mo()))}}}}}Mca(e,c){for(const f of this.Yg.gm){const k=f.ba();e?d.jf(k.fc,c):d.jf(k.F,c)}}jS(){this.RH=!0}pH(e){this.SH=!!e}MS(){if(this.RH&&this.Af){for(const e of this.F)e.j().PS();
for(const e of this.b.Vl)e.H()===this&&e.j().PS();this.RH=!1}}Fh(){this.Ab||(this.Ab=new Map);return this.Ab}qu(){this.oi||(this.oi=new Map);return this.oi}HN(){return this.eQ(d.fb.Mla)}ZE(){return this.eQ(d.fb.nma)}la(){const e={instances:this.F.map(c=>c.Nc())};this.Ab&&this.Ab.size&&(e.ex=d.pG(this.Ab));return e}qa(e){this.Ab&&(this.Ab.clear(),this.Ab=null);var c=e.ex;c&&(this.Ab=d.nE(c));c=this.F;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].xc(e[f]);for(let f=e.length,k=
c.length;f<k;++f)this.b.Jm(c[f]);for(let f=c.length,k=e.length;f<k;++f){c=e[f];let g=null;if(this.Af&&(g=this.b.Ob().Uy(c.w.l),!g))continue;this.b.Bi(this.ks||this,g,!1,0,0,!0).xc(c)}this.sv()}zh(e){var c=this.b;(c=c.ub&&!c.ia().oz())&&b.lG();this.le.dispatchEvent(e);c&&b.RD()}}}{"use strict";const d=self.m;d.$X=class extends d.fa{constructor(b,a){super();this.b=b;this.gm=a;for(const e of this.gm)e.Lba(this)}g(){this.b=null}G(){return this.b}w0(){return this.gm.some(b=>b.Af)}}}
{"use strict";const d=self.m,b=self.xg,a=self.hr,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.fa{constructor(g){super();this.b=g.Hc;this.fe=g.BL;this.ve=this.ga=this.kb=null;this.RT=0;this.lc=g.uid;this.VU=c++;this.na=0;this.od=this.yf=e;var l=this.fe.TA;0<l.length&&(this.od=l.map((p,r)=>d.B(d.cy,{Hc:this.b,cL:p,instance:this,index:r})));this.Jd=this.fe.Wb()?[]:null;this.Vd=-1;this.Qb=null;l=this.yb();l.an()&&(this.na|=4);if(l.Af)if(this.kb=d.B(d.T6,this,g.Yd),g.LW)this.kb.Hg(g.LW);
else{this.kb.o1();const [p,r]=this.fe.k_();this.kb.zc(p,r);this.H().fQ()&&this.kb.we.m2()}g.cW?this.p$(g.cW):this.k$()}g(){this.ve&&(this.ve.rv(),this.ve=null);if(0<this.od.length){for(var g of this.od)g.g();d.C(this.od)}this.ga.g();this.ga=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.Jd&&d.C(this.Jd);this.Qb&&(this.Qb.g(),this.Qb=null);this.fe=this.b=null;0<this.yf.length&&d.C(this.yf);this.kb&&(this.kb.g(),this.kb=null)}p$(g){0<g.length&&(this.yf=
[],d.ud(this.yf,g))}k$(){const g=this.fe.tj.length;if(0!==g){this.yf=[];var l=[0,0,""];for(let p=0;p<g;++p)this.yf.push(l[this.fe.lu(p)])}}aA(g,l){if(this.ga)throw Error("already got sdk instance");for(let p=0,r=this.od.length;p<r;++p)this.od[p].aA(l?l[p]:null);this.ga=d.B(this.fe.GB,this,g);if(!(this.ga instanceof d.jp))throw Error("sdk type must derive from SDKInstanceBase");for(let p=0,r=this.od.length;p<r;++p);this.fe.ZT&&this.pR()}j(){return this.kb}G(){return this.b}YZ(){const g=this.Vd;return-1===
g?this.G().Vd:g}dG(g){g=+g;if(0>g||!isFinite(g))g=0;this.Vd=g}z4(){this.Vd=-1}Cb(){this.Qb||(this.Qb=d.B(d.Event.Cb));return this.Qb}oe(g){this.ga.oe(g)}qc(g){this.ga.qc(g)}Vba(){this.na|=2}nl(){return 0!==(this.na&2)}ZG(){this.na|=1}RN(){return 0!==(this.na&1)}an(){return 0!==(this.na&4)}v5(){this.na|=32}pO(){return 0!==(this.na&32)}tR(){return 0!==(this.na&8)}oca(g){this.na=g?this.na|8:this.na&-9}Ku(g,l){g<<=16;this.na=l?this.na|g:this.na&~g}AE(g){return 0!==(this.na&g<<16)}$d(){return this.ga.$d()}Ky(){return this.ga.Ky()}Ly(){return this.ga.Ly()}No(g){return this.ga.No(g)}H(){return this.fe}tr(){return this.ga.tr()}Sq(g){return g.Sa?
g.PM(this.H()):this.H()===g}gQ(){if(!this.yb().vV)throw Error("object does not support scene graph");}$j(){return null!==this.ya()}ya(){var g=this.j();return g?(g=g.ya())?g.za():null:null}cz(){var g=this.j();return g?(g=g.cz())?g.za():null:null}*Qx(){const g=this.j();if(g)for(const l of g.Qx())yield l.za()}pf(){const g=this.j();return g?g.pf():!1}kf(){const g=this.j();return g?g.kf().map(l=>l.za()):[]}*children(){const g=this.j();if(g)for(const l of g.children())yield l.za()}*Uk(){const g=this.j();
if(g)for(const l of g.Uk())yield l.za()}Iy(){const g=this.j();return g?g.Iy():0}sE(g){const l=this.j();return l?(g=l.sE(g))?g.za():null:null}Im(g,l){this.gQ();g.gQ();this.j().Im(g.j(),l||{})}ck(g){const l=this.j();l&&l.ck(g.j())}Ny(){const g=this.j();return g?g.Ny():!1}Y5(){var g=this.j();if(g&&(g=g.nK))for(const l of g)if(g=this.b.Ch(l[2])){const p=l[3];this.Im(g,{Lt:!!(p>>0&1),Mt:!!(p>>1&1),Pq:!!(p>>2&1),Oq:!!(p>>3&1),Kt:!!(p>>4&1),Fx:!!(p>>5&1),Nt:!!(p>>6&1)})}}Wb(){return null!==this.Jd}Or(g){this.Jd.push(g)}D0(g){return!!this.xN(g)}xN(g){const l=
this.Jd;if(null===l||0===l.length)return!1;for(const p of l)if(p.H()===g)return p;return null}Pi(){for(const g of this.Jd)g.H().ba().ik(g)}Daa(){for(const g of this.Jd)g.H().ba().wp(g)}mca(g){for(const l of this.Jd)l.H().ba().F[g]=l}Caa(){for(const g of this.Jd)g.H().ba().vn(g)}lca(g){for(const l of this.Jd)l.H().ba().fc[g]=l}yb(){return this.fe.yb()}oS(g){this.RT=g}Mo(){this.fe.DA();return this.RT}VM(g){const l=this.od;for(let p=0,r=l.length;p<r;++p)if(l[p].Ah().eb===g)return p;return-1}Le(g){g|=
0;const l=this.yf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}u9(g){const l=this.yf[g];return 0===this.fe.lu(g)?!!l:l}ln(g,l){g|=0;const p=this.yf;if(0>g||g>=p.length)throw new RangeError("invalid instance variable");switch(this.fe.lu(g)){case 0:p[g]=l?1:0;break;case 1:p[g]="number"===typeof l?l:parseFloat(l);break;case 2:p[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}p5(g,l){if(0!==l){g|=0;var p=this.yf;
if(0>g||g>=p.length)throw new RangeError("invalid instance variable");var r=p[g];if("number"===typeof r)p[g]="number"===typeof l?p[g]+l:p[g]+parseFloat(l);else{if("boolean"===typeof r)throw Error("can not set offset of boolean variable");if("string"===typeof r)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Fh(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}qu(){let g=k.get(this);if(g)return g;g=new Map;k.set(this,g);return g}jR(g){const l=
this.H();if(l.le.WE(g))return!0;for(const p of l.Yh)if(p.le.WE(g))return!0;return this.b.le.WE(g)?!0:!1}CA(){const g=new Set;g.add(this);const l=this.j();if(l&&l.pf())for(const p of this.Uk())if(g.add(p),p.Wb())for(const r of p.Jd)g.add(r);if(this.Wb())for(const p of this.Jd)g.add(p);for(const p of g.values())p.IS()}IS(){if(this.jR("instancecreate")){const g=this.H(),l=new d.Event("instancecreate");l.instance=this.Dh();g.zh(l);for(const p of g.Yh)p.zh(l);this.b.zh(l)}this.b.ka(this.yb().constructor.D.T2,
this,null)}Kca(){this.b.ka(this.yb().constructor.D.U2,this,null)}e9(g){if(this.ve){var l=new d.Event("destroy");l.Cfa=g;this.zh(l)}if(this.jR("instancedestroy")){l=this.H();var p=new d.Event("instancedestroy");p.instance=this.Dh();p.Cfa=g;l.zh(p);for(const r of l.Yh)r.zh(p);this.b.zh(p)}}Nc(g="full"){const l={};"full"===g?l.uid=this.lc:l.c3=!0;if("visual-state"!==g){var p=f.get(this);p&&p.size&&(l.ex=d.pG(p));-1!==this.Vd&&(l.mts=this.Vd);if(0<this.fe.tj.length){p={};var r=this.fe.N_();for(let v=
0,q=this.yf.length;v<q;++v)p[r[v].toString()]=this.yf[v];l.ivs=p}if(this.od.length){p={};for(const v of this.od)(r=v.Nc())&&(p[v.Ah().eb.toString()]=r);l.behs=p}}this.kb&&(l.w=this.kb.la(g));(g=this.ga.Nc())&&(l.data=g);return l}qA(g="full"){this.kb&&this.kb.qA(g)}xc(g,l="full"){if("full"===l)this.lc=g.uid;else if(!g.c3)return;if("visual-state"!==l){var p=f.get(this);p&&(p.clear(),f.delete(this));if(p=g.ex)p=d.nE(p),f.set(this,p);this.Vd=g.hasOwnProperty("mts")?g.mts:-1;if(p=g.ivs)for(const [q,x]of Object.entries(p))if(p=
this.fe.M_(parseInt(q,10)),!(0>p||p>=this.yf.length)){var r=x;null===r&&(r=NaN);this.yf[p]=r}}if(this.yb().Af){p=g.w;var v=p.l;this.kb.da().eb!==v&&(r=this.kb.da(),(v=r.nc().Uy(v))?(this.kb.tv(v),r.xp(this,!0),v.Ug(this,!0),v.Sg(),this.kb.Ba()):"full"===l&&this.b.Jm(this));this.kb.qa(p,l)}if("visual-state"!==l&&(l=g.behs))for(const [q,x]of Object.entries(l))l=this.VM(parseInt(q,10)),0>l||l>=this.od.length||this.od[l].xc(x);(g=g.data)&&this.ga.xc(g)}Dh(){return this.ve||this.pR()}pR(){var g=this.kb?
self.uu:a;const l=this.ga.Fg(),p=this.fe.ZT,r=p||l||g;a.Ui(this);this.ve=new r;a.Ui(null);if(l&&!(this.ve instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(p&&(g=l||g,!(this.ve instanceof g)))throw new TypeError(`setInstanceClass(): class '${p.name}' does not extend the right base class '${g.name}'`);return this.ve}t9(g){if(0!==this.yf.length){var l={},p=this.fe.m9();for(let r=0,v=p.length;r<v;++r)l[p[r]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.u9.bind(this,r),set:d.Instance.prototype.ln.bind(this,r)};l=Object.create(Object.prototype,l);g.eta={value:l,writable:!1}}}n9(g){var l=this.od;if(0!==l.length){var p={};for(const r of l)p[r.Ah().Fi()]={value:r.$y(),writable:!1};l=Object.create(Object.prototype,p);g.Dx={value:l,writable:!1}}}zh(g){g.instance=this.Dh();var l=this.b;(l=l.ub&&!l.ia().oz())&&b.lG();this.Dh().dispatchEvent(g);l&&b.RD()}}}
{"use strict";const d=self.m;d.I4=class extends d.fa{constructor(b){super();this.hc=b;this.Fc=null;this.XA=[];this.RC=b.O();this.QC=b.R();this.AK=this.zK=1;this.vC=0}g(){this.Fc=null;d.C(this.XA)}LP(b){this.vC=(this.Fc=b)?b.ta():0}ya(){return this.Fc}pf(){return 0<this.XA.length}kf(){return this.XA}F5(b){this.zK=b}G5(b){this.AK=b}Uj(){return this.hc.Ro()?this.Fc.O()/this.Fc.Ib.RC:1}Vj(){return this.hc.Qo()?this.Fc.R()/this.Fc.Ib.QC:1}la(){return{sw:this.RC,sh:this.QC,sx:this.zK,sy:this.AK,psa:this.vC,
c:this.XA.map(b=>{let a="";b.So()&&(a+="x");b.To()&&(a+="y");b.Ro()&&(a+="w");b.Qo()&&(a+="h");b.ez()&&(a+="a");b.fz()&&(a+="z");b.Ny()&&(a+="d");return{uid:b.za().lc,f:a}})}}qa(b){this.RC=b.sw;this.QC=b.sh;this.zK=b.sx;this.AK=b.sy;this.vC=b.psa}pv(b){const a=this.hc,e=a.G();for(const c of b.c){b=e.Ch(c.uid).j();const f=c.f,k={};k.Lt=f.includes("x");k.Mt=f.includes("y");k.Pq=f.includes("w");k.Oq=f.includes("h");k.Kt=f.includes("a");k.Nt=f.includes("z");k.Fx=f.includes("d");a.Im(b,k)}}}}
{"use strict";const d=self.m,b=d.B(d.Rect),a=d.B(d.nd),e=d.B(d.Event,"bboxchange",!1),c=d.B(d.$a,0,0,0,0),f=d.B(d.Fo),k=d.B(d.$a,1,1,1,1),g=d.B(d.Rect,0,0,-1,-1),l=d.B(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),r=[];let v=!0;d.T6=class extends d.fa{constructor(q,x){super();this.J=q;this.I=q.H();this.b=q.G();this.Gk=x;this.Tk=-1;this.na=196635;this.I.yb().$o()&&(this.na|=128);this.Ts=this.Ss=this.jI=this.pK=this.Pa=this.Ye=this.rj=this.Ij=this.ed=this.L=this.V=NaN;this.dI=d.B(d.Rect);this.eI=
d.B(d.nd);this.YA=l;this.Pw=g;this.li=this.it=this.NC=null;this.Lp=this.pb=k;this.we=this.Aq=null;this.J.H().fQ()&&(this.we=d.B(d.E1,this.J,this));this.nK=this.Ib=null;this.wq=this.gV=NaN;this.ci=null}ZG(){this.na|=256}g(){this.Aq&&(this.b.sb().$O(this.Aq),this.Aq=null);this.NC=null;this.it&&(this.it.tW.g(),this.it=null);this.li&&(this.li.clear(),this.li=null);this.Fz();this.$j()&&this.ya().ck(this);if(this.pf()){const q=[...this.kf()];for(const x of q)this.ck(x)}this.tA();this.Gk=this.b=this.I=this.J=
null}Hg(q){v=!1;this.Rg(q[0],q[1]);this.Se(q[2]);this.zc(q[3],q[4]);this.Ye=0;this.$o()?this.yc(q[6]):this.Pa=0;c.Ao(q[7]);this.vA(c);this.Cr(q[8]);this.Dr(q[9]);this.qf(q[10]);this.we&&this.we.l$(q[12]);q[14]&&(this.nK=q[14][1],this.gV=q[14][2]);if(q[15]){var x=q[15];this.eE(x[0],x[1]);q=this.Xj();x=x[2];for(let u=0,w=x.length;u<w;++u){const z=x[u];for(let A=0,E=z.length;A<E;++A){const G=z[A],P=q.cr(A,u);P.bg(G[0]);P.Re(G[1]);P.Se(G[2]);P.eG(G[3]);P.fG(G[4])}}}v=!0;this.Wr()}o1(){this.pK=this.Pa=
this.Ye=this.rj=this.Ij=this.ed=this.L=this.V=0;this.jI=1;this.Ts=this.Ss=0;this.Wr()}G(){return this.b}H(){return this.I}za(){return this.J}cv(){return this.ez()?this.ya().ta()-this.Ib.vC:0}bg(q){q=+q;if(this.So()){const x=this.Ib;q-=this.X();const u=-this.cv();0===u?this.V+=q/x.Uj():(this.V+=Math.cos(u)*q/x.Uj(),this.To()&&(this.L+=Math.sin(u)*q/x.Vj()))}else this.V=q}tO(q){q=+q;this.So()?this.bg(this.X()+q):this.V+=q}X(){if(this.So()){let q=this.V;const x=this.Ib,u=this.ya(),w=this.cv();0===w?
q*=x.Uj():(q=q*x.Uj()*Math.cos(w),this.To()&&(q-=this.L*x.Vj()*Math.sin(w)));return u.X()+q}return this.V}Re(q){q=+q;if(this.To()){const x=this.Ib;q-=this.Y();const u=-this.cv();0===u?this.L+=q/x.Vj():(this.So()&&(this.V-=Math.sin(u)*q/x.Uj()),this.L+=Math.cos(u)*q/x.Vj())}else this.L=q}uO(q){q=+q;this.To()?this.Re(this.Y()+q):this.L+=q}Y(){if(this.To()){let q=this.L;const x=this.Ib,u=this.ya(),w=this.cv();0===w?q*=x.Vj():(q=q*x.Vj()*Math.cos(w),this.So()&&(q+=this.V*x.Uj()*Math.sin(w)));return u.Y()+
q}return this.L}Rg(q,x){q=+q;x=+x;if(this.EN()){const w=this.So(),z=this.To(),A=this.Ib,E=q-this.X(),G=x-this.Y();var u=-this.cv();if(0===u)this.V=w?this.V+E/A.Uj():q,this.L=z?this.L+G/A.Vj():x;else{const P=Math.sin(u);u=Math.cos(u);this.V=w?z?this.V+(u*E-P*G)/A.Uj():this.V+u*E/A.Uj():q;this.L=z?w?this.L+(P*E+u*G)/A.Vj():this.L+u*G/A.Vj():x}}else this.V=q,this.L=x}Au(q,x){q=+q;x=+x;this.EN()?this.Rg(this.X()+q,this.Y()+x):(this.V+=q,this.L+=x)}GZ(q,x){return this.X()===q&&this.Y()===x}Se(q){q=+q;
this.fz()&&(q-=this.ya().Qa());this.ed!==q&&(this.ed=q,this.US(),q=this.da(),0!==this.ed&&q.kS(),q.Sg())}US(){this.Wr();if(this.pf()){const q=this.kf();for(let x=0,u=q.length;x<u;x++){const w=q[x];w.fz()&&w.US()}}}K2(q){this.Se(this.Qa()+q)}Qa(){return this.fz()?this.ya().Qa()+this.ed:this.ed}Wf(){return this.da().Qa()+this.Qa()}tf(q){q=+q;this.Ij=this.Ro()?this.Ij*(q/this.O()):q}sO(q){q=+q;this.Ro()?this.tf(this.O()+q):this.Ij+=q}O(){return this.Ro()?this.ya().O()*this.Ij:this.Ij}sf(q){q=+q;this.rj=
this.Qo()?this.rj*(q/this.R()):q}rO(q){q=+q;this.Qo()?this.sf(this.R()+q):this.rj+=q}R(){return this.Qo()?this.ya().R()*this.rj:this.rj}zc(q,x){q=+q;x=+x;this.Ij=this.Ro()?this.Ij*(q/this.O()):q;this.rj=this.Qo()?this.rj*(x/this.R()):x}qN(){if(this.$j()){const q=this.Ib;return Math.min(q.Uj(),q.Vj())}return 1}$o(){return 0!==(this.na&128)}yc(q){q=+q;this.$o()&&(this.ez()&&(q-=this.ya().ta()),q=d.me(q),this.Pa!==q&&(this.Pa=q,this.$G()))}G2(q){q=+q;0!==q&&this.$o()&&(this.Pa=d.me(this.Pa+q),this.$G())}$G(){this.na|=
262144;if(this.pf()){const q=this.kf();for(let x=0,u=q.length;x<u;x++)q[x].$G()}}ta(){return this.ez()?d.me(this.ya().ta()+this.Pa):this.Pa}GR(){const q=this.na;if(0!==(q&262144)){var x=this.ta();this.pK=Math.sin(x);this.jI=Math.cos(x);this.na=q&-262145}}RE(){this.GR();return this.pK}tE(){this.GR();return this.jI}Cr(q){this.Ss=+q}I2(q){this.Ss+=+q}il(){return this.Ss}Dr(q){this.Ts=+q}J2(q){this.Ts+=+q}jl(){return this.Ts}vA(q){this.pb.Yc(q)||(this.pb===k?(this.pb=d.B(d.$a,q),this.Lp=d.B(d.$a,q),this.Lp.zD()):
q.Hx(1,1,1,1)?this.Lp=this.pb=k:(this.pb.set(q),this.Lp.set(q),this.Lp.zD()),this.Wr())}re(q){q=d.W(+q,0,1);this.pb.ro!==q&&(c.Bm(this.pb),c.ro=q,this.vA(c))}H2(q){this.re(this.Cd()+q)}Cd(){return this.pb.ro}QP(q){this.pb.vo(q)||(c.Bm(q),c.ro=this.pb.ro,this.vA(c))}S5(q,x,u){c.FD(q,x,u);this.QP(c)}KE(){return this.Lp}Ny(){return 0!==(this.na&512)}V4(q){this.Ue(512,q)}So(){return 0!==(this.na&1024)}N5(q){this.Ue(1024,q)}To(){return 0!==(this.na&2048)}EN(){return 0!==(this.na&3072)}O5(q){this.Ue(2048,
q)}Ro(){return 0!==(this.na&4096)}M5(q){this.Ue(4096,q)}Qo(){return 0!==(this.na&8192)}L5(q){this.Ue(8192,q)}ez(){return 0!==(this.na&16384)}K5(q){this.Ue(16384,q)}fz(){return 0!==(this.na&32768)}P5(q){this.Ue(32768,q)}vQ(){this.na&=-65025}Im(q,x){if(q!==this&&!q.$j()&&!this.lR(q)&&!this.kR(q)){var u=q.X(),w=q.Y(),z=q.O(),A=q.R(),E=q.ta(),G=q.Qa();q.xS(this);q.N5(x.Lt);q.O5(x.Mt);q.M5(x.Pq);q.L5(x.Oq);q.K5(x.Kt);q.P5(x.Nt);q.V4(x.Fx);x.Lt&&(q.V=u-this.X(),x.Pq&&(q.V/=this.O()/this.Ib.RC));x.Mt&&(q.L=
w-this.Y(),x.Oq&&(q.L/=this.R()/this.Ib.QC));x.Pq&&(q.Ij=z/this.O(),q.Ib.F5(q.Ij));x.Oq&&(q.rj=A/this.R(),q.Ib.G5(q.rj));x.Kt&&(q.Pa=E-this.ta());x.Nt&&(q.ed=G-this.Qa());this.c7(q);this.Ba()}}ck(q){if(q.ya()===this){var x=q.X(),u=q.Y(),w=q.O(),z=q.R(),A=q.ta(),E=q.Qa();q.xS(null);q.vQ();q.Rg(x,u);q.zc(w,z);q.yc(A);q.Se(E);this.Qaa(q);this.Ba()}}Yaa(){for(var q of this.children())this.ck(q);(q=this.ya())&&q.ck(this);this.vQ()}$j(){return null!==this.ya()}ya(){const q=this.Ib;return null!==q?q.ya():
null}cz(){let q=this;for(;q.$j();)q=q.ya();return q}*Qx(){let q=this.ya();for(;q;)yield q,q=q.ya()}y0(q){return this.kf().includes(q)}pf(){const q=this.Ib;return null!==q?q.pf():!1}kf(){const q=this.Ib;return null!==q?q.kf():r}children(){return this.kf()}*Uk(){for(const q of this.children())yield q,yield*q.Uk()}Iy(){return this.kf().length}sE(q){const x=this.kf();q=Math.floor(+q);return 0>q||q>=x.length?null:x[q]}BG(q){this.Ib||(this.Ib=d.B(d.I4,this));q&&this.Ib.LP(q)}tA(){this.Ib&&(this.Ib.g(),
this.Ib=null)}xS(q){q?(q.BG(null),this.BG(q)):(this.Ib&&this.Ib.LP(null),this.pf()||this.tA())}kR(q){if(!this.$j())return!1;const x=this.ya();return x===q?!0:x.kR(q)}lR(q){if(this.y0(q))return!0;for(const x of this.kf())if(x.lR(q))return!0;return!1}c7(q){this.Ib.kf().push(q)}Qaa(q){const x=this.Ib.kf(),u=x.indexOf(q);-1!==u&&x.splice(u,1);0!==x.length||this.$j()||this.tA();q.pf()||q.tA()}ZF(q){this.wq=q}Wr(){if(v){var q=this.b.sb();this.Aq&&q.$O(this.Aq);this.Aq=q.QW(0!==(this.na&524288)?q.OC||"<point>":
q.PC||"<default>",this.Di(),this.Lp,this.Qa())}}Sm(){return this.pb===k}qf(q){q|=0;if(0>q||31<q)throw new RangeError("invalid blend mode");this.Di()!==q&&(this.na=this.na&-2080374785|q<<26,this.Wr())}Di(){return(this.na&2080374784)>>26}tv(q){this.Gk=q;0!==this.Qa()&&this.Gk.kS()}da(){return this.Gk}nc(){return this.da().nc()}AA(q){this.Tk=q|0}Zj(){this.Gk.xv();return this.Tk}Ue(q,x){this.na=x?this.na|q:this.na&~q}$c(){return 0!==(this.na&1)}Mh(q){this.Ue(1,q)}Kg(){return 0!==(this.na&8)}Ju(q){q=!!q;
this.Kg()!==q&&(this.Ue(8,q),q?this.Ba():this.UR())}aG(q,x){this.Ue(32,q);this.li&&this.li.clear();if(x.trim()){this.li||(this.li=new Set);for(const u of x.split(" "))u&&this.li.add(u.toLowerCase())}else this.li=null}uF(q){const x=0!==(this.na&32),u=this.li;if(!q||!u)return!x;for(const w of u)if(q.has(w))return x;return!x}Ba(){this.na|=65554;this.I.jS();this.b.S();this.Gk.rp()&&(this.gy(this.dI,this.eI,!0),this.na&=-3,this.Tca());0!==(this.na&4)&&this.J.Cb().dispatchEvent(e);if(null!==this.Ib){const q=
this.Ib.kf();for(let x=0,u=q.length;x<u;++x)q[x].Ba()}}gy(q,x,u){const w=this.X(),z=this.Y(),A=this.O(),E=this.R(),G=this.ta();q.wi(w-this.Ss*A,z-this.Ts*E,A,E);u&&this.Gg()&&this.Y8(q);0===G?x.Lj(q):(q.offset(-w,-z),x.DD(q,this.RE(),this.tE()),x.offset(w,z),x.oL(q));q.normalize()}OS(){const q=this.na;0!==(q&2)&&(this.gy(this.dI,this.eI,!0),this.na=q&-3)}Kc(){this.OS();return this.dI}Pj(){this.OS();return this.eI}Cu(q){var x=this.X(),u=this.Y();x=Math.round(x)-x;u=Math.round(u)-u;if(0===x&&0===u)return q;
a.pa(q);a.offset(x,u);return a}Q4(q){this.Ue(4,q)}ON(){return 0!==(this.na&4)}XN(q,x,u){return x&&0!==this.Ye?this.jr(this.da().dv()):0===this.Qa()||u?q.uD(this.Kc()):this.b$()}b$(){const q=this.da(),x=this.Wf();if(x>=q.Gy())return!1;q.GN(x,b);return b.uD(this.Kc())}jr(q){var x=this.Kc();const u=x.N,w=x.$,z=x.K;x=x.T;const A=this.Wf();return q.aY(u,z,A,w,x,A+this.Ye)}wA(q){this.Ue(1048576,q)}yA(q){this.Ue(2097152,q)}bG(q){this.NC=q;this.IG();this.Gg()&&(this.ci.wL=null)}iz(){return null!==this.NC||
this.Gg()}ml(){return this.p9(this.O(),this.R(),this.ta(),this.RE(),this.tE())}p9(q,x,u,w,z){let A=this.it;null===A&&(this.it=A={tW:d.B(d.Fo),width:NaN,height:NaN,angle:NaN});const E=A.tW;if(A.width===q&&A.height===x&&A.angle===u)return E;const G=this.NC;if(this.Gg()){const P=this.il(),D=this.jl(),H=this.Xj();let J=this.ci.wL;J||(G?(f.pa(G),f.offset(P,D)):f.mga(),J=H.D1(f),this.ci.wL=J);H.x6(J,E);E.offset(-P,-D);E.aM(q,x,w,z)}else G?(E.pa(G),E.aM(q,x,w,z)):E.SL(this.Pj(),-this.X(),-this.Y());A.width=
q;A.height=x;A.angle=u;return E}IG(){this.z5();const q=this.it;null!==q&&(q.width=NaN)}eE(q,x){q=Math.floor(q);x=Math.floor(x);if(!this.za().yb().zea)throw Error("object does not support mesh");this.Fz();this.ci={WL:d.B(d.ca.oO,q,x),FW:d.B(d.ca.oO,q,x),wL:null}}Gg(){return null!==this.ci}Xj(){if(!this.Gg())throw Error("no mesh");return this.ci.WL}FN(){if(!this.Gg())throw Error("no mesh");return this.ci.FW}Sz(q){this.Ue(65536,q)}$N(){return 0!==(this.na&65536)}z5(){this.Ue(131072,!0)}Y8(q){const x=
this.ci.WL,u=Math.min(x.Y_(),0),w=Math.min(x.Z_(),0),z=Math.max(x.V_(),1),A=Math.max(x.W_(),1),E=q.width(),G=q.height();q.offsetLeft(u*E);q.offsetTop(w*G);q.Wfa((z-1)*E);q.Vfa((A-1)*G);this.Ye=x.X_()}Fz(){this.ci&&(this.ci.WL.g(),this.ci.FW.g(),this.ci=null,this.IG())}HP(q,x,u){q=Math.floor(q);x=Math.floor(x);var w=u.mode||"absolute";if(!p.has(w))throw Error("invalid mode");w="relative"===w;let z=u.x,A=u.y;const E=u.ay;let G="number"===typeof u.JW?u.JW:w?0:-1;u="number"===typeof u.KW?u.KW:w?0:-1;
if(!this.Gg())return!1;const P=this.Xj(),D=P.cr(q,x);if(null===D)return!1;let H=!1;"number"===typeof E&&D.Qa()!==E&&(D.Se(E),H=!0);w&&(z+=q/(P.Ak-1),A+=x/(P.Ok-1));-1!==G||w?(w&&(G+=q/(P.Ak-1)),G=d.W(G,0,1)):G=D.oh;-1!==u||w?(w&&(u+=x/(P.Ok-1)),u=d.W(u,0,1)):u=D.qh;if(D.X()===z&&D.Y()===A&&D.oh===G&&D.qh===u)return H;D.bg(z);D.Re(A);D.eG(G);D.fG(u);this.IG();return!0}nl(){return this.J.nl()}Ut(q,x){return this.Kc().Mf(q,x)&&this.Pj().Mf(q,x)?this.nl()?void 0:this.iz()?this.ml().Mf(q-this.X(),x-this.Y()):
!0:!1}Y9(){return 0!==(this.na&16)}PS(){if(this.Y9()&&this.Kg()&&0===(this.na&256)){var q=this.Kc(),x=this.I.ZA,u=this.YA;b.set(x.Ri(q.N),x.Si(q.K),x.Ri(q.$),x.Si(q.T));u.Yc(b)||(q=this.J,u===l?(x.Al(q,null,b),this.YA=d.B(d.Rect,b)):(x.Al(q,u,b),u.pa(b)),this.na&=-17)}}UR(){const q=this.YA;q!==l&&(this.I.ZA.Al(this.J,q,null),this.YA=l)}Tca(){const q=this.da();if(q.rp()&&0===(this.na&256)){var x=q.Xs,u=this.Kc(),w=this.Pw;b.set(x.Ri(u.N),x.Si(u.K),x.Ri(u.$),x.Si(u.T));w.Yc(b)||(u=this.J,w===g?(x.Al(u,
null,b),this.Pw=d.B(d.Rect,b)):(x.Al(u,w,b),w.pa(b)),q.B5())}}VR(){const q=this.Pw;q!==g&&(this.da().Xs.Al(this.J,q,null),this.Pw=g)}a7(){const q=this.J,x=this.Gk,u=x.F;u.length&&u.Ge(-1)===q||(x.xp(q,!1),x.Ug(q,!1),this.b.S())}Y6(){const q=this.J,x=this.Gk,u=x.F;u.length&&u[0]===q||(x.xp(q,!1),x.zaa(q),this.b.S())}Z6(q){const x=this.J,u=this.Gk;if(u.nc()!==q.nc())throw Error("layer from different layout");q!==u&&(u.xp(x,!0),this.tv(q),q.Ug(x,!0),this.b.S())}X6(q,x){const u=this.J;let w=!1;const z=
this.Gk;if(q.lc!==u.lc){var A=q.j();if(!A)throw Error("expected world instance");A=A.da();z.Da()!==A.Da()&&(z.xp(u,!0),this.tv(A),A.Ug(u,!0),w=!0);q=A.A2(u,q,!!x);(w||q)&&this.b.S()}}Uba(q){this.Ue(64,q)}su(){return 0!==(this.na&64)}la(q){const x={x:this.X(),y:this.Y(),w:this.O(),h:this.R(),l:this.da().eb,zi:this.Zj()};0!==this.Qa()&&(x.ze=this.Qa());0!==this.ta()&&(x.a=this.ta());this.Sm()||(x.c=this.pb.toJSON());.5!==this.il()&&(x.oX=this.il());.5!==this.jl()&&(x.oY=this.jl());0!==this.Di()&&(x.bm=
this.Di());this.$c()||(x.v=this.$c());this.Kg()||(x.ce=this.Kg());this.ON()&&(x.be=this.ON());this.we&&(x.fx=this.we.la());const u=0!==(this.na&32);u&&(x.sfi=u);this.li&&(x.sft=[...this.li].join(" "));this.Ib&&"visual-state"!==q&&(x.sgi=this.Ib.la());this.Gg()&&(x.mesh=this.Xj().Nc());return x}qA(q){"visual-state"!==q&&this.Yaa()}qa(q,x){v=!1;this.bg(q.x);this.Re(q.y);this.tf(q.w);this.sf(q.h);this.AA(q.zi);this.Se(q.hasOwnProperty("ze")?q.ze:0);this.yc(q.hasOwnProperty("a")?q.a:0);q.hasOwnProperty("c")?
c.Ao(q.c):q.hasOwnProperty("o")?(c.Bm(this.pb),c.ro=q.o):c.Bo(1,1,1,1);this.vA(c);this.Cr(q.hasOwnProperty("oX")?q.oX:.5);this.Dr(q.hasOwnProperty("oY")?q.oY:.5);this.qf(q.hasOwnProperty("bm")?q.bm:0);this.Mh(q.hasOwnProperty("v")?q.v:!0);this.Ju(q.hasOwnProperty("ce")?q.ce:!0);this.Q4(q.hasOwnProperty("be")?q.be:!1);this.aG(q.hasOwnProperty("sfi")?q.sfi:!1,q.hasOwnProperty("sft")?q.sft:"");this.we&&q.hasOwnProperty("fx")&&this.we.qa(q.fx);if(q.hasOwnProperty("sgi")&&"visual-state"!==x){this.BG(null);
const u=this.Ib,w=q.sgi;u.qa(w);const z=this.G().Cb(),A=()=>{z.removeEventListener("afterload",A);0===(this.na&256)&&u.pv(w)};z.addEventListener("afterload",A)}q.hasOwnProperty("mesh")?(q=q.mesh,this.eE(q.cols,q.rows),this.Xj().xc(q)):this.Fz();this.Ba();v=!0;this.Wr()}}}
{"use strict";const d=self.m;d.iM=class extends d.fa{constructor(b,a){super();const e=b.G(),c=e.Xn,f=e.Eh(a[1]);c.x0(f)||c.fY(a);this.b=e;this.I=b;this.$i=c.b_(f);this.Va=null;this.GB=f.Instance;this.eb=a[2];this.Ca=a[0];this.rw=this.b.Fi(a[3]);this.Va=d.B(f.dg,this);this.qc()}static Na(b,a){return d.B(d.iM,b,a)}g(){this.$i=this.b=null;this.Va.g();this.GB=this.Va=null}qc(){this.Va.qc()}G(){return this.b}H(){return this.I}Km(){return this.$i}xa(){return this.Ca}Fi(){return this.rw}}}
{"use strict";const d=self.m,b=self.bF;d.cy=class extends d.fa{constructor(a){super();this.b=a.Hc;this.bd=a.cL;this.$i=this.bd.Km();this.J=a.instance;this.Oa=a.index;this.ve=this.ga=null;this.$i.Ug(this.J)}g(){this.ve&&(this.ve.rv(),this.ve=null);this.$i.xp(this.J);this.ga.g();this.J=this.$i=this.bd=this.b=this.ve=this.ga=null}aA(a){if(this.ga)throw Error("already got sdk instance");this.ga=d.B(this.bd.GB,this,a);this.Q9()}G(){return this.b}Ah(){return this.bd}Km(){return this.$i}Oh(){return this.Oa}Nc(){return this.ga.Nc()}xc(a){return this.ga.xc(a)}static jG(a,
e){var c=a.J,f=e.J;const k=c.H().Da(),g=f.H().Da();if(k!==g)return k-g;c=c.VU;f=f.VU;return c!==f?c-f:a.SA.Oh()-e.SA.Oh()}Q9(){const a=this.ga.Fg(),e=a||b;b.Ui(this);this.ve=new e;b.Ui(null);if(a&&!(this.ve instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}$y(){return this.ve}}}
{"use strict";const d=self.m;d.al=class extends d.fa{constructor(b,a){super();this.hc=b;this.Xg=[];this.Wi=[];this.iB=new Map;this.Xh=[];this.Us=!0;for(const e of a)b=d.B(d.KM,this,e,this.Xg.length),this.Xg.push(b),this.iB.set(b.xa().toLowerCase(),b),3<=e.length&&this.Xh.push(this.XG(e[2]));this.G().e7(this)}g(){d.C(this.Xg);d.C(this.Wi);this.iB.clear();d.C(this.Xh);this.hc=null}S3(b){if(b.length){this.Xg=b.concat(this.Xg);for(const a of b)this.iB.set(a.xa().toLowerCase(),a);for(let a=0,e=this.Xg.length;a<
e;++a)this.Xg[a].Yba(a)}}XG(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.B(d.$a);f.Ao(c);b[a]=f}}return b}G(){return this.hc.G()}rn(){d.C(this.Wi);let b=!0;for(const a of this.Xg)a.Hb&&(this.Wi.push(a),a.ib.Us||(b=!1));this.Us=b}zg(){return this.Xg}t0(){return 0<this.Xg.length}fl(b){return this.iB.get(b.toLowerCase())||null}ZM(b){b=Math.floor(+b);if(0>b||b>=this.Xg.length)throw new RangeError("invalid effect type index");return this.Xg[b]}wu(b){return this.ZM(b).Hb}AP(b,
a){this.ZM(b).Lz(a)}su(){return 0<this.Wi.length}Bg(b){return this.Xh[b]}static G4(b){return b&&b instanceof d.$a?{t:"color",v:b.toJSON()}:b}static o2(b){if("object"===typeof b){if("color"===b.t){const a=d.B(d.$a);a.Ao(b.v);return a}throw Error("invalid effect parameter type");}return b}static oP(b){return b.map(d.al.G4)}static jO(b){return b.map(d.al.o2)}Nc(){return this.Xg.map(b=>({name:b.xa(),active:b.Hb,params:d.al.oP(this.Xh[b.Da()])}))}xc(b){for(const a of b)if(b=this.fl(a.name))b.Lz(a.active),
this.Xh[b.Da()]=d.al.jO(a.params);this.rn()}}}
{"use strict";const d=self.m;d.KM=class extends d.fa{constructor(b,a,e){super();this.La=b;this.Ze=a[0];this.Ca=a[1];this.Oa=e;this.ib=null;this.Hb=!0}g(){this.ib=this.La=null}SX(b){b=d.B(d.KM,b,[this.Ze,this.Ca],-1);b.ib=this.ib;b.Hb=this.Hb;return b}nR(b){b=b.wN(this.Ze);if(!b)throw Error("failed to find shader program '"+this.Ze+"'");this.ib=b}xa(){return this.Ca}Yba(b){this.Oa=b}Da(){return this.Oa}G(){return this.La.G()}Lz(b){this.Hb=!!b}l_(){const b=[];for(let a=0,e=this.ib.Iq.length;a<e;++a){const c=
this.ib.Wy(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.B(d.$a,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.m;d.E1=class extends d.fa{constructor(b,a){super();this.J=b;this.Fea=a;this.La=b.H().La;this.Bp=[];this.Wi=[];this.Us=!0;this.Xh=[];for(const e of this.La.zg())this.Bp.push(!0);this.rn()}g(){d.C(this.Bp);d.C(this.Wi);d.C(this.Xh);this.La=this.J=null}l$(b){for(const a of b)this.Xh.push(this.XG(a))}XG(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.B(d.$a);f.Ao(c);b[a]=f}}return b}m2(){for(const b of this.La.zg())this.Xh.push(b.l_())}G(){return this.J.G()}rn(){d.C(this.Wi);
const b=this.La.zg(),a=this.Wi,e=this.Bp;let c=!0;for(let f=0,k=b.length;f<k;++f)if(e[f]){const g=b[f];a.push(g);g.ib.Us||(c=!1)}this.Us=c;this.Fea.Uba(!!a.length)}Bg(b){return this.Xh[b]}wu(b){return this.Bp[b]}AP(b,a){this.Bp[b]=!!a}zg(){return this.La.zg()}la(){return this.La.zg().map(b=>({name:b.xa(),active:this.Bp[b.Da()],params:d.al.oP(this.Xh[b.Da()])}))}qa(b){for(const a of b)if(b=this.La.fl(a.name))this.Bp[b.Da()]=a.active,this.Xh[b.Da()]=d.al.jO(a.params);this.rn()}}}
{"use strict";const d=self.m,b=[],a=[],e=d.B(d.Fo),c=d.B(d.Fo),f=d.B(d.nd);d.B(d.Rect);d.B(d.Rect);let k=null,g=null,l=null;d.UX=class extends d.fa{constructor(p){super();this.b=p;this.Ow=[]}g(){this.b=null}Ez(p,r){const v=p.j(),q=r.j();v&&q&&v.Kg()&&q.Kg()&&this.Ow.push([p,r])}gM(p,r,v){for(const [q,x]of this.Ow){let u;if(p===q)u=x;else if(p===x)u=q;else continue;u.Sq(r)&&(v.includes(u)||v.push(u))}}sM(p,r){if(!this.Ow.length)return!1;for(const [v,q]of this.Ow)if(p===v&&r===q||p===q&&r===v)return!0;
return!1}tM(){d.C(this.Ow)}qp(p,r){if(!p||!r||p===r)return!1;p=p.j();r=r.j();if(!p.Kg()||!r.Kg())return!1;const v=p.da(),q=r.da();return v.b2(q)?this.Hca(p,r):this.Gca(p,r)}Hca(p,r){if(!p.Kc().uD(r.Kc())||!p.Pj().rL(r.Pj())||p.nl()&&r.nl())return!1;if(p.nl())return this.oG(p,r);if(r.nl())return this.oG(r,p);if(!p.iz()&&!r.iz())return!0;const v=p.ml(),q=r.ml();return v.Kx(q,r.X()-p.X(),r.Y()-p.Y())}Gca(p,r){var v=p.nl(),q=r.nl();if(v&&!q)return this.WP(p,r);if(q&&!v)return this.WP(r,p);if(q||v)return!1;
q=p.da();v=r.da();e.pa(p.ml());c.pa(r.ml());var x=e.Ud;for(let u=0,w=x.length;u<w;u+=2){const z=u+1,A=x[z],[E,G]=q.cp(x[u]+p.X(),A+p.Y());x[u]=E;x[z]=G}p=c.Ud;for(let u=0,w=p.length;u<w;u+=2){q=u+1;x=p[q];const [z,A]=v.cp(p[u]+r.X(),x+r.Y());p[u]=z;p[q]=A}e.RL();c.RL();return e.Kx(c,0,0)}WP(p,r){var v=p.da(),q=r.da();k||(k=d.B(d.Fo));g||(g=d.B(d.Rect));l||(l=d.B(d.nd));var x=r.X(),u=r.Y();const [w,z]=q.cp(x,u),[A,E]=v.xh(w,z);v=A-x;u=E-u;g.pa(r.Kc());g.offset(v,u);if(!p.Kc().uD(g))return!1;l.pa(r.Pj());
l.offset(v,u);if(!p.Pj().rL(l))return!1;k.pa(r.ml());q=k.Ud;for(let G=0,P=q.length;G<P;G+=2)x=G+1,q[G]+=v,q[x]+=u;k.RL();return this.oG(p,r,A,E,k,g,l)}oG(p,r,v,q,x,u,w){u=void 0!==u?u:r.Kc();const z=p.X(),A=p.Y();var E=p.za().ga;v=void 0!==v?v:r.X();q=void 0!==q?q:r.Y();p=r.iz();w=void 0!==w?w:r.Pj();E.wja(u,a);for(let D=0,H=a.length;D<H;++D){var G=a[D];E=G.Aja();if(u.zfa(E,z,A)&&(f.Lj(E),f.offset(z,A),f.rL(w)))if(p){var P=void 0!==x?x:r.ml();if(G=G.d0()){if(G.Kx(P,v-(z+E.N),q-(A+E.K)))return d.C(a),
!0}else if(e.SL(f,0,0),e.Kx(P,v,q))return d.C(a),!0}else if(P=G.d0()){if(e.SL(w,0,0),P.Kx(e,-(z+E.N),-(A+E.K)))return d.C(a),!0}else return d.C(a),!0}d.C(a);return!1}Uz(p,r,v){const q=p.ba();var x=this.b.Db();if(!x)throw Error("cannot call outside event");x=x.Td;if(q.Sb){q.se(!1);d.C(q.F);for(var u of p.ja()){var w=u.j(),z=w.da();const [A,E]=z.xh(r,v,w.Wf());w.Ut(A,E)?q.wp(u):x&&q.vn(u)}}else{u=x?q.fc:q.F;w=0;for(let A=0,E=u.length;A<E;++A){z=u[A];const G=z.j(),P=G.da(),[D,H]=P.xh(r,v,G.Wf());G.Ut(D,
H)?x?q.wp(z):u[w++]=z:x&&(u[w++]=z)}u.length=w}p.$b();return q.XE()}Jy(p,r,v,q){p=p?1!==p.ge||1!==p.he:!1;if(r.Sa)for(const x of r.Rp)p||x.SH?d.Am(q,x.ja()):(x.MS(),x.ZA.Dz(v,q));else p||r.SH?d.Am(q,r.ja()):(r.MS(),r.ZA.Dz(v,q))}$_(p,r,v,q){for(const x of r)this.Jy(p,x,v,q)}g0(p,r,v){const q=this.b.SE();q&&this.$_(p,q.JE(),r,v)}uF(p,r){return p.tR()&&(!r||r.j().uF(p.Fh().get("solidTags")))}qn(p){const r=p.j();this.g0(r.da(),r.Kc(),b);for(const v of b)if(this.uF(v,p)&&this.qp(p,v))return d.C(b),v;
d.C(b);return null}WO(p,r,v,q){q=q||50;const x=p.j(),u=x.X(),w=x.Y();let z=null,A=null;for(let E=0;E<q;++E)if(x.Rg(u+r*E,w+v*E),x.Ba(),!this.qp(p,z))if(z=this.qn(p))A=z;else if(!z)return A&&this.Y3(p,r,v,A),!0;x.Rg(u,w);x.Ba();return!1}Y3(p,r,v,q){let x=2,u=!1;var w=!1;const z=p.j();let A=z.X(),E=z.Y();for(;16>=x;)w=1/x,x*=2,z.Au(r*w*(u?1:-1),v*w*(u?1:-1)),z.Ba(),this.qp(p,q)||this.qn(p)?w=u=!0:(w=u=!1,A=z.X(),E=z.Y());w&&(z.Rg(A,E),z.Ba())}Z3(p){let r=0;const v=p.j(),q=v.X(),x=v.Y();let u=0,w=this.qn(p);
if(!w)return!0;for(;100>=r;){let z=0,A=0;switch(u){case 0:z=0;A=-1;r++;break;case 1:z=1;A=-1;break;case 2:z=1;A=0;break;case 3:A=z=1;break;case 4:z=0;A=1;break;case 5:z=-1;A=1;break;case 6:z=-1;A=0;break;case 7:A=z=-1}u=(u+1)%8;v.Rg(Math.floor(q+z*r),Math.floor(x+A*r));v.Ba();if(!this.qp(p,w)&&(w=this.qn(p),!w))return!0}v.Rg(q,x);v.Ba();return!1}}}
{"use strict";const d=self.m;d.h6=class extends d.fa{constructor(b,a){super();this.gI=b;this.fI=a;this.bj=d.B(d.Bu)}g(){this.bj.g();this.bj=null}Lm(b,a,e){let c=this.bj.aa(b,a);return c?c:e?(c=d.B(d.p0,this,b,a),this.bj.Set(b,a,c),c):null}Ri(b){b=Math.floor(b/this.gI);return isFinite(b)?b:0}Si(b){b=Math.floor(b/this.fI);return isFinite(b)?b:0}Al(b,a,e){if(a)for(let c=a.N,f=a.$;c<=f;++c)for(let k=a.K,g=a.T;k<=g;++k){if(e&&e.Mf(c,k))continue;const l=this.Lm(c,k,!1);l&&(l.Jh(b),l.Zo()&&this.bj.Go(c,
k))}if(e)for(let c=e.N,f=e.$;c<=f;++c)for(let k=e.K,g=e.T;k<=g;++k)a&&a.Mf(c,k)||this.Lm(c,k,!0).eF(b)}Dz(b,a){let e=this.Ri(b.N);const c=this.Si(b.K),f=this.Ri(b.$);b=this.Si(b.T);if(isFinite(f)&&isFinite(b))for(;e<=f;++e)for(let k=c;k<=b;++k){const g=this.Lm(e,k,!1);g&&g.iE(a)}}}}{"use strict";const d=self.m;d.p0=class extends d.fa{constructor(b,a,e){super();this.V=a;this.L=e;this.F=d.B(d.TD)}g(){this.F.g();this.F=null}Zo(){return this.F.Zo()}eF(b){this.F.wc(b)}Jh(b){this.F.Go(b)}iE(b){d.Am(b,this.F.pE())}}}
{"use strict";const d=self.m;d.cna=class{constructor(){this.ifa=this.hfa=0;this.rect=new d.Rect;this.Gx=0}Set(b,a,e,c){this.hfa=e-b;this.ifa=c-a;this.rect.set(b,a,e,c);this.rect.normalize();this.Gx=0;return this}}}
{"use strict";const d=self.m,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),e=self.Xk.xo,c=e.create(),f=d.B(d.nd),k=d.B(d.Rect);d.YD=class extends d.fa{constructor(g){super();this.b=g;this.uk=null;this.gU=!1;this.Jj=this.Za=null;this.II="high-performance";this.Dn=this.Cn=this.Sh=this.Th=this.Rc=this.cd=this.Rk=this.Sk=0;this.ps=!0;this.hj=this.xk=this.wV=0;this.oT=this.AT="letterbox-scale";this.zda=this.yda=0;this.eB=e.create();
this.qj=this.VK="high";this.aq=!1;this.Cv=[];this.dD=new Set;this.HC=self.C3_Shaders;this.kg=this.Jn=0;this.us=NaN;this.xB=null;this.vJ=new Map;this.Sv=NaN;this.jD=new Map;this.KC="";this.qK=1;this.nV=d.B(d.Rect);this.rK="";this.oV=this.bx=null;this.Aw=0;this.Ee=-1;this.Rn=0;this.BJ=l=>this.Rn=l.progress;this.Ef=null;this.Ff={Ox:null,Rx:null,$x:null};this.vK=this.qV=this.wK=0;this.Fj="fade-in";this.uK=null;this.pV=new Promise(l=>this.uK=l)}Sba(g){this.II=g}uca(g){this.gU=!!g}async yh(g){this.uk=g.canvas;
this.b.xi("runtime","window-resize",r=>this.hH(r));this.b.xi("runtime","fullscreenchange",r=>this.Z$(r));this.b.xi("runtime","fullscreenerror",r=>this.$$(r));this.uk.addEventListener("webglcontextlost",r=>this.qv(r));this.uk.addEventListener("webglcontextrestored",()=>this.gH());this.aq=!!g.isFullscreen;var l=navigator.gpu&&this.gU;let p=!1;if(l)try{await this.rR(!0)}catch(r){this.Jj=null}if(!this.sb())try{await this.qR(!0)}catch(r){this.Za=null}this.sb()||(p=!0);if(!this.sb()&&l)try{await this.rR(!1)}catch(r){this.Jj=
null}if(!this.sb())try{await this.qR(!1)}catch(r){this.Za=null}l=this.sb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.j5(p);this.zc(g.windowInnerWidth,g.windowInnerHeight,!0);this.Jj?await this.T9():this.Za&&await this.S9();l.YF(this.ps);l.jk()&&(this.us=0);g=!1;for(const r of this.b.MH){for(const v of r.zg())v.nR(l),v.ib.xx&&(g=!0);r.rn()}this.b.qca(g)}async rR(g){g={powerPreference:this.II,depth:this.b.wm,failIfMajorPerformanceCaveat:g};this.Jj=d.B(d.ca.yra);
await this.Jj.Na(this.uk,g)}async qR(g){g={powerPreference:this.II,$V:!0,depth:this.b.wm,failIfMajorPerformanceCaveat:g};"Android"===d.md.pr&&"Chromium"===d.md.fy&&75>d.md.WD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.jW=1);"standard"===this.b.es?g.alpha=!0:(g.alpha=!1,g.vL=!0);this.Za=d.B(d.ca.R6,this.uk,g);await this.Za.lz()}async T9(){if(this.HC){const g=[];for(const [l,p]of Object.entries(this.HC))g.push(this.Jj.fE(l,
p.jva,d.ca.zra.My()));await Promise.all(g)}}async S9(){if(this.HC){const g=[];for(const [l,p]of Object.entries(this.HC))p.src=p.Ysa,g.push(this.Za.fE(p,d.ca.Wu.My(),l));await Promise.all(g);this.Za.w4();this.Za.Lh()}this.Za.jk()&&(this.xB=d.B(d.ca.jQ,this.Za))}g(){this.uk=this.Za=this.b=null}hH(g){const l=this.b,p=g.devicePixelRatio;l.Ae&&(self.devicePixelRatio=p);l.Oba(p);this.aq=!!g.isFullscreen;this.zc(g.innerWidth,g.innerHeight);l.S();l.ub&&(l.tu()||self.xg.oka())&&l.HF()}Z$(g){this.aq=!!g.isFullscreen;
this.zc(g.innerWidth,g.innerHeight,!0);this.b.S()}$$(g){this.aq=!!g.isFullscreen;this.zc(g.innerWidth,g.innerHeight,!0);this.b.S()}zc(g,l,p=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.Sk!==g||this.Rk!==l||p){this.Sk=g;this.Rk=l;p=this.iu();"letterbox-scale"===p?this.v7(g,l):"letterbox-integer-scale"===p?this.u7(g,l):"off"===p?this.s7(g,l):this.t7(g,l);this.Rca(p);this.uk.width=this.Th;this.uk.height=this.Sh;this.b.tl("canvas","update-size",{marginLeft:this.Cn,
marginTop:this.Dn,styleWidth:this.cd,styleHeight:this.Rc});g=this.sb();g.zc(this.Th,this.Sh,!0);for(var r of this.Cv)g.zY(r);d.C(this.Cv);g.Tt(this.eB,this.Ag()/this.Sf());r=this.b.Ta;r.mp();r.lp()}}v7(g,l){const p=this.b.dl(),r=this.b.hh,v=this.b.gh,q=r/v;g/l>q?(this.cd=Math.round(l*q),this.Rc=l,this.Cn=Math.floor((g-this.cd)/2),this.Dn=0):(this.cd=g,this.Rc=Math.round(g/q),this.Cn=0,this.Dn=Math.floor((l-this.Rc)/2));this.Th=Math.round(this.cd*p);this.Sh=Math.round(this.Rc*p);this.b.Uu(r,v)}u7(g,
l){const p=this.b.dl();1!==p&&(g+=1,l+=1);const r=this.b.hh,v=this.b.gh;var q=r/v;q=g/l>q?l*q*p/r:g/q*p/v;1<q?q=Math.floor(q):1>q&&(q=1/Math.ceil(1/q));this.Th=Math.round(r*q);this.Sh=Math.round(v*q);this.cd=this.Th/p;this.Rc=this.Sh/p;this.Cn=Math.max(Math.floor((g-this.cd)/2),0);this.Dn=Math.max(Math.floor((l-this.Rc)/2),0);this.b.Uu(r,v)}t7(g,l){const p=this.b.dl();this.cd=g;this.Rc=l;this.Th=Math.round(this.cd*p);this.Sh=Math.round(this.Rc*p);this.Dn=this.Cn=0;g=this.el();this.b.Uu(this.cd/g,
this.Rc/g)}s7(g,l){const p=this.b.dl();this.cd=this.b.Jf;this.Rc=this.b.If;this.Th=Math.round(this.cd*p);this.Sh=Math.round(this.Rc*p);this.aq?(this.Cn=Math.floor((g-this.cd)/2),this.Dn=Math.floor((l-this.Rc)/2)):this.Dn=this.Cn=0;this.b.Uu(this.b.Jf,this.b.If)}Rca(g){if("high"===this.VK)this.xk=this.Th,this.hj=this.Sh,this.qj="high";else{let p;if("off"===this.iu()){var l=this.b.Jf;p=this.b.If}else l=this.b.hh,p=this.b.gh;this.Th<l&&this.Sh<p?(this.xk=this.Th,this.hj=this.Sh,this.qj="high"):(this.xk=
l,this.hj=p,this.qj="low","scale-inner"===g?(g=l/p,l=this.Sk/this.Rk,l<g?this.xk=this.hj*l:l>g&&(this.hj=this.xk/l)):"scale-outer"===g&&(g=l/p,l=this.Sk/this.Rk,l>g?this.xk=this.hj*l:l<g&&(this.hj=this.xk/l)))}}h5(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.AT=g;g=this.b.Ta;g.mp();g.lp()}Qy(){return this.AT}X4(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.oT=g;g=this.b.Ta;g.mp();g.lp()}iu(){return this.aq?this.oT:this.Qy()}BP(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");
this.VK=g;this.b.Ta.mp()}static RQ(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Ag(){return this.xk}Sf(){return this.hj}YF(g){this.ps=!!g}pca(g){this.wV=g}U1(){return this.sb().Xo()}qv(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Cv=[];this.dD.clear();this.Za.sl();this.b.qv()}async gH(){await this.Za.AF();
await this.Qra();for(const g of this.b.MH)for(const l of g.zg())l.nR(this.Za);await this.b.gH();console.log("[Construct 3] WebGL context restored")}Uo(){return this.Za}ru(){return this.Jj}sb(){return this.Jj||this.Za}Pm(){return"low"===this.qj?1/this.b.dl():this.el()}el(){const g=this.iu();if("off"===g||"crop"===g)return 1;const l=this.b.hh,p=this.b.gh,r=l/p,v=this.Th/this.Sh;return"scale-inner"!==g&&v>r||"scale-inner"===g&&v<r?this.Rc/p:this.cd/l}xP(g,l,p){l=l||this.xk;p=p||this.hj;const r=l/2+this.yda,
v=p/2+this.zda;{let q=this.eB;if(l!==this.xk||p!==this.hj)g.Tt(c,l/p),q=c;g.Fr(q)}l=g.St(r,v,100*this.b.dl(),r,v,p||this.hj);g.Br(l)}T4(g){var l=this.cd/2;const p=this.Rc/2;g.Fr(this.eB);l=g.St(l,p,100,l,p);g.Br(l)}fu(){return this.Cn}gu(){return this.Dn}cu(g){g.depth=this.b.wm;const l=this.Cv,p=l.findIndex(v=>v.K1(g));let r;-1!==p?(r=l[p],l.splice(p,1)):r=this.sb().kY(g);this.dD.add(r);return r}cn(g){if(!this.dD.has(g))throw Error("render target not in use");this.dD.delete(g);this.Cv.push(g)}*kD(){for(const g of this.b.Ta.Vx())for(const l of g.Yb){const p=
this.vJ.get(l);p&&(yield p)}}iN(g){if(!this.sb().jk())return null;let l=this.vJ.get(g);l||(l={name:g.xa(),XL:d.B(d.ca.jQ,this.Za),mD:0,iW:0},this.vJ.set(g,l));return l.XL}Oca(){const g=this.sb();if(g.jk()&&0===this.kg){this.kg=g.Zh;this.Sv=NaN;for(const l of this.kD())l.mD=NaN}}Vca(){this.Za&&this.Za.jk()&&this.Wca();this.Jj&&this.Jj.jk()&&this.Xca()}Wca(){if(isNaN(this.Sv)&&(this.Sv=this.xB.dN(this.Jn,this.kg),!isNaN(this.Sv))){if(this.b.ub)for(const g of this.kD())if(g.mD=g.XL.dN(this.Jn,this.kg),
isNaN(g.mD))return;this.xB.GM(this.kg);this.us=Math.min(this.Sv,1);if(this.b.ub){for(const g of this.kD())g.XL.GM(this.kg),g.iW=Math.min(g.mD,1);self.xg.F6(this.us,[...this.kD()])}this.Jn=this.kg;this.kg=0}}Xca(){if(0!==this.kg){for(var g=this.Jn;g<this.kg;++g){var l=this.jD.get(g);if(l&&!l.jz())return}l=this.b.Ob();g=d.u2(l.Yb.length+1);for(var p=this.Jn;p<this.kg;++p){var r=this.jD.get(p);if(r){r=r.Zy();for(let v=0,q=Math.min(g.length,r.length/2);v<q;++v){const x=r[2*v],u=r[2*v+1];g[v]=0===Number(x)||
0===Number(u)?NaN:g[v]+Number(u-x)/1E9}}}this.us=d.W(g[0],0,1);if(this.b.ub){p=[];l=l.Yb;for(let v=0,q=Math.min(l.length,g.length-1);v<q;++v)p.push({name:l[v].xa(),iW:d.W(g[v+1],0,1)});self.xg.F6(this.us,p)}for(g=this.Jn;g<this.kg;++g)this.jD.delete(g);this.Jn=this.kg;this.kg=0}}o7(g){this.jD.set(this.Jj.Zh,g)}Sy(){return this.us}TP(g,l,p,r,v,q){this.KC=g;this.qK=l;this.nV.wi(p,r,v,q);return this.bx?this.bx:this.bx=new Promise(x=>{this.oV=x})}I$(){if(this.KC){var g=this.uk,l=this.nV,p=d.W(Math.floor(l.N),
0,g.width),r=d.W(Math.floor(l.K),0,g.height),v=l.width();v=0===v?g.width-p:d.W(Math.floor(v),0,g.width-p);l=l.height();l=0===l?g.height-r:d.W(Math.floor(l),0,g.height-r);(0!==p||0!==r||v!==g.width||l!==g.height)&&0<v&&0<l&&(g=d.yh(v,l),g.getContext("2d").drawImage(this.uk,p,r,v,l,0,0,v,l));d.hy(g,this.KC,this.qK).then(q=>{this.rK=URL.createObjectURL(q);this.bx=null;this.oV(this.rK)});this.KC="";this.qK=1}}n1(g){this.Za&&(2===g?(this.Ef=d.B(d.ca.aP,this.sb()),this.Ef.q5(),this.Ef.e5(),this.Ef.f5(),
this.Ef.l5(),this.Ef.W5(),this.Ef.zc(300,200)):0===g?(g=this.b.Ls)&&g.$m(this.Za).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.w$().then(l=>{"done"===this.Fj?this.Za.Nj(l):this.Ff.Ox=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.wR("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Fj?this.Za.Nj(l):this.Ff.Rx=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.wR("splash-images/splash-website-512.png").then(l=>
{"done"===this.Fj?this.Za.Nj(l):this.Ff.$x=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async w$(){var g=(new URL("splash-images/splash-logo.svg",this.b.rE())).toString();g=await d.cl(g);g=await this.b.c4(g);return await this.Za.ry(g,{Px:"high"})}async wR(g){g=(new URL(g,this.b.rE())).toString();g=await d.cl(g);return await this.Za.ry(g,{Px:"high"})}$E(){this.b.tl("runtime","hide-cordova-splash")}m6(){this.Aw=Date.now();this.b.Cb().addEventListener("loadingprogress",this.BJ);this.Ee=
requestAnimationFrame(()=>this.KQ());3!==this.b.Ks&&this.$E()}async FZ(){if(this.Za){this.Rn=1;var g=this.b.Ks;4===g&&await this.pV;this.pV=this.uK=null;-1!==this.Ee&&(cancelAnimationFrame(this.Ee),this.Ee=-1);this.b.Cb().removeEventListener("loadingprogress",this.BJ);this.BJ=null;this.Ef&&(this.Ef.g(),this.Ef=null);this.b.h4();this.Za.pn();this.Ff.Ox&&(this.Za.Nj(this.Ff.Ox),this.Ff.Ox=null);this.Ff.Rx&&(this.Za.Nj(this.Ff.Rx),this.Ff.Rx=null);this.Ff.$x&&(this.Za.Nj(this.Ff.$x),this.Ff.$x=null);
this.Za.my();this.Za.$t();this.Fj="done";this.Jn=this.Za.Zh;3===g&&this.$E()}}KQ(){if(-1!==this.Ee){var g=this.Za;if(g){g.pn();this.Ee=-1;var l=this.b.ob.LI,p=this.b.Ks;3!==p&&(this.T4(g),g.my(),g.wr(),g.Lh(),g.ag(null));if(0===p)this.P8(l);else if(1===p)this.dA(l,120,0);else if(2===p)this.O8(l);else if(3!==p)if(4===p)this.Q8(l);else throw Error("invalid loader style");g.$t();this.Ee=requestAnimationFrame(()=>this.KQ())}}}O8(g){g?this.Ef.sP(1,0,0):this.Ef.sP(.6,.6,.6);this.Ef.Hr(Math.round(100*this.Rn)+
"%");g=this.cd/2;const l=this.Rc/2;f.zW(g-150,l-100,g+150,l+100);this.Za.ag(this.Ef.Fd());this.Za.gp(f,this.Ef.Gh())}dA(g,l,p){const r=this.Za;r.VF();g?r.rf(1,0,0,1):r.rf(.118,.565,1,1);g=this.cd/2;const v=this.Rc/2,q=l/2;k.wi(g-q,v-4+p,Math.floor(l*this.Rn),8);r.Rect(k);k.wi(g-q,v-4+p,l,8);k.offset(-.5,-.5);k.tD(.5,.5);r.rf(0,0,0,1);r.eO(k);k.tD(1,1);r.rf(1,1,1,1);r.eO(k)}P8(g){var l=this.b.Ls;if(l)if(l=l.Fd()){var p=l.O(),r=l.R(),v=this.cd/2,q=this.Rc/2,x=p/2;r/=2;f.zW(v-x,q-r,v+x,q+r);this.Za.ag(l);
this.Za.nd(f);this.dA(g,p,r+16)}else this.dA(g,120,0);else this.dA(g,120,0)}Q8(g){const l=this.Za,p=this.Ff.Ox,r=this.Ff.Rx,v=this.Ff.$x,q=Date.now();0===this.wK&&(this.Aw=q);const x=this.b.lr()||this.b.Pda&&!this.b.L1(),u=x?0:200,w=x?0:3E3;let z=1;"fade-in"===this.Fj?z=Math.min((q-this.Aw)/300,1):"fade-out"===this.Fj&&(z=Math.max(1-(q-this.vK)/300,0));l.VF();l.rf(.231*z,.251*z,.271*z,z);k.set(0,0,this.cd,this.Rc);l.Rect(k);const A=Math.ceil(this.cd),E=Math.ceil(this.Rc);let G;256<this.Rc?(l.rf(.302*
z,.334*z,.365*z,z),G=Math.max(.005*E,2),k.wi(0,.8*E-G/2,A,G),l.Rect(k),g?l.rf(z,0,0,z):l.rf(.161*z,.953*z,.816*z,z),g=A*this.Rn,k.wi(.5*A-g/2,.8*E-G/2,g,G),l.Rect(k),l.rf(z,z,z,z),l.Lh(),r&&(g=1.5*d.W(.22*E,105,.6*A),G=g/8,k.wi(.5*A-g/2,.2*E-G/2,g,G),l.ag(r),l.Rect(k)),p&&(G=g=Math.min(.395*E,.95*A),k.wi(.5*A-g/2,.485*E-G/2,g,G),l.ag(p),l.Rect(k)),v&&(g=1.5*d.W(.22*E,105,.6*A),G=g/8,k.wi(.5*A-g/2,.868*E-G/2,g,G),l.ag(v),l.Rect(k))):(l.rf(.302*z,.334*z,.365*z,z),G=Math.max(.005*E,2),k.wi(0,.85*E-G/
2,A,G),l.Rect(k),g?l.rf(z,0,0,z):l.rf(.161*z,.953*z,.816*z,z),g=A*this.Rn,k.wi(.5*A-g/2,.85*E-G/2,g,G),l.Rect(k),l.rf(z,z,z,z),l.Lh(),p&&(G=g=.55*E,k.wi(.5*A-g/2,.45*E-G/2,g,G),l.ag(p),l.Rect(k)));this.wK++;"fade-in"===this.Fj&&300<=q-this.Aw&&2<=this.wK&&(this.Fj="wait",this.qV=q);"wait"===this.Fj&&q-this.qV>=w&&1<=this.Rn&&(this.Fj="fade-out",this.vK=q);("fade-out"===this.Fj&&q-this.vK>=300+u||x&&1<=this.Rn&&500>q-this.Aw)&&this.uK()}}}
{"use strict";const d=self.m,b=self.xg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.nP=class extends d.fa{constructor(c){c=Object.assign({},a,c);super();this.Fw=c.messagePort;this.jda=c.baseUrl;this.Ae=!!c.isInWorker;e=c.ife;this.mj=c.exportType;this.oJ=!!c.isiOSCordova;this.Pda=!!c.isFBInstantAvailable;this.lea=c.opusWasmScriptUrl;this.LU=c.opusWasmBinaryUrl;this.ye=this.qda=this.ub=!("preview"!==this.mj||!c.isDebug);this.mI=
0;this.HA=[];this.dda=[];this.fK=this.UU=this.CC="";this.gh=this.hh=0;this.jT=self.devicePixelRatio;this.Ks=this.If=this.Jf=this.VJ=this.UJ=0;this.eD=!1;this.Dk=!0;this.SK=!1;this.Ls=null;this.ob=d.B(d.rX,this,c);this.Ta=d.B(d.h2,this);this.ua=d.B(d.KZ,this);this.Xn=d.B(d.M3,this);this.Uh=d.B(d.UX,this);this.Bb=d.B(d.u6,this);this.FK=d.B(d.y6,this);this.ad=[];this.OJ=new Map;this.PJ=new Map;this.vT=0;this.fda=[];this.MH=[];this.Lv=[];this.Vl=[];this.IB=new Map;this.yB=!1;this.Hw=this.QJ=0;this.Yp=
new Map;this.Zp=new Set;this.JB=new Set;this.tC=[];this.iU=[];this.U=null;this.wm=!1;this.CI="vsync";this.es="standard";this.Wc="trilinear";this.Fk=!1;this.MJ=!0;this.kJ=this.OU=!1;this.Aea={nW:f=>{this.mm=this.Ee=-1;this.Gd(f)},tga:f=>{this.mm=-1;this.Gd(f,!1,"skip-render")},hga:()=>{this.Ee=-1;this.HF()}};this.mm=this.Ee=-1;this.rs=this.co=this.Lk=0;this.PT=this.PB=this.zB=!1;this.gJ=!0;this.dt=0;this.sea=new d.DF(1);this.qea=()=>Math.random();this.fB=this.gB=this.gC=this.bo=0;this.Vd=1;this.EU=
30;this.GI=d.B(d.mr);this.HI=d.B(d.mr);this.UK=d.B(d.mr);this.uB=-1;this.pC=this.$l=this.tB=this.Tp=0;this.Ek=!1;this.zw=this.Sw="";this.Js=null;this.jq="";this.mK=this.eK=null;this.Qb=d.B(d.Event.Cb);this.rI=new Map;this.XJ=new Map;this.hea=0;this.fU=this.kT=this.lT=!1;this.TK=[];this.Qp={pretick:d.B(d.Event,"pretick",!1),tick:d.B(d.Event,"tick",!1),tick2:d.B(d.Event,"tick2",!1),instancedestroy:d.B(d.Event,"instancedestroy",!1),beforelayoutchange:d.B(d.Event,"beforelayoutchange",!1),layoutchange:d.B(d.Event,
"layoutchange",!1)};this.Qp.instancedestroy.instance=null;this.le=d.B(d.Event.Cb);this.EV=null;this.An=d.B(d.hp,d.cy.jG);this.Gp=d.B(d.hp,d.cy.jG);this.Hp=d.B(d.hp,d.cy.jG);this.pw=d.B(d.e2,this,c.jobScheduler);c.canvas&&(this.U=d.B(d.YD,this));this.Fw.onmessage=f=>this._OnMessageFromDOM(f.data);this.xi("runtime","visibilitychange",f=>this.raa(f));this.xi("runtime","opus-decode",f=>this.$ca(f.arrayBuffer));this.xi("runtime","get-remote-preview-status-info",()=>this.B9());this.xi("runtime","js-invoke-function",
f=>this.oA(f));this.xi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Qb.addEventListener("window-blur",f=>this.saa(f));this.Qb.addEventListener("window-focus",()=>this.taa());this.Bb.eX();this.sj=null;this.Kda=new WeakMap;this.Iv={keyboard:null,kW:null,ZL:null}}static Na(c){return d.B(d.nP,c)}g(){d.C(this.ad);this.OJ.clear();this.PJ.clear();this.Ta.g();this.Ta=null;this.ua.g();this.ua=null;this.Xn.g();this.Xn=null;this.ob.g();this.ob=null;this.Uh.g();this.Uh=null;this.Bb.g();
this.Bb=null;this.FK.g();this.FK=null;this.U&&(this.U.g(),this.U=null);this.Qb.g();this.Qb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.IR(c);else if("result"===f)this.kaa(c);else throw Error(`unknown message '${f}'`);}IR(c){if(this.fU){var f=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,p=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var r=c.responseId;if("runtime"===f&&(p&&(c=new d.Event(k),c.data=g,this.Qb.efa(c)),l)){c=new d.Event(k,!0);for(const [v,
q]of Object.entries(g))c[v]=q;this.zh(c)}if(c=this.rI.get(f))if(c=c.get(k)){p=null;try{p=c(g)}catch(v){console.error(`Exception in '${f}' handler '${k}':`,v);null!==r&&this.sA(r,!1,""+v);return}null!==r&&(p&&p.then?p.then(v=>this.sA(r,!0,v)).catch(v=>{console.error(`Rejection from '${f}' handler '${k}':`,v);this.sA(r,!1,""+v)}):this.sA(r,!0,p))}else p||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else p||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.TK.push(c)}sA(c,
f,k){this.Fw.postMessage({type:"result",responseId:c,isOk:f,result:k})}kaa(c){const f=c.responseId,k=c.isOk;c=c.result;const g=this.XJ.get(f);k?g.resolve(c):g.reject(c);this.XJ.delete(f)}xi(c,f,k){let g=this.rI.get(c);g||(g=new Map,this.rI.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,k)}tl(c,f,k){this.Fw.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}fp(c,f,k){const g=this.hea++,l=new Promise((p,r)=>{this.XJ.set(g,{resolve:p,
reject:r})});this.Fw.postMessage({type:"event",component:c,handler:f,data:k,responseId:g});return l}Q3(){if(!this.ub)throw Error("not in debug mode");this.tl("runtime","post-to-debugger",{type:"reload"})}async Hg(c){this.ub?await b.Hg(this):self.xg&&self.xg.bka(this);var [f]=await Promise.all([this.ob.QM("data.json"),this.H$(),this.pw.Hg()]);this.j$(f);await this.U9(c);this.lr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Uo()?(f=this.Uo(),console.info(`[C3 runtime] Hosted in ${this.Ae?
"worker":"DOM"}, rendering with WebGL ${f.Md} [${f.ux}] (${f.N1()?"desynchronized":"standard"} compositing)`)):this.ru()&&console.info(`[C3 runtime] Hosted in ${this.Ae?"worker":"DOM"}, rendering with experimental WebGPU`);this.sb().MI&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.fU=!0;for(const k of this.TK)this.IR(k);d.C(this.TK);this.U&&this.U.m6();for(const k of c.runOnStartupFunctions)this.HA.push(this.gba(k));
await Promise.all([this.ob.hQ(),...this.HA]);d.C(this.HA);if(this.ob.LI)this.U&&this.U.$E();else return this.U&&await this.U.FZ(),await this.Qb.jL(new d.Event("beforeruntimestart")),await this.pn(),this.Fw.postMessage({type:"runtime-ready"}),this}async gba(c){try{await c(this.sj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}j$(c){c=c.project;this.CC=c[0];this.UU=c[16];this.fK=c[31];const f=c[39]||"loading-logo.png";this.Fk=!!c[9];this.hh=this.Jf=c[10];this.gh=this.If=
c[11];this.UJ=this.hh/2;this.VJ=this.gh/2;this.es=c[36];this.CI=c[37];"low-latency"===this.es&&this.H1()&&77>=d.md.WD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.es="standard");this.wm=!!c[40];this.Wc=c[14];this.eD=!!c[18];this.Ks=c[19];this.Hw=c[21];this.OU=c[22];const k=this.ob;k.Iba(c[7],c[25]);k.eca(c[8]);k.Rba(c[32]);k.Wba(c[28]);
k.tca(c[29]);if(0===this.Ks){let v="";this.lr()?k.mA(f)&&(v=k.GE(f)):v=k.QT+f;v&&(this.Ls=k.yz({url:v}))}this.U&&(this.U.h5(d.YD.RQ(c[12])),this.U.BP(c[23]?"high":"low"),this.U.YF(0!==c[24]),this.U.Sba(c[34]),this.U.pca(c[41]),this.U.uca(c[13]));this.Xn.lY();this.tC=self.mM();for(var g of c[2])this.Xn.jY(g);this.tC=self.mM();this.q$();for(var l of c[3])g=d.yF.Na(this,this.ad.length,l),this.ad.push(g),this.OJ.set(g.xa().toLowerCase(),g),this.PJ.set(g.eb,g);for(const v of c[4])this.ad[v[0]].m$(v);for(var p of c[27])l=
p.map(v=>this.ad[v]),this.fda.push(d.B(d.$X,this,l));for(const v of this.ad)v.R$();for(const v of c[5])this.Ta.Na(v);(p=c[1])&&(p=this.Ta.$q(p))&&this.Ta.c5(p);for(var r of c[33])this.Bb.Na(r);for(const v of c[35])this.FK.Na(v);this.R9();for(const v of c[6])this.ua.Na(v);this.ua.Mb();this.N9();d.C(this.tC);this.Zd();r="any";c=c[20];1===c?r="portrait":2===c&&(r="landscape");this.tl("runtime","set-target-orientation",{targetOrientation:r})}fM(c){this.HA.push(c)}y9(){return this.vT++}e7(c){this.MH.push(c)}async U9(c){this.U&&
(await this.U.yh(c),this.U.n1(this.Ks))}async H$(){if(!this.ob.NN("audio/webm; codecs=opus")){var c=null;try{c=this.oJ&&this.ob.hw?await this.ob.AM(this.LU):await this.ob.Yt(this.LU)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.YW(c):this.XW();await this.ZW([this.lea])}}async $ca(c){return await this.PD("OpusDecode",{arrayBuffer:c},[c])}async pn(){this.zB=!0;this.bo=Date.now();if(this.eD){for(var c of this.ad)c.Sa||c.jJ||!c.Af||c.qc();
this.ob.hQ().then(()=>{this.Dk=!1;this.LR()})}else this.Dk=!1;this.ob.m5();this.ub&&b.koa(e);for(const f of this.Ta.Yi)f.M7();c=this.Ta.A_();await c.WG(null,this.sb());await c.FS(!0);this.Tp=performance.now();this.eD||this.LR();(await this.fp("runtime","before-start-ticking")).isSuspended?this.dt++:this.Gd()}LR(){this.ka(d.A.gb.D.n3,null,null);this.tl("runtime","register-sw")}Eh(c){c=Math.floor(c);const f=this.tC;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}q$(){for(const c of self.zX){const f=
d.first(Object.keys(c));this.iU.push(f)}}Fi(c){c=Math.floor(c);const f=this.iU;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}rE(){return this.jda}ia(){return this.ua}kd(){return this.ua.kd()}lf(){return this.ua.lf()}Db(){return this.ua.Db()}Rf(){return this.ua.Rf()}M1(){return 0===this.lf().Ll}hu(){return this.ua.hu()}ou(){return this.Xn.ou()}nf(c){c=Math.floor(c);if(0>c||c>=this.ad.length)throw new RangeError("invalid index");return this.ad[c]}HE(c){return this.OJ.get(c.toLowerCase())||
null}Vy(c){return this.PJ.get(c)||null}*Iea(){for(const c of this.ad)c.Sa||(yield*c.dW())}Cb(){return this.Qb}zh(c){c.Hc=this.sj;const f=this.ub&&!this.ua.oz();f&&b.lG();this.le.dispatchEvent(c);f&&b.RD()}Ho(c){c.Hc=this.sj;return this.le.jL(c)}x5(c,f){if(this.hh!==c||this.gh!==f)this.hh=c,this.gh=f,c=this.Ta,c.mp(),c.lp()}Uu(c,f){if(this.Jf!==c||this.If!==f)this.Jf=c,this.If=f,c=this.Ta,c.mp(),c.lp()}Oba(c){this.jT=c}dl(){return this.jT}Ag(){return this.U?this.U.Ag():this.Jf}Sf(){return this.U?this.U.Sf():
this.If}Pm(){return this.U?this.U.Pm():1}el(){return this.U?this.U.el():1}fu(){return this.U?this.U.fu():0}gu(){return this.U?this.U.gu():0}g_(){return this.U?this.U.cd:0}f_(){return this.U?this.U.Rc:0}Qy(){return this.U?this.U.Qy():"off"}cu(c){return this.U?this.U.cu(c):null}cn(c){this.U&&this.U.cn(c)}qca(c){this.SK=!!c}Sy(){return this.U?this.U.Sy():NaN}pF(){return"nearest"!==this.Wc}h4(){this.Ls&&(this.Ls.g(),this.Ls=null)}Ob(){return this.Ta.Ob()}yz(c){return this.ob.yz(c)}dE(c,f,k,g,l){return this.Bi(c,
f,!1,k,g,!1,l,void 0,l)}Bi(c,f,k,g,l,p,r,v,q){var x=null;let u=null;c instanceof d.yF?(u=c,u.Sa&&(x=u.Rp,u=x[Math.floor(this.ul()*x.length)]),x=u.ks):(x=c,u=this.nf(x[1]));c=u.yb().Af;if(this.Dk&&c&&!u.jJ)return null;const w=f;c||(f=null);var z=k&&!p&&x&&!this.Yp.has(x[2])?x[2]:this.Hw++;const A=x?x[0]:null,E=d.B(d.Instance,{Hc:this,BL:u,Yd:f,LW:A,cW:x?x[3]:null,uid:z});this.Yp.set(z,E);z=null;c&&(z=E.j(),"undefined"!==typeof g&&"undefined"!==typeof l&&(z.bg(g),z.Re(l)),u.jS());f&&(q||f.Ug(E,!0),
1===f.ge&&1===f.he||u.pH(!0),f.nc().mO(u));this.QJ++;let G=!0;v&&(v=v.H(),v.Wb()&&u.Wb()&&u.Yg===v.Yg&&(G=!1));if(u.Wb()&&!k&&!p&&G){for(var P of u.Yg.gm)P!==u&&(v=this.Bi(P,w,!1,z?z.X():g,z?z.Y():l,!0,!1,void 0,q),E.Or(v));for(var D of E.Jd){D.Or(E);for(const H of E.Jd)D!==H&&D.Or(H)}}c&&!k&&r&&this.zG(E,A,z,f,g,l,q);if(u.Wb()&&!k&&!p&&r)for(const H of E.Jd)if(k=H.j())P=H.yb(),D=H.H().ks[0],P.Af?this.zG(H,D,k,f,k.X(),k.Y(),q):this.zG(H,D,k,f,void 0,void 0,q);!p&&r&&("undefined"===typeof g&&(g=A[0]),
"undefined"===typeof l&&(l=A[1]),f=z.cz(),g=g-z.X()+f.X(),l=l-z.Y()+f.Y(),f.Rg(g,l));u.sv();l=x?d.lD(x[5]):null;x=x?x[4].map(H=>d.lD(H)):null;c&&A&&A[13]&&E.Vba();E.aA(l,x);this.Vl.push(E);this.yB=!0;this.ub&&b.cka(E);return E}zG(c,f,k,g,l,p,r){var v=k.gV,q=k.nK;c.j().ZF(v);if(q){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof p&&(p=f[1]);v=new Set;k=f[0];f=f[1];for(const A of q){var x=A[1],u=A[2];q=A[3];var w=!!A[4];const E=A[5];u=this.Ta.FE(A[0]).da(x).I_(u);x=this.nf(u[1]);var z=c.D0(x);
const G=v.has(x);z&&!G&&w?(w=c.xN(x),z=l+u[0][0]-k,u=p+u[0][1]-f,w.j().Rg(z,u),w.j().ZF(E),c.Im(w,{Lt:!!(q>>0&1),Mt:!!(q>>1&1),Pq:!!(q>>2&1),Oq:!!(q>>3&1),Kt:!!(q>>4&1),Fx:!!(q>>5&1),Nt:!!(q>>6&1)}),v.add(x)):(x=this.Bi(u,g,!1,l+u[0][0]-k,p+u[0][1]-f,!1,!0,c,r),x.j().ZF(E),c.Im(x,{Lt:!!(q>>0&1),Mt:!!(q>>1&1),Pq:!!(q>>2&1),Oq:!!(q>>3&1),Kt:!!(q>>4&1),Fx:!!(q>>5&1),Nt:!!(q>>6&1)}))}}}Jm(c){if(!this.Zp.has(c)){var f=c.H(),k=this.IB.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.IB.set(f,
k);this.ub&&b.dka(c);c.ZG();this.yB=!0;if(c.Wb())for(const g of c.Jd)this.Jm(g);for(const g of c.children())g.Ny()&&this.Jm(g);this.Ta.UN()||this.Ek||(f=this.ia(),f.He(!0),c.Kca(),f.He(!1));c.e9(this.Ta.UN())}}Zd(){this.yB&&(this.g9(),this.h9(),this.yB=!1,this.S())}g9(){for(const c of this.Vl){const f=c.H();f.Ug(c);for(const k of f.Yh)k.Ug(c),k.sv()}d.C(this.Vl)}h9(){this.Qb.yr(!0);for(const [c,f]of this.IB.entries())this.i9(c,f),f.clear();this.IB.clear();this.Qb.yr(!1)}i9(c,f){for(const g of f){var k=
this.Qp.instancedestroy;k.instance=g;this.Qb.dispatchEvent(k);this.Yp.delete(g.lc);if(k=g.j())k.UR(),k.VR(),k.ZG();this.Zp.add(g);this.QJ--}d.rh(c.ja(),f);c.sv();this.JB.add(c);0===c.ja().length&&c.pH(!1);for(const g of c.Yh)d.rh(g.ja(),f),g.sv(),this.JB.add(g);if(c.yb().Af){c=new Set([...f].map(g=>g.j().da()));for(const g of c)g.Maa(f)}}*qL(c){for(const f of this.Vl)c.Sa?f.H().VD(c)&&(yield f):f.H()===c&&(yield f)}x9(){return this.Hw++}E$(c,f){this.Yp.set(c,f)}qv(){this.Qb.dispatchEvent(d.B(d.Event,
"webglcontextlost"));this.Tu(!0);for(var c of this.ad)!c.Sa&&c.B0()&&c.dn();(c=this.Ob())&&c.qv();d.vu.qr();d.KN.qr()}async gH(){await this.Ob().WG(null,this.Uo());this.Qb.dispatchEvent(d.B(d.Event,"webglcontextrestored"));this.Tu(!1);this.S()}raa(c){this.Tu(c.hidden)}saa(c){this.lr()&&this.OU&&!d.md.rF&&!c.data.parentHasFocus&&(this.Tu(!0),this.kJ=!0)}taa(){this.kJ&&(this.Tu(!1),this.kJ=!1)}WR(){const c=this.Aea;"vsync"===this.CI?-1===this.Ee&&(this.Ee=self.requestAnimationFrame(c.nW)):"unlimited-tick"===
this.CI?(-1===this.mm&&(this.mm=d.KF(c.tga)),-1===this.Ee&&(this.Ee=self.requestAnimationFrame(c.hga))):-1===this.mm&&(this.mm=d.KF(c.nW))}A7(){-1!==this.Ee&&(self.cancelAnimationFrame(this.Ee),this.Ee=-1);-1!==this.mm&&(d.GX(this.mm),this.mm=-1)}Ym(){return 0<this.dt}Tu(c){var f=this.Ym();this.dt+=c?1:-1;0>this.dt&&(this.dt=0);c=this.Ym();!f&&c?(console.log("[Construct 3] Suspending"),this.A7(),this.Qb.dispatchEvent(d.B(d.Event,"suspend")),this.ka(d.A.gb.D.B3,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),
this.Tp=this.gC=f=performance.now(),this.$l=this.pC=this.tB=this.uB=0,this.Qb.dispatchEvent(d.B(d.Event,"resume")),this.ka(d.A.gb.D.y3,null,null),this.tu()||this.Gd(f))}b7(c){this.An.wc(c)}Oaa(c){this.An.Jh(c)}Naa(c){this.Gp.Jh(c)}Paa(c){this.Hp.Jh(c)}q7(){this.An.Kh(!0);for(const c of this.An)c.Gd();this.An.Kh(!1)}p7(){this.Gp.Kh(!0);for(const c of this.Gp);this.Gp.Kh(!1)}r7(){this.Hp.Kh(!0);for(const c of this.Hp);this.Hp.Kh(!1)}*W7(){this.An.Kh(!0);for(const c of this.An){const f=c.Gd();d.Vm(f)&&
(yield*f)}this.An.Kh(!1)}*V7(){this.Gp.Kh(!0);for(const c of this.Gp)d.Vm(void 0)&&(yield*void 0);this.Gp.Kh(!1)}*X7(){this.Hp.Kh(!0);for(const c of this.Hp)d.Vm(void 0)&&(yield*void 0);this.Hp.Kh(!1)}async Gd(c,f,k){this.PT=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.zB&&(!this.Ym()||f||g)&&(f=performance.now(),this.PB=!0,this.K$(c||0),c=this.o6(),this.ye&&await c,c=this.Qb.ffa(this.Qp.pretick),c instanceof Promise&&await c,c=this.n6(),this.ye&&await c,this.P$()&&
await this.G9(),this.Ta.kr()&&await this.G$(),c=this.p6(),this.ye&&await c,k&&this.HF(),this.Ym()||g||this.WR(),this.Lk++,this.co++,this.rs++,this.PB=!1,this.$l+=performance.now()-f)}async o6(){const c=this.ua,f=this.ub;this.Zd();c.He(!0);this.Eu(this.Ob());f&&b.Kr();this.ye?await c.tY():c.F4();f&&b.WW();this.Du();c.He(!1);this.Zd();c.He(!0)}async n6(){const c=this.ub,f=this.ye,k=this.Qb,g=this.Qp,l=this.EV;c&&b.Kr();f?await this.xy(this.W7()):this.q7();f?await this.xy(this.V7()):this.p7();c&&b.RW();
c&&b.Kr();f?await this.EM(g.tick):k.dispatchEvent(g.tick);c&&b.aX();this.ua.He(!1);this.zh(l.tick)}async p6(){const c=this.ua,f=this.Qb,k=this.Qp,g=this.ub,l=this.ye;g&&b.Kr();l?await c.rY(this.Ta):c.D4(this.Ta);g&&b.WW();this.Uh.tM();this.SR();this.gJ=!1;c.He(!0);g&&b.Kr();l?await this.xy(this.X7()):this.r7();g&&b.RW();g&&b.Kr();l?await this.EM(k.tick2):f.dispatchEvent(k.tick2);g&&b.aX();c.He(!1);l&&await c.mP()}SR(){if(0!==this.Zp.size){var c=this.Qb;c.yr(!0);for(const f of this.JB)f.$n.ip(this.Zp);
this.JB.clear();this.ua.j4(this.Zp);for(const f of this.Zp)f.g();this.Zp.clear();c.yr(!1)}}async G$(){const c=this.Ta;let f=0;for(;c.kr()&&10>f++;)await this.GQ(c.Kw)}K$(c){let f=0;0!==this.gC&&(f=Math.max(c-this.gC,0)/1E3,.5<f&&(f=0),this.gB=Math.min(f,1/this.EU));this.gC=c;this.fB=this.gB*this.Vd;this.GI.wc(this.fB);this.HI.wc(f*this.Vd);this.UK.wc(this.gB);this.U&&this.U.Vca();1E3<=c-this.Tp&&(this.Tp+=1E3,1E3<=c-this.Tp&&(this.Tp=c),this.tB=this.uB,this.uB=0,this.pC=Math.min(this.$l/1E3,1),this.$l=
0,this.U&&this.U.Oca(),this.ub&&b.hra());this.uB++}async GQ(c){const f=this.Qb,k=this.Ta.Ob();await k.Fca();k.Nca(c,this.sb());k===c&&this.ua.jy();this.Uh.tM();this.SR();f.dispatchEvent(this.Qp.beforelayoutchange);d.Zk.CP(!0);await c.WG(k,this.sb());d.Zk.CP(!1);await c.FS(!1);f.dispatchEvent(this.Qp.layoutchange);this.S();this.gJ=!0;this.Zd()}S(){this.MJ=!0}Uo(){return this.U?this.U.Uo():null}ru(){return this.U?this.U.ru():null}sb(){return this.U?this.U.sb():null}HF(){const c=this.U;if(c&&!c.U1()){var f=
this.sb(),k=f.jk(),g=k&&f.yu();k=k&&!1;g&&f.JX();if(this.MJ){var l=this.Ta.Ob();f.pn();var p=this.ub;p&&b.Kr();this.MJ=!1;var r=null;g&&(r=c.xB.SD(),f.mG(r));g=null;k&&(g=f.nqa(2*(1+l.Yb.length)),f.V6(0));this.wm&&"low"===c.qj?f.d5(c.Ag(),c.Sf()):f.O4();this.Waa(this.sb(),l);r&&f.kE(r);k&&(f.V6(1),this.U.o7(g));f.$t();p&&(b.Yga(),b.jra());c&&c.I$()}else f.a1()}}Waa(c,f){c.Lh();c.RF();c.rf(1,1,1,1);c.Qe(null);c.ag(null);c.kn(this.wm);f.oe(c)}ka(c,f,k){if(!this.zB)return!1;var g=!this.PB&&!this.ua.oF();
let l=0;g&&(l=performance.now());const p=this.ub;p&&this.Nz(!1);c=this.ua.wv(this.Ta,c,f,k);g&&(g=performance.now()-l,this.$l+=g,p&&b.iha(g));p&&this.Nz(!0);return c}async ab(c,f,k){if(!this.ye)return this.ka(c,f,k);if(!this.zB)return!1;if(this.tu())return this.ua.b4(c,f,k);if(!this.Ob())return this.ua.FF(c,f,k);const g=performance.now();c=this.ua.$u(this.Ta,c,f,k);for(f=c.next();!f.done;)await this.Vq(f.value),f=c.next();this.Ym()||this.ua.oF()||(await this.ua.mP(),this.PT&&!this.PB&&this.WR());
this.$l+=performance.now()-g;return f.value}fk(c){return this.sea.wc(c)}Eu(c){this.Lv.push(c)}Du(){if(!this.Lv.length)throw Error("layout stack empty");this.Lv.pop()}Ha(){return this.Lv.length?this.Lv.Ge(-1):this.Ob()}Mm(c){return c&&-1!==c.Vd?this.gB*c.Vd:this.fB}dG(c){if(isNaN(c)||0>c)c=0;this.Vd=c}IP(c){this.EU=d.W(c,1,120)}Cg(){return this.GI.aa()}CE(){return this.HI.aa()}VE(){return this.UK.aa()}ol(){++this.rs}Ch(c){if(this.Ek)throw Error("cannot call while loading state - wait until afterload event");
return this.Yp.get(c)||null}PR(){this.Yp.clear();for(const c of this.ad)if(!c.Sa)for(const f of c.ja())this.Yp.set(f.lc,f)}lr(){return"preview"===this.mj}L1(){return"cordova"===this.mj}H1(){return"Android"===d.md.pr&&("cordova"===this.mj||"playable-ad"===this.mj||"instant-games"===this.mj)}SE(){return this.Xn.SE()}A5(c){c=!!c;this.Fk!==c&&(this.Fk=c,this.Ta.lp(),this.S())}H4(c){this.Sw=c}n2(c){this.zw=c}wF(c){this.Js=c}P$(){return!(!this.Sw&&!this.zw&&null===this.Js)}async G9(){this.Sw&&(this.Zd(),
await this.z8(this.Sw),this.xG());this.zw&&(await this.y8(this.zw),this.xG(),this.ub&&b.oqa());if(null!==this.Js){this.Zd();try{await this.HQ(this.Js),this.jq=this.Js,await this.ab(d.A.gb.D.MO,null),this.jq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.ab(d.A.gb.D.NO,null)}this.xG()}}xG(){this.zw=this.Sw="";this.Js=null}bR(){this.eK||(this.eK=localforage.gL({name:"c3-localstorage-"+this.fK,description:this.CC}));return this.eK}cR(){this.mK||(this.mK=
localforage.gL({name:"c3-savegames-"+this.fK,description:this.CC}));return this.mK}async z8(c){const f=await this.zba();try{await this.cR().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.jq=f,await this.ab(d.A.gb.D.z3,null),this.jq=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.ab(d.A.gb.D.A3,null)}}async y8(c){try{const f=await this.cR().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
f.length+" chars)");await this.HQ(f);this.jq=f;await this.ab(d.A.gb.D.MO,null);this.jq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.ab(d.A.gb.D.NO,null)}}async zba(){const c={c3save:!0,version:1,rt:{time:this.Cg(),timeRaw:this.CE(),walltime:this.VE(),timescale:this.Vd,tickcount:this.Lk,execcount:this.rs,next_uid:this.Hw,running_layout:this.Ob().eb,start_time_offset:Date.now()-this.bo},types:{},layouts:{},events:this.ua.la(),timelines:this.Bb.la(),user_script_data:null};
for(var f of this.ad)f.Sa||f.HN()||(c.types[f.eb.toString()]=f.la());for(const k of this.Ta.Yi)c.layouts[k.eb.toString()]=k.la();f=this.CG("save");f.saveData=null;await this.Ho(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async HQ(c){var f=this.Ta;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Qb.dispatchEvent(d.B(d.Event,"beforeload"));
for(var k of this.Iea())k.qA();this.Ek=!0;k=c.rt;this.GI.Set(k.time);k.hasOwnProperty("timeRaw")&&this.HI.Set(k.timeRaw);this.UK.Set(k.walltime);this.Vd=k.timescale;this.Lk=k.tickcount;this.rs=k.execcount;this.bo=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Ob().eb)if(g=f.FE(g))await this.GQ(g);else return;for(const [l,p]of Object.entries(c.types))g=this.Vy(parseInt(l,10)),!g||g.Sa||g.HN()||g.qa(p);this.Zd();this.PR();this.Ek=!1;this.Hw=k.next_uid;for(const [l,p]of Object.entries(c.layouts))(k=
f.FE(parseInt(l,10)))&&k.qa(p);this.ua.qa(c.events);for(const l of this.ad)if(!l.Sa&&l.Wb())for(const p of l.ja()){k=p.Mo();for(const r of l.Yg.gm)if(r!==l){g=r.ja();if(0>k||k>=g.length)throw Error("missing sibling instance");p.Or(g[k])}}this.Bb.qa(c.timelines);f.mp();f.lp();this.Qb.dispatchEvent(d.B(d.Event,"afterload"));f=this.CG("load");f.saveData=c.user_script_data;await this.Ho(f);this.S()}async ZW(c){c=(await Promise.all(c.map(f=>this.ob.cl(f)))).map(f=>URL.createObjectURL(f));this.pw.$0(c)}XW(){this.pw.J4()}YW(c){this.pw.K4(c)}PD(c,
f,k){return this.pw.PD(c,f,k)}fF(c,f){this.tl("runtime","invoke-download",{url:c,filename:f})}async c4(c){var f=f||2048;var k=k||2048;return this.Ae?(await this.fp("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}ur(){this.lT||(this.lT=!0,this.tl("runtime","enable-device-orientation"))}fn(){this.kT||(this.kT=!0,this.tl("runtime","enable-device-motion"))}ul(){return this.qea()}B9(){const c=
this.Uo();return{fps:this.tB,cpu:this.pC,gpu:this.Sy(),layout:this.Ob()?this.Ob().xa():"",renderer:c?c.ux:"<unavailable>"}}tu(){return this.ub?b.tu():!1}Vq(c){return this.ye?b.Vq(c):Promise.resolve()}mc(){return this.ye?b.Pha():!1}Nz(c){c?this.mI--:this.mI++;this.Qca()}Qca(){this.ye=this.ub&&this.qda&&0===this.mI}hF(){return this.ub&&b.hF()}lF(){return this.ub&&this.sb().jk()&&b.lF()}async xy(c){if(c)for(const f of c)await this.Vq(f)}EM(c){return this.xy(this.Qb.gfa(c))}oA(c){return this.ua.oA(c.name,
c.params)}CG(c){c=d.B(d.Event,c,!1);c.Hc=this.sj;return c}R9(){var c={};for(const f of this.ad)c[f.Fi()]={value:f.Zv,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.sj=new self.O0(this,c);this.EV={tick:this.CG("tick")}}N9(){const c={};for(const f of this.ia().NH)c[f.Fi()]=f.dR();this.sj.O9(c)}yR(c,f){this.Kda.set(c,f)}};self.C3_CreateRuntime=d.nP.Na;self.C3_InitRuntime=(c,f)=>c.Hg(f)}
{"use strict";const d=self.m;d.e2=class extends d.fa{constructor(b,a){super();this.b=b;this.fq=new Map;this.jea=0;this.bw=a.inputPort;a.outputPort.onmessage=e=>this.KR(e);this.xU=a.maxNumWorkers;this.qw=1;this.IT=this.fw=!1}async Hg(){}$0(b){this.bw.postMessage({type:"_import_scripts",scripts:b})}J4(){this.bw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}K4(b){this.bw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}PD(b,a,e){e||(e=[]);const c=this.jea++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:e};a=new Promise((f,k)=>{this.fq.set(c,{resolve:f,progress:void 0,reject:k,fL:!1})});this.bw.postMessage(b,e);this.AR();return a}KR(b){b=b.data;const a=b.type,e=b.jobId;switch(a){case "result":this.eaa(e,b.result);break;case "progress":this.daa(e,b.progress);break;case "error":this.caa(e,b.error);break;case "ready":this.faa();break;default:throw Error(`unknown message from worker '${a}'`);}}eaa(b,a){const e=this.fq.get(b);if(!e)throw Error("invalid job ID");
e.fL||e.resolve(a);this.fq.delete(b)}daa(b,a){b=this.fq.get(b);if(!b)throw Error("invalid job ID");!b.fL&&b.progress&&b.progress(a)}caa(b,a){const e=this.fq.get(b);if(!e)throw Error("invalid job ID");e.fL||e.reject(a);this.fq.delete(b)}faa(){this.fw&&(this.fw=!1,this.qw++,this.qw<this.xU?this.AR():this.bw.postMessage({type:"_no_more_workers"}))}async AR(){if(!(this.qw>=this.xU||this.fw||this.IT||this.fq.size<=this.qw))try{this.fw=!0,(await this.b.fp("runtime","create-job-worker")).outputPort.onmessage=
b=>this.KR(b)}catch(b){this.IT=!0,this.fw=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.qw} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.m;let b=null,a="",e="",c=[],f="",k="",g="";const l=d.B(d.nX);function p(r,v){r=r[1];v=v[1];if("number"===typeof r&&"number"===typeof v)return r-v;r=""+r;v=""+v;return r<v?-1:r>v?1:0}d.A.gb=class extends d.ek{constructor(r){super(r);this.Df=this.b.ia().Df;this.Rd=this.b.ia().kd();this.$v=this.Vp=0;this.CT=new Map}g(){super.g()}S(){this.b.S()}ka(r){this.b.ka(r,null,null)}Xy(r,v){b&&r===a&&v===e||(b=new RegExp(r,v),a=r,e=v);b.lastIndex=0;return b}pN(r,v,q){if(r===f&&v===k&&
q===g)return c;const x=this.Xy(v,q);c=r.match(x);f=r;k=v;g=q;return c}async YG(r,v){if(v.length){this.Vp+=v.length;var q=[];for(const x of v)q.push(r.mO(x));await d.U3(q,()=>{this.$v++});this.$v++;this.$v===this.Vp&&(this.b.ka(d.A.gb.D.h3,null,null),this.Vp=this.$v=0)}}KS(r,v){for(const q of v)0===q.F.length&&r.y2(q)}ZQ(){return l}Xaa(r){var v=this.b.ia();const q=v.kd(),x=q.mf(),u=x.Db(),w=u.Dd();var z=x.ak();const A=q.Ja(u),E=v.Df,G=E.Ja();if(z)for(z=0;z<r&&!G.uc;++z)v.Oe(w),G.Oc(z),u.Og(x,A),v.Lb(w);
else for(v=0;v<r&&!G.uc;++v)G.Oc(v),u.Og(x,A);q.Ia();E.Ia();return!1}*d8(r){var v=this.b.ia();const q=v.kd(),x=q.mf(),u=x.Db(),w=u.Dd();var z=x.ak();const A=q.Ja(u),E=v.Df,G=E.Ja();if(z)for(z=0;z<r&&!G.uc;++z)v.Oe(w),G.Oc(z),yield*u.yg(x,A),v.Lb(w);else for(v=0;v<r&&!G.uc;++v)G.Oc(v),yield*u.yg(x,A);q.Ia();E.Ia();return!1}ada(){var r=this.b.ia();const v=r.kd(),q=v.mf(),x=q.Db(),u=x.Dd();var w=q.ak();const z=v.Ja(x),A=r.Df,E=A.Ja();if(w)for(w=0;!E.uc;++w)r.Oe(u),E.Oc(w),x.Og(q,z)||E.uf(),r.Lb(u);else for(r=
0;!E.uc;++r)E.Oc(r),x.Og(q,z)||E.uf();v.Ia();A.Ia();return!1}*w8(){var r=this.b.ia();const v=r.kd(),q=v.mf(),x=q.Db(),u=x.Dd();var w=q.ak();const z=v.Ja(x),A=r.Df,E=A.Ja();if(w)for(w=0;!E.uc;++w)r.Oe(u),E.Oc(w),(yield*x.yg(q,z))||E.uf(),r.Lb(u);else for(r=0;!E.uc;++r)E.Oc(r),(yield*x.yg(q,z))||E.uf();v.Ia();A.Ia();return!1}j9(r,v,q){var x=this.b.ia();const u=x.kd(),w=u.mf(),z=w.Db(),A=z.Dd(),E=w.ak(),G=u.Ja(z),P=x.Df,D=P.Ja();D.Tz(r);if(q<v)if(E)for(r=v;r>=q&&!D.uc;--r)x.Oe(A),D.Oc(r),z.Og(w,G),x.Lb(A);
else for(x=v;x>=q&&!D.uc;--x)D.Oc(x),z.Og(w,G);else if(E)for(r=v;r<=q&&!D.uc;++r)x.Oe(A),D.Oc(r),z.Og(w,G),x.Lb(A);else for(x=v;x<=q&&!D.uc;++x)D.Oc(x),z.Og(w,G);u.Ia();P.Ia();return!1}*a8(r,v,q){var x=this.b.ia();const u=x.kd(),w=u.mf(),z=w.Db(),A=z.Dd(),E=w.ak(),G=u.Ja(z),P=x.Df,D=P.Ja();D.Tz(r);if(q<v)if(E)for(r=v;r>=q&&!D.uc;--r)x.Oe(A),D.Oc(r),yield*z.yg(w,G),x.Lb(A);else for(x=v;x>=q&&!D.uc;--x)D.Oc(x),yield*z.yg(w,G);else if(E)for(r=v;r<=q&&!D.uc;++r)x.Oe(A),D.Oc(r),yield*z.yg(w,G),x.Lb(A);
else for(x=v;x<=q&&!D.uc;++x)D.Oc(x),yield*z.yg(w,G);u.Ia();P.Ia();return!1}k9(r){var v=this.b.ia();const q=v.kd(),x=q.mf(),u=x.Db(),w=u.Dd();var z=x.ak();const A=q.Ja(u),E=v.Df,G=E.Ja(),P=r.Wb(),D=r.ba(),H=l.Ja();d.ud(H,D.ja());if(z)for(let J=0,M=H.length;J<M&&!G.uc;++J)v.Oe(w),z=H[J],r.ba().ik(z),P&&z.Pi(),G.Oc(J),u.Og(x,A),v.Lb(w);else{D.se(!1);r=D.F;d.C(r);r.push(null);for(let J=0,M=H.length;J<M&&!G.uc;++J)v=H[J],r[0]=v,P&&v.Pi(),G.Oc(J),u.Og(x,A)}q.Ia();E.Ia();d.C(H);l.Ia();return!1}*b8(r){var v=
this.b.ia();const q=v.kd(),x=q.mf(),u=x.Db(),w=u.Dd();var z=x.ak();const A=q.Ja(u),E=v.Df,G=E.Ja(),P=r.Wb(),D=r.ba(),H=l.Ja();d.ud(H,D.ja());if(z)for(let J=0,M=H.length;J<M&&!G.uc;++J)v.Oe(w),z=H[J],r.ba().ik(z),P&&z.Pi(),G.Oc(J),yield*u.yg(x,A),v.Lb(w);else{D.se(!1);r=D.F;d.C(r);r.push(null);for(let J=0,M=H.length;J<M&&!G.uc;++J)v=H[J],r[0]=v,P&&v.Pi(),G.Oc(J),yield*u.yg(x,A)}q.Ia();E.Ia();d.C(H);l.Ia();return!1}l9(r,v){var q=this.b.ia();const x=q.kd(),u=q.Rf(),w=x.mf(),z=w.Db(),A=z.Dd(),E=w.ak(),
G=x.Ja(z),P=q.Df,D=P.Ja(),H=r.Wb(),J=r.ba(),M=l.Ja();d.C(M);const Q=J.ja();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],u.Gu(1,R)]);M.sort(p);1===v&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!D.uc;++R)q.Oe(A),v=M[R][0],r.ba().ik(v),H&&v.Pi(),D.Oc(R),z.Og(w,G),q.Lb(A);else{J.se(!1);r=J.F;d.C(r);r.push(null);for(let R=0,V=M.length;R<V&&!D.uc;++R)q=M[R][0],r[0]=q,H&&q.Pi(),D.Oc(R),z.Og(w,G)}x.Ia();P.Ia();d.C(M);l.Ia();return!1}*c8(r,v){var q=this.b.ia();const x=q.kd(),u=q.Rf(),w=x.mf(),z=w.Db(),A=
z.Dd(),E=w.ak(),G=x.Ja(z),P=q.Df,D=P.Ja(),H=r.Wb(),J=r.ba(),M=l.Ja();d.C(M);const Q=J.ja();for(let R=0,V=Q.length;R<V;++R)M.push([Q[R],u.Gu(1,R)]);M.sort(p);1===v&&M.reverse();if(E)for(let R=0,V=M.length;R<V&&!D.uc;++R)q.Oe(A),v=M[R][0],r.ba().ik(v),H&&v.Pi(),D.Oc(R),yield*z.yg(w,G),q.Lb(A);else{J.se(!1);r=J.F;d.C(r);r.push(null);for(let R=0,V=M.length;R<V&&!D.uc;++R)q=M[R][0],r[0]=q,H&&q.Pi(),D.Oc(R),yield*z.yg(w,G)}x.Ia();P.Ia();d.C(M);l.Ia();return!1}hA(r,v){let q=this.CT.get(r);if(q)return q;
if(!v)return null;q={to:null,JD:new Map};this.CT.set(r,q);return q}x8(r,v,q,x,u){v.Ke().C4(q);x&&r.Lb(u)}*Y7(r,v,q,x,u){yield*v.Ke().qY(q);x&&r.Lb(u)}}}{"use strict";const d=self.m;d.A.gb.dg=class extends d.fa{constructor(b){super();this.I=b;this.b=b.G();this.di=b.yb()}qc(){}g(){this.di=this.b=this.I=null}}}{"use strict";const d=self.m;d.A.gb.Instance=class extends d.fa{constructor(b){super();this.J=b;this.I=this.J.H();this.Va=this.I.Va;this.b=this.J.G()}g(){this.b=this.Va=this.I=this.J=null}}}
{"use strict";const d=self.m,b=[];d.A.gb.D={NZ(){return!0},LO(){return!0},k3(){return!0},B3(){return!0},y3(){return!0},Ym(){return this.b.Ym()},LM(){const a=this.b.lf();return a.tI?!1:!a.gq},Tqa(){const a=this.b.Rf().Fh();let e=a.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,a.set("TriggerOnce_lastTick",-1));const c=this.b.Lk;a.set("TriggerOnce_lastTick",c);return this.b.gJ||e!==c-1},MZ(a){const e=this.b.Rf().Fh(),c=e.get("Every_lastTime")||0,f=this.b.Cg();e.has("Every_seconds")||e.set("Every_seconds",
a);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",a),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},xu(a){return(a=this.b.ia().$M(a))&&a.xu()},lr(){return this.b.lr()},rF(){return d.md.rF},n3(){return!0},Q2(){return!0},Uia(){return!0},z3(){return!0},A3(){return!0},MO(){return!0},NO(){return!0},Rla(a){return!!this.b.Ch(a)},Jka(a){switch(a){case 0:return"browser"===d.md.aE;case 1:return"iOS"===
d.md.pr;case 2:return"Android"===d.md.pr;case 8:return"cordova"===d.md.aE;case 9:return"scirra-arcade"===this.b.mj;case 10:return"nwjs"===d.md.aE;case 13:return"windows-uwp"===this.b.mj;default:return!1}},ena(a,e,c){return this.Xy(e,c).test(a)},eia(a,e,c){return d.compare(a,e,c)},hia(a,e,c){return a>=e&&a<=c},XX(a,e,c){return d.compare(a.ld(),e,c)},iia(a){return!!a.ld()},uia(a,e){const c=this.b.Cg();return 0===a?(a=this.b.Rf().Fh(),!a.get("CompareTime_executed")&&c>=e?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,e)},Gka(a){return isNaN(a)},hX(a,e,c){return d.nt(d.Ga(a),d.Ga(c))<=d.Ga(e)},J1(a,e){return d.Kf(d.Ga(a),d.Ga(e))},I1(a,e,c){a=d.Ga(a);e=d.Ga(e);c=d.Ga(c);return d.Kf(c,e)?d.Kf(a,e)&&!d.Kf(a,c):!(!d.Kf(a,e)&&d.Kf(a,c))},Xka(a,e){return"number"===typeof a?0===e:1===e},Yia(a){return!!a},qma(a,e,c,f){if(!a)return!1;const k=this.ZQ(),g=k.Ja(),l=a.ba();d.ud(g,l.ja());l.Sb&&d.C(l.fc);const p=this.b.Rf();let r=0;for(let v=0,q=g.length;v<q;++v){const x=g[v];g[r]=x;e=p.Gu(1,v);f=
p.Gu(3,v);d.compare(e,c,f)?++r:l.vn(x)}d.jf(g,r);l.Hu(g);e=!!g.length;d.C(g);k.Ia();a.$b();return e},rma(a,e){if(!a)return!1;const c=this.ZQ(),f=c.Ja(),k=a.ba();d.ud(f,k.ja());k.Sb&&d.C(k.fc);const g=this.b.Rf();let l=0;for(let p=0,r=f.length;p<r;++p){const v=f[p];f[l]=v;(e=g.Gu(1,p))?++l:k.vn(v)}d.jf(f,l);k.Hu(f);e=!!f.length;d.C(f);c.Ia();a.$b();return e},xma(a,e){if(!a)return!1;const c=a.ba(),f=c.ja();e=Math.floor(e);if(e>=f.length)return!1;c.bn(f[e]);a.$b();return!0},Bma(a){if(!a)return!1;const e=
a.ba(),c=e.ja(),f=Math.floor(this.b.ul()*c.length);if(f>=c.length)return!1;e.bn(c[f]);a.$b();return!0},pma(a){if(!a||!a.F.length)return!1;a.ba().se(!0);a.$b();return!0},zma(a,e,c){if(!a)return!1;const f=a.ba();var k=f.ja();const g=this.b.Db().Td,l=this.b.Rf().vj;f.Sb?(d.ud(b,k),f.ky(),f.se(!1)):g?(d.ud(b,f.fc),d.C(f.fc)):(d.ud(b,f.F),d.C(f.F));for(let p=0,r=b.length;p<r;++p)k=b[p],d.xor(k.j().Ut(e,c),l)?f.wp(k):f.vn(k);a.$b();return d.xor(!!f.F.length,l)},wma(a){if(!a)return!1;var e=a.Sa;let c=null;
const f=this.b.Vl;for(let k=f.length-1;0<=k;--k){const g=f[k];if(e){if(g.H().VD(a)){c=g;break}}else if(g.H()===a){c=g;break}}c||(e=a.ja(),e.length&&(c=e.Ge(-1)));if(!c)return!1;a.ba().bn(c);a.$b();return!0},kna(a){return this.b.ye?this.d8(a):this.Xaa(a)},Ara(){return this.b.ye?this.w8():this.ada()},kja(a,e,c){return this.b.ye?this.a8(a,e,c):this.j9(a,e,c)},lja(a){return this.b.ye?this.b8(a):this.k9(a)},mja(a,e,c){return this.b.ye?this.c8(a,c):this.l9(a,c)},jla(a){return a?a.$c():!1},gla(a){return a?
!a.F.length:!1},fla(a,e,c){return a?d.compare(100*a.Cd(),e,c):!1},h3(){return!0},Cka(){return 0<this.Vp}}}
{"use strict";const d=self.m;function b(g,l){const p=g[0]-l[0];return 0!==p?p:g[1]-l[1]}function a(g,l){return g[1]-l[1]}const e=[],c=[],f=d.B(d.Rect),k=d.B(d.$a);d.A.gb.cb={U5(g,l){g.Qg(l)},fX(g,l){g.Wm()&&"number"!==typeof l&&(l=parseFloat(l));g.Qg(g.ld()+l)},Cqa(g,l){g.Wm()&&g.Qg(g.ld()-l)},Ioa(g,l){g.Qg(!!l)},Lqa(g){g.Qg(!g.ld())},Zna(){this.b.ia().t4()},DM(g,l,p,r,v){g&&l&&(p=this.b.dE(g,l,p,r,v))&&(v&&l.iG(p),l=this.b.ia(),l.He(!0),p.CA(),l.He(!1),g.ba().ik(p),p.Wb()&&p.Pi())},Jia(g,l,p,r,v){g&&
l&&(g=this.b.HE(g))&&d.A.gb.cb.DM.call(this,g,l,p,r,v)},Fu(g,l,p,r,v,q,x,u,w,z){if(g){var A=this.b.Ha();if(q&&(A=this.b.Ta.$q(q),!A))return;q=null;if("number"!==typeof x||0<=x)if(q=A.da(x),!q)return;f.set(l,p,r,v);l=A.Fu(g,f,q,u,w,z);g.ba().Hu(l);g.$b()}},qqa(){const g=this.Df;g.WN()&&g.Xq().uf()},Ar(g,l){(g=this.b.ia().$M(g))&&(0===l?g.Ar(!1):1===l?g.Ar(!0):g.Ar(!g.xu()))},Vpa(g){this.b.dG(g)},Mpa(g,l){0>l&&(l=0);if(g){g=g.ba().ja();for(const p of g)p.dG(l)}},doa(g){if(g){g=g.ba().ja();for(const l of g)l.z4()}},
rG(g){if(!(0>g))return this.b.ia().QD().C1(g),!0},tra(g){this.b.ia().QD().A1(g);return!0},sra(){const g=this.b.ia();g.QD().p1(g.e0());return!0},cqa(g){g=g.toLowerCase();for(const l of this.b.ia().sg)l.X1()&&l.Xw===g&&l.$F()},async TP(g,l,p,r,v,q){const x=this.b.U;x&&(this.S(),await x.TP(0===g?"image/png":"image/jpeg",l/100,p,r,v,q),await this.b.ab(d.A.gb.D.Q2,null))},Koa(g,l){if(!(0>=g||0>=l)){this.b.Uu(g,l);var p=this.b.Ha();p.ey();for(const r of p.Yb)r.qG();if(p=this.b.U)"off"!==p.iu()&&this.b.x5(g,
l),p.zc(p.Sk,p.Rk,!0),this.b.S()}},Zoa(g){const l=this.b.U;l&&"off"!==l.iu()&&(l.BP(0!==g?"high":"low"),l.zc(l.Sk,l.Rk,!0))},kp(g){this.b.H4(g)},ola(g){this.b.n2(g)},pla(g){this.b.wF(g)},apa(){},$na(){for(const g of this.b.Ta.Yi)g.x4()},Qpa(g){this.b.A5(0!==g)},IP(g){this.b.IP(g)},gqa(g,l){if(g){var p=g.ba().ja(),r=this.b.Ha(),v=g.Sa;g=g.nj;for(let x=0,u=p.length;x<u;++x){var q=p[x];const w=q.j();if(!w)continue;let z;z=v?q.Le(l+q.H().bN(g)):q.Le(l);e.push([w.da().Da(),w.Zj()]);c.push([q,z])}if(e.length){e.sort(b);
c.sort(a);l=!1;for(let x=0,u=e.length;x<u;++x)p=c[x][0],v=r.Ty(e[x][0]),g=e[x][1],q=v.F,q[g]!==p&&(q[g]=p,p.j().tv(v),v.Sg(),l=!0);l&&this.b.S();d.C(e);d.C(c)}}},o0(g){if(!this.b.Dk){var l=this.b.Ta;l.kr()||l.iy(g)}},Eja(g){if(!this.b.Dk){var l=this.b.Ta;l.kr()||(g=l.$q(g))&&l.iy(g)}},Lla(g){if(!this.b.Dk){var l=this.b.Ta;if(!l.kr()){var p=l.Yi,r=p.indexOf(l.Ob());g&&0===r||(g||r!==p.length-1)&&l.iy(p[r+(g?-1:1)])}}},boa(){if(!this.b.Dk){var g=this.b.Ta;g.kr()||(g.iy(g.Ob()),this.b.ia().u4())}},upa(g,
l){g&&g.Mh(l)},opa(g,l){g&&g.re(l/100)},qpa(g,l){g&&g.KP(l)},rpa(g,l){g&&g.C5(l)},ipa(g,l){g&&g.yc(d.Ga(+l))},spa(g,l,p){g&&(g.Mu(!0),g.Ni(l),g.Oi(p))},coa(g){g&&g.Mu(!1)},ppa(g,l,p){g&&g.y5(l/100,p/100)},vpa(g,l){g&&g.Se(+l)},jpa(g,l){g&&(k.Wx(l),k.W(),g=g.Jl,g.vo(k)||(g.Bm(k),this.S()))},tpa(g,l){g&&g.Q5(l)},kpa(g,l){g&&g.qf(l)},lpa(g,l,p){g&&(g=g.La,p=g.fl(p))&&(l=1===l,p.Hb!==l&&(p.Lz(l),g.rn(),this.b.S()))},mpa(g,l,p,r){if(g&&(g=g.La,l=g.fl(l))&&(g=g.Bg(l.Da()),p=Math.floor(p),!(0>p||p>=g.length))){var v=
l.ib.Wy(p);if("color"===v){k.Wx(r);p=g[p];if(k.vo(p))return;p.Bm(k)}else{"percent"===v&&(r/=100);if(g[p]===r)return;g[p]=r}l.Hb&&this.b.S()}},npa(g,l){g&&g.g5(l)},Apa(g){this.b.Ha().np(+g)},wpa(g){this.b.Ha().yc(d.Ga(+g))},xpa(g,l){const p=this.b.Ha().La;if(l=p.fl(l))g=1===g,l.Hb!==g&&(l.Lz(g),p.rn(),this.b.S())},ypa(g,l,p){var r=this.b.Ha().La;if(g=r.fl(g))if(r=r.Bg(g.Da()),l=Math.floor(l),!(0>l||l>=r.length)){var v=g.ib.Wy(l);if("color"===v){k.Wx(p);l=r[l];if(k.vo(l))return;l.Bm(k)}else{"percent"===
v&&(p/=100);if(r[l]===p)return;r[l]=p}g.Hb&&this.b.S()}},Bpa(g,l){this.b.Ha().T5(g/100,l/100)},zpa(g){const l=this.b.Ha();0===g?l.MP():l.JP()},yoa(g){this.b.Ha().Ni(g)},zoa(g){this.b.Ha().Oi(g)},voa(g,l){const p=this.b.Ha();p.Ni(g);p.Oi(l)},xoa(g){if(g&&(g=g.Lo())&&(g=g.j())){var l=this.b.Ha();l.Ni(g.X());l.Oi(g.Y())}},async p2(g){const l=this.b.Ob();l&&g&&!this.b.Dk&&await this.YG(l,g.Sa?g.Rp:[g])},async nla(g){await d.A.gb.cb.p2.call(this,this.b.HE(g))},dra(g){const l=this.b.Ob();l&&g&&this.KS(l,
g.Sa?g.Rp:[g])},A6(g){d.A.gb.cb.A6.call(this,this.b.HE(g))},fra(){const g=this.b.Ob();if(g){var l=g.F9();this.KS(g,l)}},async lla(g){const l=this.b.Ob();g&&l&&!this.b.Dk&&await this.YG(l,g.$Q())},async mla(g){const l=this.b.Ob();(g=this.b.Ta.$q(g))&&l&&!this.b.Dk&&await this.YG(l,g.$Q())},Qz(g){const l=this.Rd.j_();if(l)switch(l.DT){case 1:"number"===typeof g&&l.Qz(g);break;case 2:"string"===typeof g&&l.Qz(g);break;case 3:l.Qz(g)}},tla(g,l,p){var r=this.hA(g.toLowerCase(),!0);const v=r.JD,q=l.toLowerCase();
v.has(q)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(r=d.first(v.values())||r.to)&&0!==r.lm!==(0!==p.lm)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):v.set(q,p)},ula(g,l){const p=this.hA(g.toLowerCase(),!0);p.to&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const r=d.first(p.JD.values())||p.to;r&&
0!==r.lm!==(0!==l.lm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):p.to=l},Sha(g,l,p){p=Math.floor(p);var r=this.hA(g.toLowerCase(),!1);if(r){var v=r.JD.get(l.toLowerCase());if(!v)if(r.to)v=r.to,p=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(v.Xf())if(0!==v.lm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.b;l=g.ia();var q=l.Db();r=q.Ed();var x=0<r.length;x&&l.Mg(r);var u=[];if(q=l.mE(q)){q=q.bh;for(let w=p,z=q.length;w<z;++w)u.push(q[w].ld())}p=v.bh;for(let w=u.length,z=p.length;w<z;++w)u.push(p[w].hb);return g.ye?this.Y7(l,v,u,x,r):this.x8(l,v,u,x,r)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.m;d.A.gb.wd={fta:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},ysa:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Gm(b){return b.toString()},Mx(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.b.ul()*b:this.b.ul()*(a-b)+b},RV(...b){return b[Math.floor(this.b.ul()*b.length)]},Wta(){return Math.PI},dta(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},wua(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ga(b))},cos(b){return Math.cos(d.Ga(b))},tan(b){return Math.tan(d.Ga(b))},asin(b){return d.ne(Math.asin(b))},acos(b){return d.ne(Math.acos(b))},atan(b){return d.ne(Math.atan(b))},exp(b){return Math.exp(b)},Nfa(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a<f&&(a=f)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a>f&&(a=f)}return a},W(b,a,e){return d.W(b,a,e)},Gx(b,a,e,c){return d.qt(b,a,e,c)},angle(b,a,e,c){return d.ne(d.bL(b,a,e,c))},td(b,a,e){return d.td(b,a,e)},KD(b,a,e){return d.KD(b,a,e)},AD(b,a,e,c){return d.AD(b,a,e,c)},UV(b,a,e,c,f){return d.UV(b,
a,e,c,f)},TV(b,a,e){return d.TV(b,a,e)},Tra(b,a){return d.ne(d.nt(d.Ga(b),d.Ga(a)))},Ura(b,a,e){return d.ne(d.$K(d.Ga(b),d.Ga(a),e))},Vra(b,a,e){return d.ne(d.aL(d.Ga(b),d.Ga(a),d.Ga(e)))},Iua(b,a,e){a|=0;return(b|0)&~(1<<a)|(0!==e?1:0)<<a},Rua(b,a){return(b|0)^1<<(a|0)},Xsa(b,a){return(b|0)&1<<(a|0)?1:0},Mta(){return"\n"},Yua(b){return"string"===typeof b?b.toUpperCase():""},Eta(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,e){return"string"!==
typeof b?"":0>e?b.substr(a):b.substr(a,e)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},Sua(b,a,e){if("string"!==typeof b||"string"!==typeof e)return"";b=b.split(e);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},Tua(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.Xt(a),"i")):-1},xsa(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(d.Xt(a),"")):-1},replace(b,a,e){return"string"===typeof b&&"string"===typeof a&&"string"===typeof e?b.replace(new RegExp(d.Xt(a),"gi"),e):"string"===typeof b?b:""},hua(b,a,e){a=this.Xy(a,e);return b?b.search(a):-1},gua(b,a,e,c){a=this.Xy(a,e);return b?b.replace(a,c):""},fua(b,a,e){return(b=this.pN(b.toString(),a,e))?b.length:0},eua(b,a,e,c){c=Math.floor(c);b=this.pN(b.toString(),a,e);return!b||0>c||c>=b.length?"":b[c]},mva(b,a){let e=0>b?"-":"";0>b&&(b=-b);e+="0".repeat(Math.max(a-
b.toString().length,0));return e+b.toString()},$ua(b){return encodeURIComponent(b)},Zua(b){return decodeURIComponent(b)},YV(){return this.b.fB},Pua(){return this.b.Vd},iva(){return(Date.now()-this.b.bo)/1E3},Wua(){return Date.now()},time(){return this.b.Cg()},Oua(){return this.b.Lk},Qta(){return this.b.QJ},Asa(){return this.b.tB},hsa(){return this.b.pC},Zsa(){return this.b.Sy()},lva(){return this.b.U.Th},kva(){return this.b.U.Sh},Uta(){return this.b.hh},Tta(){return this.b.gh},Sta(){return this.b.hh},
Rta(){return this.b.gh},zua(){return this.b.Ha().Tf()},Aua(){return this.b.Ha().Uf()},yta(){return this.b.Ha().xa()},zta(){return this.b.Ha().Rb},wta(){return d.ne(this.b.Ha().ta())},Ata(){return this.b.Ha().O()},xta(){return this.b.Ha().R()},eva(b){return(b=this.b.Ha().da(b))?b.po.N:0},gva(b){return(b=this.b.Ha().da(b))?b.po.K:0},fva(b){return(b=this.b.Ha().da(b))?b.po.$:0},cva(b){return(b=this.b.Ha().da(b))?b.po.T:0},hva(b){return(b=this.b.Ha().da(b))?b.po.width():0},dva(b){return(b=this.b.Ha().da(b))?
b.po.height():0},csa(b,a,e){return(b=this.b.Ha().da(b))?b.xh(a,e)[0]:0},dsa(b,a,e){return(b=this.b.Ha().da(b))?b.xh(a,e)[1]:0},tta(b,a,e){return(b=this.b.Ha().da(b))?b.cp(a,e)[0]:0},uta(b,a,e){return(b=this.b.Ha().da(b))?b.cp(a,e)[1]:0},pta(b){return(b=this.b.Ha().da(b))?b.Rb:0},kta(b){return(b=this.b.Ha().da(b))?d.ne(b.ue):0},mta(b){return(b=this.b.Ha().da(b))?100*b.Cd():0},qta(b){return(b=this.b.Ha().da(b))?b.Dj:0},rta(b){return(b=this.b.Ha().da(b))?b.Tf():0},sta(b){return(b=this.b.Ha().da(b))?
b.Uf():0},nta(b){return(b=this.b.Ha().da(b))?100*b.ge:0},ota(b){return(b=this.b.Ha().da(b))?100*b.he:0},vta(b){return(b=this.b.Ha().da(b))?b.Qa():0},lta(b){return(b=this.b.Ha().da(b))?b.Da():-1},bsa(){const b=this.b.U;return b?b.rK:""},Dta(b){const a=this.Df;return a.WN()?b?(b=a.RZ(b))?b.Da():0:a.Xq().Da():0},xua(){return this.b.jq},asa(b,a,...e){var c=this.hA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var f=c.JD.get(a.toLowerCase());
if(!f)if(c.to)f=c.to;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=f.lm;const k=f.ju();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.Xf())return k;b=this.b.ia();a=b.Db().Ed();const g=0<a.length;g&&b.Mg(a);const l=f.bh;for(let p=e.length,r=l.length;p<r;++p)e.push(l[p].hb);
f=f.Ke();e=f.OF(f.Ed(),c,k,...e);g&&b.Lb(a);return e},Cta(){return this.b.ob.eC},bta(){return 0===this.Vp?1:this.$v/this.Vp},hf(){return this.b.ru()?"webgpu":"webgl"},kua(){return this.b.ru()?"<unavailable>":this.b.Uo().ux},cta(){let b=this.b.sb().n_();return Math.round(100*b/1048576)/100},lua(b,a,e){return d.J3(b,a,e)},oua(b,a,e){return d.SO(b/100,a/100,e/100)},mua(b,a,e,c){return d.Bz(b/100,a/100,e/100,c/100)},pua(b,a,e){return d.SO(b/255,a/255,e/255)},nua(b,a,e,c){return d.Bz(b/255,a/255,e/255,
c/255)},aga(){return this.b.CC},$ta(){return this.b.UU},ksa(){return this.b.Db().dd.xa()},jsa(){return this.b.Db().ns}}}{"use strict";const d=self.m;d.A.Audio=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.A.Audio.dg=class extends d.gn{constructor(b){super(b)}g(){super.g()}qc(){}Fg(){return self.J0}};self.J0=class extends self.kz{constructor(b){super(b)}}}
{"use strict";const d=self.m,b=["interactive","balanced","playback"];d.A.Audio.Instance=class extends d.jp{constructor(a,e){super(a,"audio");this.fh=0;this.HK="";this.Rw=this.yV=0;this.$J=!1;this.mT=this.NU=1;this.On=this.b.Jf/2;this.Pn=this.b.If/2;this.kq=-600;this.YU=600;this.wU=1E4;this.dV=1;this.ai=null;this.kC=-1;this.Ps=1;this.ng=!1;this.fV=0;this.hB=new Map;this.cK=this.dK=0;this.jm=new Map;a="interactive";e&&(this.yV=e[0],this.Rw=e[1],this.$J=e[2],a=b[e[3]],this.NU=e[4],this.mT=e[5],this.kq=
-e[6],this.YU=e[7],this.wU=e[8],this.dV=e[9]);this.eh=[];this.Fs=[];this.cC=[];this.cM([["state",c=>this.qaa(c)],["fxstate",c=>this.paa(c)],["trigger",c=>this.oaa(c)]]);e=this.G().Cb();this.pd=new d.Uq(d.Ub.Jc(e,"instancedestroy",c=>this.baa(c.instance)),d.Ub.Jc(e,"afterload",()=>this.pv()),d.Ub.Jc(e,"suspend",()=>this.eH()),d.Ub.Jc(e,"resume",()=>this.dH()));this.b.fM(this.bk("create-audio-context",{preloadList:this.b.ob.a_().map(c=>({originalUrl:c.Xfa,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.b.oJ,timeScaleMode:this.yV,latencyHint:a,panningModel:this.NU,distanceModel:this.mT,refDistance:this.YU,maxDistance:this.wU,rolloffFactor:this.dV,listenerPos:[this.On,this.Pn,this.kq]}).then(c=>{this.fV=c.sampleRate}));this.eg()}g(){this.ai=null;super.g()}baa(a){this.ai===a&&(this.ai=null)}ty(a){return Math.pow(10,a/20)}vd(a){a=this.ty(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}j2(a){return Math.log(a)/Math.log(10)*20}fO(a){return this.j2(Math.max(Math.min(a,1),0))}eH(){this.$J||
this.Ra("set-suspended",{isSuspended:!0})}dH(){this.$J||this.Ra("set-suspended",{isSuspended:!1})}qaa(a){const e=a.tickCount,c=this.eh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.eh=a.audioInstances;this.cC=a.analysers;0<c.length&&d.Am(this.eh,c)}paa(a){this.Fs=a.fxstate}gA(a){for(const e of this.eh)if(d.th(e.tag,a))return e;return null}uR(a){return this.eh.some(e=>d.th(a,e.tag)&&e.isPlaying)}Tr(a,e,c,f){if(this.uR(a))return null;a={tag:a,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.eh.push(a);return a}async oaa(a){const e=a.type;this.HK=a.tag;a=a.aiid;if("ended"===e){for(const c of this.eh)if(c.aiid===a){c.isPlaying=!1;break}await this.ab(d.A.Audio.D.CO)}else"fade-ended"===e&&await this.ab(d.A.Audio.D.Z2)}Gd(){const a={timeScale:this.b.Vd,gameTime:this.b.CE(),instPans:this.J_(),tickCount:this.b.co};
if(this.ai){const e=this.ai.j();this.On=e.X();this.Pn=e.Y();a.listenerPos=[this.On,this.Pn,this.kq]}this.Ra("tick",a)}ML(a,e,c,f,k){if(0===c)return[a,e];const g=Math.sin(c);c=Math.cos(c);a-=f;e-=k;const l=a*g;a=a*c-e*g;return[a+f,e*c+l+k]}J_(){return this.eh.filter(a=>-1!==a.uid).map(a=>this.b.Ch(a.uid)).filter(a=>a).map(a=>{const e=a.j(),c=e.da().ta(),[f,k]=this.ML(e.X(),e.Y(),-c,this.On,this.Pn);return{uid:a.lc,x:f,y:k,angle:e.ta()-c}})}Dy(a,e){for(const c of this.cC)if(c.index===e&&d.th(c.tag,
a))return c;return null}Ph(a){this.hB.set(a,(this.hB.get(a)||0)+1)}xca(a){return a.hasOwnProperty("placeholder")||3===this.Rw?!1:a.isMusic&&1===this.Rw?!1:a.isMusic||2!==this.Rw?!0:!1}Nc(){return{isSilent:this.ng,masterVolume:this.Ps,listenerZ:this.kq,listenerUid:this.ai?this.ai.lc:-1,remoteUrls:[...this.jm.entries()],playing:this.eh.filter(a=>this.xca(a)),effects:this.Fs,analysers:this.cC}}xc(a){this.ng=a.isSilent;this.Ps=a.masterVolume;this.kq=a.listenerZ;this.ai=null;this.kC=a.listenerUid;this.jm.clear();
if(a.remoteUrls)for(const [e,c]of a.remoteUrls)this.jm.set(e,c);this.eh=a.playing;this.Fs=a.effects;this.cC=a.analysers}pv(){if(-1!==this.kC&&(this.ai=this.b.Ch(this.kC),this.kC=-1,this.ai)){var a=this.ai.j();this.On=a.X();this.Pn=a.Y()}for(var e of this.eh)(a=this.b.ob.Dg(e.bufferOriginalUrl))?(e.bufferUrl=a.url,e.bufferType=a.type):e.bufferUrl=null;for(const c of Object.values(this.Fs))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.b.ob.Dg(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.Ra("load-state",{saveLoadMode:this.Rw,timeScale:this.b.Vd,gameTime:this.b.CE(),listenerPos:[this.On,this.Pn,this.kq],isSilent:this.ng,masterVolume:this.Ps,playing:this.eh.filter(c=>null!==c.bufferUrl),effects:this.Fs})}}}{"use strict";const d=self.m;d.A.Audio.D={CO(b){return d.th(this.HK,b)},Z2(b){return d.th(this.HK,b)},Uma(){return this.cK===this.dK},jha(){return!0},Tka(){return this.ng},gka(){for(const b of this.eh)if(b.isPlaying)return!0;return!1},Vka(b){return this.uR(b)}}}
{"use strict";const d=self.m,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.A.Audio.cb={async Play(a,e,c,f){if(!this.ng){var k=a[1],g=this.b.ob.Dg(a[0]);if(g){var l=this.fh;this.fh=0;var p=this.Tr(f.toLowerCase(),k,0!==e,this.vd(c));try{await this.bk("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==e,vol:this.vd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.b.co)}}}},async Hma(a,
e,c,f,k,g,l,p,r,v){if(!this.ng){var q=a[1],x=this.b.ob.Dg(a[0]);if(x){var u=this.fh;this.fh=0;var w=this.Tr(v.toLowerCase(),q,0!==e,this.vd(c));try{await this.bk("play",{originalUrl:a[0],url:x.url,type:x.type,isMusic:q,tag:v.toLowerCase(),isLooping:0!==e,vol:this.vd(c),pos:0,off:u,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:d.Ga(g),innerAngle:d.Ga(l),outerAngle:d.Ga(p),outerGain:this.vd(r)}})}finally{w&&(w.placeholder=this.b.co)}}}},async Fma(a,e,c,f,k,g,l,p){if(!this.ng&&
f&&(f=f.Lo())&&f.j()){var r=f.j(),v=r.da().ta(),[q,x]=this.ML(r.X(),r.Y(),-v,this.On,this.Pn),u=a[1],w=this.b.ob.Dg(a[0]);if(w){var z=this.fh;this.fh=0;var A=this.Tr(p.toLowerCase(),u,0!==e,this.vd(c));try{await this.bk("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:u,tag:p.toLowerCase(),isLooping:0!==e,vol:this.vd(c),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:q,y:x,angle:r.ta()-v,innerAngle:d.Ga(k),outerAngle:d.Ga(g),outerGain:this.vd(l),uid:f.lc}})}finally{A&&
(A.placeholder=this.b.co)}}}},async Jma(a,e,c,f,k){if(!this.ng){a=1===a;var g=this.b.ob.Dg(e)||this.jm.get(e.toLowerCase());if(g){var l=this.fh;this.fh=0;var p=this.Tr(k.toLowerCase(),a,0!==c,this.vd(f));try{await this.bk("play",{originalUrl:e,url:g.url,type:g.type,isMusic:a,tag:k.toLowerCase(),isLooping:0!==c,vol:this.vd(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{p&&(p.placeholder=this.b.co)}}}},async Ima(a,e,c,f,k,g,l,p,r,v,q){if(!this.ng){a=1===a;var x=this.b.ob.Dg(e)||
this.jm.get(e.toLowerCase());if(x){var u=this.fh;this.fh=0;var w=this.Tr(q.toLowerCase(),a,0!==c,this.vd(f));try{await this.bk("play",{originalUrl:e,url:x.url,type:x.type,isMusic:a,tag:q.toLowerCase(),isLooping:0!==c,vol:this.vd(f),pos:0,off:u,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:g,angle:d.Ga(l),innerAngle:d.Ga(p),outerAngle:d.Ga(r),outerGain:this.vd(v)}})}finally{w&&(w.placeholder=this.b.co)}}}},async Gma(a,e,c,f,k,g,l,p,r){if(!this.ng&&!this.ng&&k&&(k=k.Lo())&&k.j()){var v=
k.j(),q=v.da().ta(),[x,u]=this.ML(v.X(),v.Y(),-q,this.On,this.Pn);a=1===a;var w=this.b.ob.Dg(e)||this.jm.get(e.toLowerCase());if(w){var z=this.fh;this.fh=0;var A=this.Tr(r.toLowerCase(),a,0!==c,this.vd(f));try{await this.bk("play",{originalUrl:e,url:w.url,type:w.type,isMusic:a,tag:r.toLowerCase(),isLooping:0!==c,vol:this.vd(f),pos:0,off:z,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x,y:u,angle:v.ta()-q,innerAngle:d.Ga(g),outerAngle:d.Ga(l),outerGain:this.vd(p),uid:k.lc}})}finally{A&&(A.placeholder=
this.b.co)}}}},Epa(a,e){this.Ra("set-looping",{tag:a.toLowerCase(),isLooping:0===e})},Lpa(a,e){this.Ra("set-muted",{tag:a.toLowerCase(),isMuted:0===e})},X5(a,e){this.Ra("set-volume",{tag:a.toLowerCase(),vol:this.vd(e)})},eja(a,e,c,f){this.Ra("fade-volume",{tag:a.toLowerCase(),vol:this.vd(e),duration:c,stopOnEnd:0===f})},async Sma(a){const e=a[1],c=this.b.ob.Dg(a[0]);c&&(this.dK++,await this.bk("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:e}),this.cK++)},async Tma(a,e){a=1===a;const c=
this.b.ob.Dg(e)||this.jm.get(e.toLowerCase());c&&(this.dK++,await this.bk("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:a}),this.cK++)},Nu(a,e){this.Ra("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(e,0)})},uf(a){this.Ra("stop",{tag:a.toLowerCase()})},q6(){this.Ra("stop-all")},Npa(a,e){this.Ra("set-paused",{tag:a.toLowerCase(),paused:0===e})},Aoa(a,e){this.Ra("seek",{tag:a.toLowerCase(),pos:e})},Tpa(a){2===a&&(a=this.ng?1:0);a=0===a;this.ng!==a&&(this.ng=a,this.Ra("set-silent",{isSilent:a}))},
Gpa(a){a=this.vd(a);this.Ps!==a&&(this.Ps=a,this.Ra("set-master-volume",{vol:a}))},Zga(a,e,c,f,k,g,l){a=a.toLowerCase();e=b[e];this.Ph(a);this.Ra("add-effect",{type:"filter",tag:a,params:[e,c,f,k,g,d.W(l/100,0,1)]})},Wga(a,e,c,f){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"delay",tag:a,params:[e,this.vd(c),d.W(f/100,0,1)]})},$ga(a,e,c,f,k,g){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"flanger",tag:a,params:[e/1E3,c/1E3,f,k/100,d.W(g/100,0,1)]})},eha(a,e,c,f,k,g,l){a=a.toLowerCase();
this.Ph(a);this.Ra("add-effect",{type:"phaser",tag:a,params:[e,c,f,k,g,d.W(l/100,0,1)]})},Vga(a,e,c,f){a=a.toLowerCase();const k=this.b.ob.Dg(e[0]);k&&(this.Ph(a),this.Ra("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:e[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,d.W(f/100,0,1)]}))},aha(a,e){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"gain",tag:a,params:[this.vd(e)]})},dha(a){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"gain",tag:a,params:[0]})},hha(a,e,c){a=
a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"tremolo",tag:a,params:[e,d.W(c/100,0,1)]})},gha(a,e,c){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"ringmod",tag:a,params:[e,d.W(c/100,0,1)]})},Xga(a,e,c,f,k,g){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"distortion",tag:a,params:[this.ty(e),this.ty(c),f,this.ty(k),d.W(g/100,0,1)]})},Uga(a,e,c,f,k,g){a=a.toLowerCase();this.Ph(a);this.Ra("add-effect",{type:"compressor",tag:a,params:[e,c,f,k/1E3,g/1E3]})},Tga(a,e,c){a=a.toLowerCase();
this.Ph(a);this.Ra("add-effect",{type:"analyser",tag:a,params:[e,c]})},gna(a){a=a.toLowerCase();this.hB.set(a,0);this.Ra("remove-effects",{tag:a});this.Fs={}},Soa(a,e,c,f,k,g){this.Ra("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:k,time:g})},Cpa(a){a&&(a=a.Lo())&&a.j()&&(this.ai=a)},Dpa(a){this.kq=a},qoa(a){this.fh=Math.max(a,0)},bra(a){const e=a[1];(a=this.b.ob.Dg(a[0]))&&this.Ra("unload",{url:a.url,type:a.type,isMusic:e})},cra(a,e){a=1===a;(e=this.b.ob.Dg(e)||
this.jm.get(e.toLowerCase()))&&this.Ra("unload",{url:e.url,type:e.type,isMusic:a})},ara(){this.Ra("unload-all")},fha(a,e,c){this.jm.set(c.toLowerCase(),{url:a,type:e})}}}"use strict";
self.m.A.Audio.wd={Sia(d){return(d=this.gA(d))?d.duration:0},Lma(d){return(d=this.gA(d))?d.playbackTime:0},Kma(d){return(d=this.gA(d))?d.playbackRate:0},rra(d){return(d=this.gA(d))?this.fO(d.volume):0},wla(){return this.fO(this.Ps)},Tia(d){return this.hB.get(d.toLowerCase())||0},nha(d,b){return(d=this.Dy(d,Math.floor(b)))?d.binCount:0},mha(d,b,a){d=this.Dy(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},oha(d,b){return(d=this.Dy(d,Math.floor(b)))?d.peak:
0},pha(d,b){return(d=this.Dy(d,Math.floor(b)))?d.rms:0},poa(){return this.fV},Kia(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.m;d.A.jd=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.A.jd.dg=class extends d.gn{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m;d.A.jd.Instance=class extends d.jp{constructor(b){super(b,"browser");this.Bk="";this.iw=!1;this.nT=this.ZU="";this.$T=!1;this.XK=this.hV=this.iV=0;this.kw=!1;this.cM([["online-state",a=>this.gaa(a)],["backbutton",()=>this.T$()],["sw-message",a=>this.laa(a)],["hashchange",a=>this.aaa(a)]]);b=this.G().Cb();this.pd=new d.Uq(d.Ub.Jc(b,"afterfirstlayoutstart",()=>this.S$()),d.Ub.Jc(b,"window-resize",()=>this.hH()),d.Ub.Jc(b,"suspend",()=>this.eH()),d.Ub.Jc(b,"resume",()=>this.dH()));
this.b.fM(this.bk("get-initial-state",{exportType:this.b.mj}).then(a=>{this.Bk=a.location;this.iw=a.isOnline;this.ZU=a.referrer;this.nT=a.title;this.$T=a.isCookieEnabled;this.iV=a.screenWidth;this.hV=a.screenHeight;this.XK=a.windowOuterWidth;this.kw=a.isScirraArcade}))}g(){super.g()}S$(){this.Ra("ready-for-sw-messages")}async gaa(b){b=!!b.isOnline;this.iw!==b&&((this.iw=b)?await this.ab(d.A.jd.D.s3):await this.ab(d.A.jd.D.q3))}async hH(){await this.ab(d.A.jd.D.x3)}eH(){this.ka(d.A.jd.D.t3)}dH(){this.ka(d.A.jd.D.u3)}async T$(){await this.ab(d.A.jd.D.P2)}laa(b){b=
b.type;"downloading-update"===b?this.ka(d.A.jd.D.G3):"update-ready"===b||"update-pending"===b?this.ka(d.A.jd.D.H3):"offline-ready"===b&&this.ka(d.A.jd.D.r3)}aaa(b){this.Bk=b.location;this.ka(d.A.jd.D.e3)}}}"use strict";
self.m.A.jd.D={Lka(){return this.iw},s3(){return!0},q3(){return!0},x3(){return!0},Gia(){return this.$T},wka(){return this.b.U.aq},P2(){return!0},Pka(d){return(this.b.U.Sk<=this.b.U.Rk?0:1)===d},G3(){return!0},H3(){return!0},r3(){return!0},e3(){return!0},hma(){return!this.b.Ym()},t3(){return!0},u3(){return!0},Ija(){return!1},ska(){return!1},Vla(){return!1},Wla(){return!1},Dka(){return!1},lka(){return!0},Dqa(){return!0}};
{"use strict";const d=self.m,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.A.jd.cb={kha(a){this.Ra("alert",{message:a.toString()})},TX(){this.kw||(this.b.ub?self.xg.bia():this.Ra("close"))},jja(){this.Ra("set-focus",{isFocus:!0})},Lha(){this.Ra("set-focus",{isFocus:!1})},Bja(){this.kw||this.Ra("navigate",{type:"back"})},Cja(){this.kw||this.Ra("navigate",{type:"forward"})},Dja(){},fna(){this.kw||(this.b.ub?this.b.Q3():this.Ra("navigate",
{type:"reload"}))},Fja(a,e){this.Fl("navigate",{type:"url",url:a,target:e,exportType:this.b.mj})},Gja(a,e){this.Fl("navigate",{type:"new-window",url:a,tag:e,exportType:this.b.mj})},mna(a,e){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.YD.RQ(a);this.b.U.X4(a);this.Fl("request-fullscreen",{navUI:e})},Tha(){this.Fl("exit-fullscreen")},qra(a){a=a.split(",");for(let e=0,c=a.length;e<c;++e)a[e]=parseInt(a[e],10);this.Fl("vibrate",{pattern:a})},async fF(a,e){a&&e&&(a=await this.b.ob.LE(a),this.b.fF(a,e))},
eka(a,e,c){c&&(a=`data:${e},${encodeURIComponent(a)}`,this.b.fF(a,c))},Fia(a,e){e=e.toString();0===a?console.log(e):1===a?console.warn(e):2===a&&console.error(e)},Dia(a){console.group(a)},Eia(){console.groupEnd()},$ia(a){try{eval(a)}catch(e){console.error("Error executing JavaScript: ",e)}},rla(a){a=Math.floor(a);0>a||a>=b.length||this.Fl("lock-orientation",{orientation:b[a]})},gra(){this.Fl("unlock-orientation")},kO(a){this.b.ob.kO(a)},bpa(a){this.Ra("set-hash",{hash:a})}}}"use strict";
self.m.A.jd.wd={URL(){return this.b.Ae?this.Bk:location.toString()},Yma(){return this.b.Ae?(new URL(this.Bk)).protocol:location.protocol},Qia(){return this.b.Ae?(new URL(this.Bk)).hostname:location.hostname},Rma(){return this.b.Ae?(new URL(this.Bk)).port:location.port},jma(){return this.b.Ae?(new URL(this.Bk)).pathname:location.pathname},Kja(){return this.b.Ae?(new URL(this.Bk)).hash:location.hash},EF(){return this.b.Ae?(new URL(this.Bk)).search:location.search},$ma(d){const b=this.b.Ae?(new URL(this.Bk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},dna(){return this.ZU},Jqa(){return this.nT},bla(){return navigator.language},md(){return navigator.platform},kra(){return navigator.userAgent},Zia(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},Ila(){return navigator.appName},pra(){return navigator.appVersion},Xma(){return navigator.product},
ora(){return navigator.vendor},Gha(){return 1},Hha(){return Infinity},Fha(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},Oia(){return self.devicePixelRatio},uoa(){return this.iV},toa(){return this.hV},Fra(){return this.b.U.Sk},Era(){return this.b.U.Rk},Hra(){return this.XK},Gra(){return this.XK}};{"use strict";const d=self.m;d.A.Keyboard=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}
{"use strict";const d=self.m;d.A.Keyboard.dg=class extends d.gn{constructor(b){super(b)}g(){super.g()}qc(){}Fg(){return self.L0}};self.L0=class extends self.kz{constructor(b){super(b);b.G().Iv.keyboard=this}}}
{"use strict";const d=self.m;d.A.Keyboard.Instance=class extends d.jp{constructor(b){super(b);this.Ds=new Set;this.Es=new Set;this.Mk=0;this.rx=this.bD="";b=this.G().Cb();this.pd=new d.Uq(d.Ub.Jc(b,"keydown",a=>this.bH(a.data)),d.Ub.Jc(b,"keyup",a=>this.cH(a.data)),d.Ub.Jc(b,"window-blur",()=>this.Ur()),d.Ub.Jc(b,"keyboard-blur",()=>this.Ur()))}g(){super.g()}bH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.Ds.has(e)||(this.Ds.add(e),this.Es.add(a),this.bD=e,this.Mk=a,this.rx=b,this.ka(d.A.Keyboard.D.O2),
this.ka(d.A.Keyboard.D.HO),this.ka(d.A.Keyboard.D.l3),this.ka(d.A.Keyboard.D.j3))}cH(b){const a=b.which,e=b.code||a.toString();b=b.key;this.Ds.delete(e);this.Es.delete(a);this.bD=e;this.Mk=a;this.rx=b;this.ka(d.A.Keyboard.D.AO);this.ka(d.A.Keyboard.D.JO);this.ka(d.A.Keyboard.D.m3);this.ka(d.A.Keyboard.D.IO)}Ur(){for(const b of this.Es)this.Es.delete(b),this.Mk=b,this.ka(d.A.Keyboard.D.AO),this.ka(d.A.Keyboard.D.JO),this.ka(d.A.Keyboard.D.IO);this.Ds.clear()}ZN(b){return this.Ds.has(b)}Nc(){return{tk:this.Mk,
tkk:this.rx}}xc(b){this.Mk=b.tk;b.hasOwnProperty("tkk")&&(this.rx=b.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.m.A.Keyboard.D={ZN(b){return this.Es.has(b)},HO(b){return this.Mk===b},O2(){return!0},AO(){return!0},JO(b){return this.Mk===b},zka(b){b=Math.floor(b);return this.Es.has(b)},j3(b){return this.Mk===b},IO(b){return this.Mk===b},l3(b){return this.bD===d[b]},m3(b){return this.bD===d[b]},Aka(b){return this.Ds.has(d[b])}}}"use strict";
self.m.A.Keyboard.cb={};
{"use strict";function d(b){b=Math.floor(b);switch(b){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(b)}}
self.m.A.Keyboard.wd={cla(){return this.Mk},sqa(b){return d(b)},Wqa(){return this.rx}}}{"use strict";const d=self.m;d.A.Touch=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}
{"use strict";const d=self.m,b=self.wh;d.A.Touch.dg=class extends d.gn{constructor(e){super(e)}g(){super.g()}qc(){}Fg(){return self.U0}};let a=null;self.U0=class extends self.kz{constructor(e){super(e);a=e;e.G().Iv.ZL=this}requestPermission(e){b.qe(e);const c=a.Wj().ga;if("orientation"===e)return c.iH(0);if("motion"===e)return c.iH(1);throw Error("invalid type");}}}
{"use strict";const d=self.m;d.A.Touch.Instance=class extends d.jp{constructor(b,a){super(b,"touch");this.qd=new Map;this.RB=this.CV=!1;this.wB=this.Wh=this.Vh=this.GK=this.aD=this.jt=this.FH=this.EH=this.DH=this.IH=this.HH=this.GH=this.TJ=this.SJ=this.RJ=this.uC=0;this.wC=[];a&&(this.CV=a[0]);this.OD("permission-result",e=>this.haa(e));b=this.G().Cb();this.pd=new d.Uq(d.Ub.Jc(b,"pointerdown",e=>this.iaa(e.data)),d.Ub.Jc(b,"pointermove",e=>this.jaa(e.data)),d.Ub.Jc(b,"pointerup",e=>this.MR(e.data,
!1)),d.Ub.Jc(b,"pointercancel",e=>this.MR(e.data,!0)),d.Ub.Jc(b,"deviceorientation",e=>this.V$(e.data)),d.Ub.Jc(b,"deviceorientationabsolute",e=>this.W$(e.data)),d.Ub.Jc(b,"devicemotion",e=>this.U$(e.data)),d.Ub.Jc(b,"tick2",()=>this.fH()))}g(){this.qd.clear();super.g()}iaa(b){if("mouse"===b.pointerType)if(this.CV)this.RB=!0;else return;const a=b.pointerId;if(!this.qd.has(a)){var e=b.pageX-this.b.fu();b=b.pageY-this.b.gu();var c=performance.now(),f=this.qd.size;this.jt=f;this.aD=a;var k=d.B(d.A.Touch.v6);
k.Hg(c,e,b,a,f);this.qd.set(a,k);this.ka(d.A.Touch.D.p3);this.ka(d.A.Touch.D.F3);this.Vh=e;this.Wh=b;this.ka(d.A.Touch.D.PO)}}jaa(b){if("mouse"!==b.pointerType||this.RB){var a=this.qd.get(b.pointerId);if(a){var e=performance.now();2>e-a.Aa()||a.Al(e,b.pageX-this.b.fu(),b.pageY-this.b.gu(),b.width,b.height,b.pressure)}}}MR(b,a){if("mouse"===b.pointerType)if(this.RB)this.RB=!1;else return;const e=performance.now();b=b.pointerId;const c=this.qd.get(b);c&&(this.jt=c.kh,this.aD=c.Qj(),this.ka(d.A.Touch.D.o3),
this.ka(d.A.Touch.D.E3),a||(a=c.c6(e),"single-tap"===a?(this.ka(d.A.Touch.D.C3),this.Vh=c.X(),this.Wh=c.Y(),this.ka(d.A.Touch.D.D3)):"double-tap"===a&&(this.ka(d.A.Touch.D.W2),this.Vh=c.X(),this.Wh=c.Y(),this.ka(d.A.Touch.D.X2))),c.g(),this.qd.delete(b))}iH(b){this.Fl("request-permission",{type:b});return new Promise((a,e)=>{this.wC.push({type:b,resolve:a,reject:e})})}haa(b){const a=b.result,e=b.type;this.GK=e;b=this.wC.filter(c=>c.type===e);for(const c of b)c.resolve(a?"granted":"denied");this.wC=
this.wC.filter(c=>c.type!==e);a?(this.ka(d.A.Touch.D.w3),0===e?this.b.ur():this.b.fn()):this.ka(d.A.Touch.D.v3)}V$(b){"number"===typeof b.webkitCompassHeading?this.uC=b.webkitCompassHeading:b.absolute&&(this.uC=b.alpha);this.RJ=b.alpha;this.SJ=b.beta;this.TJ=b.gamma}W$(b){this.uC=b.alpha}U$(b){const a=b.acceleration;a&&(this.GH=a.x,this.HH=a.y,this.IH=a.z);if(b=b.accelerationIncludingGravity)this.DH=b.x,this.EH=b.y,this.FH=b.z}fH(){const b=performance.now();let a=0;for(const e of this.qd.values())e.Aa()<=
b-50&&e.aca(b),e.b6(b)&&(this.jt=e.kh,this.aD=e.Qj(),this.wB=a,this.ka(d.A.Touch.D.f3),this.Vh=e.X(),this.Wh=e.Y(),this.ka(d.A.Touch.D.g3),this.wB=0),++a}Ti(b){b=Math.floor(b);for(const a of this.qd.values()){if(0===b)return a;--b}return null}hv(b,a){return 0<=b&&0<=a&&b<this.b.g_()&&a<this.b.f_()}}}
{"use strict";const d=self.m,b=[];d.A.Touch.D={F3(){return!0},E3(){return!0},xka(){return 0<this.qd.size},PO(a){return a&&this.hv(this.Vh,this.Wh)?this.b.Uh.Uz(a,this.Vh,this.Wh):!1},a2(a){if(!a)return!1;const e=a.ba();var c=e.ja();for(const f of c){c=f.j();const k=c.da();for(const g of this.qd.values()){if(!this.hv(g.X(),g.Y()))continue;const [l,p]=k.xh(g.X(),g.Y(),c.Wf());if(c.Ut(l,p)){b.push(f);break}}}return b.length?(e.Hu(b),a.$b(),d.C(b),!0):!1},via(a,e,c){return(a=this.Ti(a))?d.compare(a.ll(),
e,c):!1},fma(){return!0},Bla(){return!0},qia(a,e,c){this.b.ur();return d.compare(0===a?this.RJ:1===a?this.SJ:this.TJ,e,c)},fia(a,e,c){this.b.fn();return d.compare(0===a?this.DH:1===a?this.EH:2===a?this.FH:3===a?this.GH:4===a?this.HH:this.IH,e,c)},p3(a){a=Math.floor(a);return a===this.jt},o3(a){a=Math.floor(a);return a===this.jt},Jja(a){a=Math.floor(a);return this.qd.size>=a+1},f3(){return!0},C3(){return!0},W2(){return!0},g3(a){return a&&this.hv(this.Vh,this.Wh)?this.b.Uh.Uz(a,this.Vh,this.Wh):!1},
D3(a){return a&&this.hv(this.Vh,this.Wh)?this.b.Uh.Uz(a,this.Vh,this.Wh):!1},X2(a){return a&&this.hv(this.Vh,this.Wh)?this.b.Uh.Uz(a,this.Vh,this.Wh):!1},w3(a){return this.GK===a},v3(a){return this.GK===a}}}"use strict";self.m.A.Touch.cb={ona(d){this.iH(d)}};
{"use strict";const d=self.m;d.A.Touch.wd={Nqa(){return this.qd.size},W6(b){const a=this.Ti(this.wB);return a?a.er(this.b.Ha(),b,!0):0},tG(b){const a=this.Ti(this.wB);return a?a.er(this.b.Ha(),b,!1):0},Ira(b,a){return(b=this.Ti(b))?b.er(this.b.Ha(),a,!0):0},Kra(b,a){return(b=this.Ti(b))?b.er(this.b.Ha(),a,!1):0},Jra(b,a){return(b=this.qd.get(b))?b.er(this.b.Ha(),a,!0):0},Lra(b,a){return(b=this.qd.get(b))?b.er(this.b.Ha(),a,!1):0},Gga(){const b=this.Ti(0);return b?b.X():0},Jga(){const b=this.Ti(0);
return b?b.Y():0},Hga(b){return(b=this.Ti(b))?b.X():0},Kga(b){return(b=this.Ti(b))?b.Y():0},Iga(b){return(b=this.qd.get(b))?b.X():0},Lga(b){return(b=this.qd.get(b))?b.Y():0},jqa(b){return(b=this.Ti(b))?b.ll():0},kqa(b){return(b=this.qd.get(b))?b.ll():0},rha(b){return(b=this.Ti(b))?d.ne(b.ta()):0},sha(b){return(b=this.qd.get(b))?d.ne(b.ta()):0},Cia(){this.b.ur();return this.uC},lha(){this.b.ur();return this.RJ},Iha(){this.b.ur();return this.SJ},qja(){this.b.ur();return this.TJ},Oga(){this.b.fn();return this.DH},
Qga(){this.b.fn();return this.EH},Sga(){this.b.fn();return this.FH},Nga(){this.b.fn();return this.GH},Pga(){this.b.fn();return this.HH},Rga(){this.b.fn();return this.IH},Pqa(){return this.jt},Oqa(){return this.aD},Dra(b){return(b=this.qd.get(b))?b.O():0},Mja(b){return(b=this.qd.get(b))?b.R():0},Vma(b){return(b=this.qd.get(b))?b.TU:0}}}
{"use strict";const d=self.m;let b=-1E3,a=-1E3,e=-1E4;d.A.Touch.v6=class extends d.fa{constructor(){super();this.TU=this.M=this.P=this.jC=this.iC=this.L=this.V=this.TC=this.SC=this.hC=this.Xc=this.bo=this.kh=this.RU=0;this.YB=this.NI=!1}g(){}Hg(c,f,k,g,l){this.RU=g;this.kh=l;this.bo=this.hC=this.Xc=c;this.SC=f;this.TC=k;this.V=f;this.L=k;this.iC=f;this.jC=k}Al(c,f,k,g,l,p){this.hC=this.Xc;this.Xc=c;this.iC=this.V;this.jC=this.L;this.V=f;this.L=k;this.P=g;this.M=l;this.TU=p;!this.YB&&15<=d.qt(this.SC,
this.TC,this.V,this.L)&&(this.YB=!0)}Qj(){return this.RU}Aa(){return this.Xc}aca(c){this.hC=c}X(){return this.V}Y(){return this.L}ll(){const c=d.qt(this.V,this.L,this.iC,this.jC),f=(this.Xc-this.hC)/1E3;return 0<f?c/f:0}ta(){return d.bL(this.iC,this.jC,this.V,this.L)}O(){return this.P}R(){return this.M}b6(c){return this.NI?!1:500<=c-this.bo&&!this.YB&&15>d.qt(this.SC,this.TC,this.V,this.L)?this.NI=!0:!1}c6(c){if(this.NI)return"";if(333>=c-this.bo&&!this.YB&&15>d.qt(this.SC,this.TC,this.V,this.L)){if(666>=
c-e&&25>d.qt(b,a,this.V,this.L))return a=b=-1E3,e=-1E4,"double-tap";b=this.V;a=this.L;e=c;return"single-tap"}return""}er(c,f,k){return"undefined"===typeof f?c.Ty(0).HX(this.V,this.L)[k?0:1]:(c=c.da(f))?c.xh(this.V,this.L)[k?0:1]:0}}}{"use strict";const d=self.m;d.A.Eb=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.A.Eb.dg=class extends d.gn{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m;d.A.Eb.Instance=class extends d.jp{constructor(b){super(b);this.bb=this.ig="";this.uw=[];this.rT="";this.oq=this.nq=0;this.tg=this.b.bR()}g(){super.g()}async wn(b){this.rT=this.r9(b);await this.ab(d.A.Eb.D.Y2)}r9(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.m;d.A.Eb.D={GO(b){return this.ig===b},zO(){return!0},EO(b){return this.ig===b},yO(){return!0},i3(b){return this.ig===b},N2(){return!0},R2(){return!0},L2(){return!0},Y2(){return!0},DO(b){return this.ig===b},FO(b){return this.ig===b},mia(b,a){return d.compare(this.ig,b,a)},wia(b,a){return d.compare(this.bb,b,a)},Rka(){return 0<this.oq},Qka(){return 0<this.nq},wO(){return!0},vO(){return!0}}}
{"use strict";const d=self.m;function b(a){return"string"===typeof a||"number"===typeof a}d.A.Eb.cb={async s5(a,e){this.oq++;try{const c=await this.tg.setItem(a,e);await this.fk(async()=>{this.ig=a;this.bb=c;await this.ab(d.A.Eb.D.zO);await this.ab(d.A.Eb.D.GO)})}catch(c){await this.wn(c)}finally{this.oq--,0===this.oq&&await this.ab(d.A.Eb.D.wO)}},async Foa(a,e){if(e&&(e=e.Lo(this.J))&&(e=e.ga)){e=e.tja();this.oq++;try{await this.tg.setItem(a,e),await this.fk(async()=>{this.ig=a;this.bb="";await this.ab(d.A.Eb.D.zO);
await this.ab(d.A.Eb.D.GO)})}catch(c){await this.wn(c)}finally{this.oq--,0===this.oq&&await this.ab(d.A.Eb.D.wO)}}},async zja(a){this.nq++;try{const e=await this.tg.getItem(a);await this.fk(async()=>{this.ig=a;this.bb=b(e)?e:"";await this.ab(d.A.Eb.D.yO);await this.ab(d.A.Eb.D.EO)})}catch(e){await this.wn(e)}finally{this.nq--,0===this.nq&&await this.ab(d.A.Eb.D.vO)}},async vja(a,e){if(e&&(e=e.Lo(this.J))){var c=e.ga;this.nq++;try{let f=await this.tg.getItem(a);f=f instanceof ArrayBuffer?f:new ArrayBuffer(0);
await this.fk(async()=>{this.bb="";this.ig=a;c.Eoa(f);await this.ab(d.A.Eb.D.yO);await this.ab(d.A.Eb.D.EO)})}catch(f){await this.wn(f)}finally{this.nq--,0===this.nq&&await this.ab(d.A.Eb.D.vO)}}},async LX(a){try{const e=await this.tg.getItem(a);await this.fk(async()=>{this.ig=a;"undefined"===typeof e||null===e?(this.bb="",await this.ab(d.A.Eb.D.FO)):(this.bb=b(e)?e:"",await this.ab(d.A.Eb.D.DO))})}catch(e){await this.wn(e)}},async jna(a){try{await this.tg.removeItem(a),await this.fk(async()=>{this.ig=
a;this.bb="";await this.ab(d.A.Eb.D.N2);await this.ab(d.A.Eb.D.i3)})}catch(e){await this.wn(e)}},async $ha(){try{await this.tg.clear(),await this.fk(async()=>{this.bb=this.ig="";d.C(this.uw);await this.ab(d.A.Eb.D.R2)})}catch(a){await this.wn(a)}},async sja(){try{const a=await this.tg.keys();await this.fk(async()=>{this.uw=a;await this.ab(d.A.Eb.D.L2)})}catch(a){await this.wn(a)}}}}"use strict";
self.m.A.Eb.wd={d2(){return this.bb},Yka(){return this.ig},$ka(){return this.uw.length},Zka(d){d=Math.floor(d);return 0>d||d>=this.uw.length?"":this.uw[d]},Via(){return this.rT}};{"use strict";const d=self.m;d.A.zl=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}
{"use strict";const d=self.m;d.A.zl.dg=class extends d.gn{constructor(b){super(b);this.qb=d.B(self.j6)}g(){super.g()}qc(){this.Zc().xz(this.b)}ep(b){return this.Zc().$m(b,{wg:this.b.Wc})}dn(){this.Zc().Ng()}H6(b,a,e,c){const f=this.Zc(),k=this.qb;k.tf(f.O());k.sf(f.R());k.Mz(b);k.TF(a);k.UF(e);k.cG(c);k.dQ()}}}
{"use strict";const d=self.m,b=self.wh,a=["left","center","right"],e=["top","center","bottom"];d.A.zl.Instance=class extends d.Jz{constructor(k,g){super(k);this.Zb="";this.Hn=!0;this.gg=this.Ve=16;this.En="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.cj=1;this.Wd=this.ee=this.vc=this.dj=0;this.xm=!0;this.je=null;this.Nk=this.kt=-1;this.tx=0;g&&(this.Zb=g[0],this.Hn=g[1],this.Ve=g[2],this.gg=g[3],this.En=g[4],k=g[5],this.cj=
g[6],this.dj=g[7],this.vc=g[8],this.ee=g[9],this.Wd=g[10],this.xm=0===g[11],this.j().Mh(g[12]));this.Va.H6(this.Ve,this.gg,this.En,k);this.je=d.B(self.l6,this.Va.qb);g=this.j();this.je.zc(g.O(),g.R());this.Vg();this.J.v5()}g(){this.sn();this.je.g();this.je=null;super.g()}Vg(){const k=this.je;k&&(k.rP(this.Hn),k.Hr(this.Zb),k.RP(this.xm?"word":"character"),k.k5(a[this.ee]),k.V5(e[this.Wd]),k.NP(this.dj),k.Rz(this.vc))}oe(k){const g=this.I.Zc();var l=g.Fd();if(l){k.ag(l);l=this.j();var p=l.Pj(),r=this.je;
r.np(this.cj);r.D5(l.qN());this.b.Fk&&(p=l.Cu(p));r.zc(l.O(),l.R());r.qb.H5(g.Gh());r.gk(l.pb);r.oe(k,p.Jb,p.Kb,l.ta())}}Nc(){const k={t:this.Zb,ebbc:this.Hn,csc:this.cj,csp:this.dj,lh:this.vc,ha:this.ee,va:this.Wd,w:this.xm,cw:this.Va.qb.Ve,ch:this.Va.qb.gg,cs:this.Va.qb.En,sd:this.Va.qb.bt};-1!==this.Nk&&(k.tw={st:this.kt,en:this.Nk,l:this.tx});return k}xc(k){this.sn();this.Zb=k.t;this.Hn=k.ebbc;this.cj=k.csc;this.dj=k.csp;this.vc=k.lh;this.ee=k.ha;this.Wd=k.va;this.xm=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.kt=g.st;this.Nk=g.en;this.tx=k.l}g=this.Va.qb;g.Mz(k.cw);g.TF(k.ch);g.UF(k.cs);g.cG(k.sd);this.Vg();-1!==this.Nk&&this.eg()}Vb(k){switch(k){case 0:return this.Zb;case 1:return this.Hn;case 2:return this.Va.qb.Ve;case 3:return this.Va.qb.gg;case 4:return this.Va.qb.En;case 5:return this.Va.qb.bt;case 6:return this.cj;case 7:return this.dj;case 8:return this.vc;case 9:return this.ee;case 10:return this.Wd;case 11:return this.xm?1:0}}Pe(k,g){switch(k){case 0:if(this.Zb===g)break;this.Zb=g;
this.Vg();break;case 1:if(this.Hn===!!g)break;this.Hn=!!g;this.Vg();break;case 2:this.Va.qb.Mz(g);break;case 3:this.Va.qb.TF(g);break;case 4:this.Va.qb.UF(g);break;case 5:this.Va.qb.cG(g);break;case 6:if(this.cj===g)break;this.cj=g;this.Vg();break;case 7:if(this.dj===g)break;this.dj=g;this.Vg();break;case 8:if(this.vc===g)break;this.vc=g;this.Vg();break;case 9:if(this.ee===g)break;this.ee=g;this.Vg();break;case 10:if(this.Wd===g)break;this.Wd=g;this.Vg();break;case 11:this.xm!==(0===g)&&(this.xm=
0===g,this.Vg())}}zA(k){this.Zb!==k&&(this.Zb=k,this.je.Hr(k),this.b.S())}Dca(k,g){this.zA(k);this.kt=this.b.VE();this.Nk=this.kt+g/this.za().YZ();this.tx=d.$k.VP(k).length;this.je.Oz(0);this.eg()}sn(){this.Nk=this.kt=-1;this.tx=0;this.je.Oz(-1);this.Ap()}Z8(){-1!==this.Nk&&(this.sn(),this.ka(d.A.zl.D.QO),this.b.S())}jca(k){this.cj!==k&&(this.cj=k,this.je.np(this.cj),this.b.S())}Kba(k){this.dj!==k&&(this.dj=k,this.je.NP(this.dj),this.b.S())}uS(k){this.vc!==k&&(this.vc=k,this.je.Rz(this.vc),this.b.S())}Tba(k){this.ee!==
k&&(this.ee=k,this.Vg(),this.b.S())}AS(k){this.Wd!==k&&(this.Wd=k,this.Vg(),this.b.S())}vca(k){k=!!k;this.xm!==k&&(this.xm=k,this.Vg(),this.b.S())}Gd(){var k=this.b.VE();k>=this.Nk?(this.sn(),this.ka(d.A.zl.D.QO),this.b.S()):(k=d.gga(this.kt,this.Nk,k,this.tx),k=Math.floor(k),k!==this.je.$g&&(this.je.Oz(k),this.b.S()))}Fg(){return self.Q0}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.Q0=class extends self.uu{constructor(){super();c.set(this,self.hr.tn().ga)}get text(){return c.get(this).Zb}set text(k){b.qe(k);
const g=c.get(this);g.sn();g.zA(k)}set lineHeight(k){b.Mi(k);c.get(this).uS(k)}get lineHeight(){return c.get(this).vc}set verticalAlign(k){b.qe(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).AS(k)}get verticalAlign(){return e[c.get(this).Wd]}}}{"use strict";const d=self.m;d.A.zl.D={tia(b,a){return a?this.Zb===b:d.th(this.Zb,b)},Ska(){return-1!==this.Nk},QO(){return!0}}}"use strict";
self.m.A.zl.cb={Hr(d){this.sn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.zA(d.toString())},xha(d){this.sn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.zA(this.Zb+d)},Yqa(d,b){this.sn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Dca(d.toString(),b)},Xqa(){this.Z8()},np(d){this.jca(d)},Loa(d){this.Kba(d)},Rz(d){this.uS(d)},Mz(d,b){let a=!1;const e=this.Va.qb;for(const c of d)if(" "===c)e.E5(b),a=!0;else if(d=e.Hy(c))d.yP(b),a=
!0;a&&e.S4();this.b.S()},zP(d){this.j().qf(d);this.b.S()},$oa(d){this.Tba(d)},Xpa(d){this.AS(d)},bqa(d){this.vca(0===d)}};{"use strict";const d=self.m;d.A.zl.wd={Yha(b){return(b=this.Va.qb.Hy(b))?b.uE():this.Va.qb.Ve},Vha(){return this.gg},Wha(){return this.cj},Xha(){return this.dj},kla(){return this.vc},Text(){return this.Zb},Ema(){return this.Hn?d.$k.VP(this.Zb):this.Zb},Fqa(){const b=this.j();this.je.zc(b.O(),b.R());return this.je.CN()},Eqa(){const b=this.j();this.je.zc(b.O(),b.R());return this.je.BN()}}}
{"use strict";const d=self.m;self.k6=class{constructor(b,a,e,c){a=b.Ve;let f=b.gg;this.qb=b;this.WU=new d.Rect(e,c,e+a,c+f);this.Kk=new d.Rect;this.pI=-1;this.TS()}g(){this.Kk=this.WU=this.qb=null}TS(){let b=this.qb.O(),a=this.qb.R();this.Kk.pa(this.WU);this.Kk.Vk(b,a);this.Kk.Lfa(this.qb.Gh())}Gh(){return this.Kk}yP(b){this.pI=b}uE(){return 0>this.pI?this.qb.Ve:this.pI}}}
{"use strict";const d=self.m,b=new d.Rect,a=new d.nd,e=new d.$a,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.l6=class{constructor(g){this.qb=g;this.Nl=this.We=0;this.Zb="";this.xe=!1;this.Zi=null;this.gf=d.B(d.Xu);this.Jq="word";this.YK=!1;this.ee="left";this.Wd="top";this.Uw=this.Rb=1;this.vc=this.zq=0;this.pb=d.B(d.$a);this.$g=-1;this.Zg=0;this.Ew=(l,p)=>this.ov(l,p);this.qb.m7(this)}g(){this.qb.Vaa(this);this.Ew=this.pb=null;this.gf.Ic();
this.Zi=this.qb=this.gf=null}ov(g,l){var p=this.Qc(l,"scale"),r=(p?parseFloat(p.gd):this.Rb)*this.Uw;p=this.Qc(l,"scalex");p=(p?parseFloat(p.gd):1)*r;l=this.Qc(l,"scaley");l=this.qb.gg*(l?parseFloat(l.gd):1)*r+this.vc;const v=this.qb;r=v.Ve*p;const q=this.zq;if(v.vs){let u=0,w=0;for(var x of g){g=r;const z=v.Hy(x);z?g=z.uE()*p:" "===x&&(g=v.yN()*p);w+=g;++u}return{width:w+u*q,height:l}}x=[...g].length;return{width:r*x+Math.max(x,0)*q,height:l}}pk(){this.YK=!0;this.gf.Ic()}zc(g,l){0>=g||0>=l||this.We===
g&&this.Nl===l||(this.We!==g&&this.pk(),this.We=g,this.Nl=l)}Oz(g){this.$g=Math.floor(g)}Qc(g,l){for(let p=g.length-1;0<=p;--p){const r=g[p];if(r.tag===l)return r}return null}un(g,l){return!!this.Qc(g,l)}vp(){if(this.YK){!this.xe||this.Zi&&this.Zi.toString()===this.Zb||(this.Zi=new d.$k(this.Zb,{mW:!0}));var g=-this.zq;this.gf.Xu(this.xe?this.Zi.EW():this.Zb,this.Ew,this.We,this.Jq,g);this.YK=!1}}oe(g,l,p,r){this.vp();let v=this.Zg=0;const q=this.vc,x=d.lD(this.gf.Hk),u=Math.sin(r);r=Math.cos(r);
var w=x.reduce((z,A)=>z+A.height,0)-q;"center"===this.Wd?v=Math.max(Math.floor(this.Nl/2-w/2),0):"bottom"===this.Wd&&(v=Math.floor(this.Nl-w));for(let z=0,A=x.length;z<A;++z){w=x[z];const E=w.height;if(0<z&&v>this.Nl-(E-q))break;0<=v&&this.N8(g,w,l,p,v,u,r);v+=E}}N8(g,l,p,r,v,q,x){const u=l.height;let w=0;"center"===this.ee?w=Math.max(Math.floor((this.We-l.width)/2),0):"right"===this.ee&&(w=Math.max(Math.floor(this.We-l.width),0));for(const z of l.kL)this.F8(g,z,p,r,w,v,q,x,u),w+=z.width}F8(g,l,p,
r,v,q,x,u,w){var z=l.text,A=l.width,E=l.hd;if(-1!==this.$g){if(this.Zg>=this.$g)return;this.Zg+z.length>this.$g&&(z=z.substr(0,this.$g-this.Zg),A=this.ov(z,E).width);this.Zg+=z.length}var G=this.Qc(E,"background");if(!(d.rz(z)&&!G||this.un(E,"hide"))){l=this.Qc(E,"scale");var P=(l?parseFloat(l.gd):this.Rb)*this.Uw;l=this.Qc(E,"scalex");l=(l?parseFloat(l.gd):1)*P;var D=this.Qc(E,"scaley");P*=this.qb.gg*(D?parseFloat(D.gd):1);q+=w-this.vc-P;w=this.Qc(E,"offsetx");v+=w?parseFloat(w.gd):0;w=this.Qc(E,
"offsety");q+=w?parseFloat(w.gd):0;G&&(g.VF(),e.rW(G.gd),e.uh(1),g.gk(e),b.set(v,q,v+A,q+P),b.$>this.We&&b.nga(this.We),a.DD(b,x,u),a.offset(p,r),g.nd(a),g.Lh());(A=this.Qc(E,"color"))?(e.rW(A.gd),e.uh(this.pb.Pa)):e.pa(this.pb);(A=this.Qc(E,"opacity"))&&e.uh(e.Pa*parseFloat(A.gd)/100);e.zD();g.gk(e);A=this.qb.Ve*l;E=Math.abs(this.zq);for(const H of z)if(z=this.qb.Hy(H)){G=z.uE()*l;if(v+G>this.We+E+1E-5)break;b.set(v,q,v+A,q+P);a.DD(b,x,u);a.offset(p,r);g.gp(a,z.Gh());v+=G+this.zq}else v+=this.qb.yN()*
l+this.zq}}rP(g){g=!!g;this.xe!==g&&(this.xe=g,this.pk())}Hr(g){this.Zb!==g&&(this.Zb=g,this.pk())}RP(g){if(!k.has(g))throw Error("invalid word wrap mode");this.Jq!==g&&(this.Jq=g,this.pk())}k5(g){if(!c.has(g))throw Error("invalid alignment");this.ee=g}V5(g){if(!f.has(g))throw Error("invalid alignment");this.Wd=g}np(g){this.Rb!==g&&(this.Rb=g,this.pk())}D5(g){this.Uw!==g&&(this.Uw=g,this.pk())}qN(){return this.Uw}NP(g){this.zq!==g&&(this.zq=g,this.pk())}Rz(g){this.vc=g;this.pk()}re(g){g=d.W(g,0,1);
this.pb.ro=g}gk(g){this.pb.Yc(g)||this.pb.pa(g)}CN(){this.vp();return this.gf.jN()}BN(){this.vp();const g=this.vc;return this.gf.Hk.length*(this.qb.gg*this.Rb+g)-g}}}
{"use strict";const d=self.m,b={width:256,height:256,QV:16,PV:16,characterSet:""};self.j6=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.QV||0>=a.PV)throw Error("invalid size");this.P=a.width;this.M=a.height;this.Ve=a.QV;this.gg=a.PV;this.En=a.characterSet;this.bt="";this.cx=null;this.vs=!1;this.yq=-1;this.Kk=new d.Rect(0,0,1,1);this.Ip=new Map;this.Sn=!0;this.Ep=new Set}g(){this.Kk=null;this.RR();this.Ip=null;this.Ep&&this.Ep.clear();this.Ep=null}RR(){for(let a of this.Ip.values())a.g();
this.Ip.clear()}m7(a){this.Ep.add(a)}Vaa(a){this.Ep.delete(a)}dQ(){if(this.Sn){this.RR();var a=[...this.En],e=Math.floor(this.P/this.Ve),c=e*Math.floor(this.M/this.gg);for(let f=0,k=a.length;f<k&&!(f>=c);++f){let g=a[f];this.Ip.set(g,d.B(self.k6,this,g,f%e*this.Ve,Math.floor(f/e)*this.gg))}this.vs=!1;this.yq=-1;if(Array.isArray(this.cx))for(let f of this.cx)if(Array.isArray(f)&&2===f.length&&(a=f[0],e=f[1],"number"===typeof a&&isFinite(a)&&"string"===typeof e&&a!==this.Ve))for(let k of e)(e=this.Ip.get(k))?
(e.yP(a),this.vs=!0):" "===k&&(this.yq=a,this.vs=!0);this.Sn=!1;for(let f of this.Ep)f.pk()}}S4(){this.vs=!0;for(const a of this.Ep)a.pk()}Hy(a){this.dQ();return this.Ip.get(a)||null}tf(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.P!==a&&(this.P=a,this.Sn=!0)}O(){return this.P}sf(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.M!==a&&(this.M=a,this.Sn=!0)}R(){return this.M}H5(a){if(!this.Kk.Yc(a)){this.Kk.pa(a);for(const e of this.Ip.values())e.TS()}}Gh(){return this.Kk}Mz(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.Ve!==a&&(this.Ve=a,this.Sn=!0)}TF(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.gg!==a&&(this.gg=a,this.Sn=!0)}UF(a){this.En!==a&&(this.En=a,this.Sn=!0)}cG(a){if(this.bt!==a&&(this.bt=a,this.Sn=!0,this.cx=null,this.bt.length))try{this.cx=JSON.parse(this.bt)}catch(e){this.cx=null}}E5(a){0>a&&(a=-1);this.yq!==a&&(this.yq=a,0<=this.yq&&(this.vs=!0))}yN(){return 0>this.yq?this.Ve:this.yq}}}{"use strict";const d=self.m;d.A.rc=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}
{"use strict";const d=self.m;d.A.rc.dg=class extends d.gn{constructor(b){super(b);this.Qd=b.Qd}g(){d.C(this.Qd);super.g()}qc(){for(const b of this.Qd)b.k2(this.b)}ep(b){const a={wg:this.b.Wc};return Promise.all(this.Qd.map(e=>e.l2(b,a)))}dn(){for(const b of this.Qd)b.f4()}zz(){this.NS()}NS(){for(const b of this.I.yfa())b.ga.AH()}au(b){d.A.rc.SZ(this,b)}}}
{"use strict";const d=self.m,b=d.B(d.Rect),a=d.B(d.nd),e=d.B(d.Vu);d.A.rc.Instance=class extends d.Jz{constructor(f,k){super(f);let g=!0,l="",p=0,r=!0;k&&(g=!!k[0],l=k[1],p=k[2],r=k[3]);this.Pb=this.I.UM(l)||this.I.Qd[0];this.xb=d.W(p,0,this.Pb.Sd.length-1);this.Xe=this.Pb.Om(this.xb);k=this.Xe.Zc();this.js=k.Fd();this.lI=k.Gh();this.Mv=k.az();this.r0();f.Ku(2,!0);f.Ku(1,0<=this.Pb.ll());this.wk=Math.abs(this.Pb.ll());this.hs=this.Pb.bV;this.KA=d.B(d.mr);this.rk=this.pj=0;this.XS="";this.Hv=-1;this.$r=
"";this.dT=0;f=this.j();this.pda=f.Pj();f.Mh(g);f.Ju(r);f.Cr(this.Xe.il());f.Dr(this.Xe.jl());f.bG(this.Xe.Jp);f.Ba();1===this.I.Qd.length&&1===this.I.Qd[0].Sd.length||0===this.wk||this.eg()}g(){this.KA=this.js=this.Xe=this.Pb=null;super.g()}$d(){return this.Xe.Zc()}Xm(){return!0}qr(){this.js=null}RO(){this.AH()}oe(f){var k=this.js;null!==k&&(f.ag(k),k=this.j(),k.Gg()?this.LG(k,f):this.MG(k,f))}MG(f,k){let g=this.pda;this.b.Fk&&(g=f.Cu(g));k.XO(g,this.Mv)}LG(f,k){const g=f.FN();if(f.$N()){f.gy(b,
a,!1);let l=a;this.b.Fk&&(l=f.Cu(l));g.oM(f.Xj(),l,this.Mv);f.Sz(!1)}g.oe(k)}du(){return this.KA.aa()}mz(){return this.J.AE(2)}xr(f){this.J.Ku(2,f)}qz(){return this.J.AE(1)}Pu(f){this.J.Ku(1,f)}nF(){return this.J.AE(4)}DP(f){this.J.Ku(4,f)}Gd(){this.$r&&this.FQ();0<=this.Hv&&this.JG();const f=this.wk;if(this.mz()&&0!==f){this.KA.wc(this.b.Mm(this.J));var k=this.du(),g=this.Xe,l=g.pT/f;if(!(k<this.pj+l)){var p=this.Pb,r=this.hs,v=p.Sd.length,q=p.Qm(),x=p.QB,u=p.Uda;this.qz()?this.xb++:this.xb--;this.pj+=
l;this.xb>=v&&(u?(this.Pu(!1),this.xb=v-2):x?this.xb=r:(this.rk++,this.rk>=q?this.OG(!1):this.xb=r));0>this.xb&&(u?(this.xb=1,this.Pu(!0),x||(this.rk++,this.rk>=q&&this.OG(!0))):x?this.xb=r:(this.rk++,this.rk>=q?this.OG(!0):this.xb=r));this.xb=d.W(this.xb,0,v-1);l=p.Om(this.xb);k>this.pj+l.pT/f&&(this.pj=k);this.rA(g,l)}}else this.Ap()}OG(f){this.xb=f?0:this.Pb.Sd.length-1;this.xr(!1);this.XS=this.Pb.xa();this.DP(!0);this.ka(d.A.rc.D.M2);this.ka(d.A.rc.D.xO);this.DP(!1);this.rk=0}rA(f,k){if(f!==k){var g=
this.j(),l=f.Zc();f=k.Zc();var p=l.O();l=l.R();var r=f.O(),v=f.R();p!==r&&g.tf(g.O()*(r/p));l!==v&&g.sf(g.R()*(v/l));g.Cr(k.il());g.Dr(k.jl());g.bG(k.Jp);g.Ba();this.Xe=k;this.js=f.Fd();this.lI=f.Gh();this.Mv=f.az();k=this.za().od;for(let q=0,x=k.length;q<x;++q);this.ka(d.A.rc.D.d3);this.b.S()}}Cca(f){this.xr(!0);this.pj=this.du();1===f&&0!==this.xb&&(this.Hv=0,this.nF()||this.JG());this.eg()}Eba(f,k){this.$r=f;this.dT=k;this.eg();this.nF()||this.FQ()}XQ(){return this.$r?this.$r:this.Pb.xa()}Fba(f){isFinite(f)&&
(this.Hv=f,this.nF()||this.JG())}Hba(f){this.wk=Math.abs(f);this.Pu(0<=f);0<this.wk&&this.eg()}TQ(){return this.qz()?this.wk:-this.wk}Gba(f){this.hs=f=d.W(Math.floor(f),0,this.Pb.Sd.length-1)}FQ(){const f=this.Xe;var k=this.I.UM(this.$r);this.$r="";!k||k===this.Pb&&this.mz()||(this.Pb=k,this.Pu(0<=k.ll()),this.wk=Math.abs(k.ll()),this.hs=k.bV,this.xb=d.W(this.xb,0,this.Pb.Sd.length-1),1===this.dT&&(this.xb=0),this.xr(!0),this.pj=this.du(),k=this.Pb.Om(this.xb),this.rA(f,k))}JG(){const f=this.Xe;var k=
this.xb;this.xb=d.W(Math.floor(this.Hv),0,this.Pb.Sd.length-1);this.Hv=-1;k!==this.xb&&(k=this.Pb.Om(this.xb),this.rA(f,k),this.pj=this.du())}AH(){const f=this.Xe.Zc();this.js=f.Fd();this.lI=f.Gh();this.Mv=f.az();this.j().Sz(!0)}Fd(){return this.js}Gh(){return this.lI}az(){return this.Mv}DE(){return this.Xe.DE()}No(f){const k=this.Xe,g=this.j();if("string"===typeof f)f=k.H_(f);else if("number"===typeof f)f=k.G_(f-1);else throw new TypeError("expected string or number");if(!f)return[g.X(),g.Y()];e.pa(f.bK);
if(g.Gg()){const [l,p]=g.Xj().$P(e.V,e.L);e.set(l,p)}e.offset(-k.il(),-k.jl());e.scale(g.O(),g.R());e.rotate(g.ta());e.offset(g.X(),g.Y());return[e.V,e.L]}h_(){return this.j().ml().sW()}WM(f){f=Math.floor(f);const k=this.j();var g=k.ml();const l=g.sW();f===l&&(f=0);if(0>f||f>=l)return[0,0];g=g.Ud;return[g[2*f]+k.X(),g[2*f+1]+k.Y()]}Nc(){const f={a:this.Pb.eb};0!==this.pj&&(f.fs=this.pj);var k=this.du();0!==k&&(f.at=k);0!==this.xb&&(f.f=this.xb);0!==this.wk&&(f.cas=this.wk);1!==this.rk&&(f.ar=this.rk);
0!==this.hs&&(f.rt=this.hs);this.mz()||(f.ap=this.mz());this.qz()||(f.af=this.qz());k=this.j();k.Kg()&&(f.ce=k.Kg());return f}xc(f){var k=this.H().$Z(f.a);k&&(this.Pb=k);this.pj=f.hasOwnProperty("fs")?f.fs:0;this.KA.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.xb=d.W(k,0,this.Pb.Sd.length-1);this.wk=f.hasOwnProperty("cas")?f.cas:0;this.rk=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.hs=d.W(k,0,this.Pb.Sd.length-1);this.xr(f.hasOwnProperty("ap")?!!f.ap:
!0);this.Pu(f.hasOwnProperty("af")?!!f.af:!0);this.Xe=k=this.Pb.Om(this.xb);this.AH();const g=this.j();g.Cr(k.il());g.Dr(k.jl());g.bG(k.Jp);g.Ju(!!f.ce)}Vb(f){const k=this.j();switch(f){case 3:return k.Kg();case 2:return d.W(this.xb,0,this.Pb.Sd.length-1)}}Pe(f,k){var g=this.j();switch(f){case 3:g.Ju(!!k);break;case 2:this.xr(!1);f=this.Pb.Sd.length-1;g=k=d.W(k,0,f);k=this.Pb.Om(this.xb);const l=this.Pb.Om(g);this.rA(k,l);this.xb=d.W(g,0,f)}}Fg(){return self.R0}};const c=new WeakMap;self.R0=class extends self.uu{constructor(){super();
c.set(this,self.hr.tn().ga)}get animationName(){return c.get(this).XQ()}get imageWidth(){return c.get(this).$d().O()}get imageHeight(){return c.get(this).$d().R()}}}{"use strict";const d=self.m;d.A.rc.D={fka(b){return d.th(this.XQ(),b)},kia(b,a){return d.compare(this.xb,b,a)},gia(b,a){return d.compare(this.TQ(),b,a)},xO(b){return d.th(this.XS,b)},M2(){return!0},d3(){return!0},Eka(){return 0>this.j().O()},uka(){return 0>this.j().R()},Az(){return!0},BF(){return!0},Kg(){return this.j().Kg()}}}
{"use strict";const d=self.m;d.A.rc.cb={i6(b,a,e,c){if(b&&a){var [f,k]=this.No(e);if(e=this.b.dE(b,a,f,k,c)){c&&a.iG(e);b.yb().$o()&&(a=e.j(),a.yc(this.j().ta()),a.Ba());a=this.b.ia();a.He(!0);e.CA();a.He(!1);c=this.b.hu().Fh();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.b.rs)a=!0,c.set("Spawn_LastExec",this.b.rs);if(b!==this.H()&&(b=b.ba(),b.se(!1),b=b.F,a&&d.C(b),b.push(e),e.Wb()))for(const g of e.Jd)e=g.H().ba(),a?e.ik(g):(e.se(!1),e.wp(g))}}},pqa(){this.xr(!1)},lqa(b){this.Cca(b)},
M4(b,a){this.Eba(b,a)},N4(b){this.Fba(b)},Doa(b){this.Hba(b)},Coa(b){this.Gba(b)},Jpa(b){const a=this.j(),e=a.O();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.tf(b),a.Ba())},Xoa(b){const a=this.j(),e=a.R();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.sf(b),a.Ba())},np(b){const a=this.Xe.Zc(),e=this.j();var c=0>e.O()?-1:1;const f=0>e.R()?-1:1;c*=a.O()*b;b=a.R()*b*f;if(e.O()!==c||e.R()!==b)e.zc(c,b),e.Ba()},async q2(b,a){const e=this.Xe.Zc(),c=this.j(),f=this.b;if(e.Hj===b)0===a&&(c.zc(e.O(),e.R()),c.Ba()),this.ka(d.A.rc.D.Az);
else{var k=d.B(d.vu);try{await k.iO(f,b);if(!k.pz())throw Error("image failed to load");await k.$m(f.sb(),{wg:this.b.Wc})}catch(g){console.error("Load image from URL failed: ",g);this.ka(d.A.rc.D.BF);return}e.s4(k);this.Va.NS();this.Nr()||0!==a||(c.zc(e.O(),e.R()),c.Ba());f.S();this.Nr()||await this.ab(d.A.rc.D.Az)}},Moa(b){this.j().Ju(b)},aG(b,a){this.j().aG(0===b,a)},zP(b){this.j().qf(b);this.b.S()}}}"use strict";
self.m.A.rc.wd={tha(){return this.xb},uha(){return this.Pb.Sd.length},vha(){return this.Pb.xa()},wha(){return this.TQ()},gma(){return this.Pb.ll()},Xja(d){return this.No(d)[0]},Yja(d){return this.No(d)[1]},Wja(){return this.DE()},Z0(){return this.$d().O()},X0(){return this.$d().R()},Oma(d){return this.WM(d)[0]},Pma(d){return this.WM(d)[1]},Nma(){return this.h_()}};{"use strict";const d=self.m;d.A.Qi=class extends d.ek{constructor(b){super(b)}g(){super.g()}}}
{"use strict";const d=self.m;function b(a){switch(a){case 0:return"clamp-to-edge";case 2:return"mirror-repeat"}return"repeat"}d.A.Qi.dg=class extends d.gn{constructor(a,e){super(a);this.zm=this.ym="repeat";e&&(this.ym=b(e[0]),this.zm=b(e[1]))}g(){super.g()}qc(){this.Zc().xz(this.b)}ep(a){return this.Zc().$m(a,{wg:this.b.Wc,Ot:this.ym,Pt:this.zm})}dn(){this.Zc().Ng()}}}
{"use strict";const d=self.m,b=d.B(d.Rect),a=d.B(d.nd),e=d.B(d.Rect),c=d.B(d.nd);d.A.Qi.Instance=class extends d.Jz{constructor(k,g){super(k);this.xs=this.ws=0;this.zs=this.ys=1;this.Tl=0;this.mq=null;g&&(this.j().Mh(!!g[0]),this.ws=g[4],this.xs=g[5],this.ys=g[6],this.zs=g[7],this.Tl=d.Ga(g[8]))}g(){this.TR();super.g()}TR(){this.mq&&(this.mq.g(),this.mq=null)}oe(k){var g=this.$d(),l=g.Fd();if(null!==l){k.ag(l);l=g.O();g=g.R();var p=this.ws/l,r=this.xs/g,v=this.j();e.set(0,0,v.O()/(l*this.ys),v.R()/
(g*this.zs));e.offset(-p,-r);v.Gg()?this.LG(v,k):this.MG(v,k)}}MG(k,g){let l=k.Pj();this.b.Fk&&(l=k.Cu(l));0===this.Tl?g.gp(l,e):(c.TL(e,-this.Tl),g.XO(l,c))}LG(k,g){const l=k.FN();if(k.$N()){k.gy(b,a,!1);let p=a;this.b.Fk&&(p=k.Cu(p));let r=e;0!==this.Tl&&(c.TL(e,-this.Tl),r=c);l.oM(k.Xj(),p,r);k.Sz(!1)}l.oe(g)}$d(){return this.mq||this.I.Zc()}Xm(){return!0}Fd(){return this.$d().Fd()}uv(){this.j().Sz(!0)}qS(k){this.ws!==k&&(this.ws=k,this.b.S(),this.uv())}rS(k){this.xs!==k&&(this.xs=k,this.b.S(),
this.uv())}sS(k){this.ys!==k&&(this.ys=k,this.b.S(),this.uv())}tS(k){this.zs!==k&&(this.zs=k,this.b.S(),this.uv())}pS(k){this.Tl!==k&&(this.Tl=k,this.b.S(),this.uv())}Vb(k){switch(k){case 4:return this.ws;case 5:return this.xs;case 6:return this.ys;case 7:return this.zs;case 8:return this.Tl}}Pe(k,g){switch(k){case 4:this.qS(g);break;case 5:this.rS(g);break;case 6:this.sS(g);break;case 7:this.tS(g);break;case 8:this.pS(g)}}Fg(){return self.T0}};const f=new WeakMap;self.T0=class extends self.uu{constructor(){super();
f.set(this,self.hr.tn().ga)}get imageWidth(){return f.get(this).$d().O()}get imageHeight(){return f.get(this).$d().R()}}}"use strict";self.m.A.Qi.D={Az(){return!0},BF(){return!0}};
{"use strict";const d=self.m;d.A.Qi.cb={epa(b){this.qS(b)},fpa(b){this.rS(b)},gpa(b){this.sS(b/100)},hpa(b){this.tS(b/100)},dpa(b){this.pS(d.Ga(b))},zP(b){this.j().qf(b);this.b.S()},async q2(b){if(!this.mq||this.mq.Hj!==b){var a=this.b,e=d.B(d.vu);try{await e.iO(a,b);if(!e.pz())throw Error("image failed to load");if(this.Nr())return e.g(),null;if(!await e.$m(a.sb(),{wg:this.b.Wc,Ot:"repeat",Pt:"repeat"}))return}catch(c){console.error("Load image from URL failed: ",c);this.ka(d.A.Qi.D.BF);return}this.Nr()?
e.g():(this.TR(),this.mq=e,a.S(),await this.ab(d.A.Qi.D.Az))}}}}{"use strict";const d=self.m;d.A.Qi.wd={Z0(){return this.$d().O()},X0(){return this.$d().R()},Uja(){return this.ws},Vja(){return this.xs},Zja(){return 100*this.ys},$ja(){return 100*this.zs},Rja(){return d.ne(this.Tl)}}}{"use strict";const d=self.m;d.fb.Jr=class extends d.Gz{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.fb.Jr.dg=class extends d.Iz{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m,b=self.bF,a=2*Math.PI,e=Math.PI/2,c=3*Math.PI/2,f=[0,1,8,3,4,2,5,6,9,7];d.fb.Jr.Instance=class extends d.Hz{constructor(g,l){super(g);this.Ec=this.De=this.qo=this.og=this.Cc=0;this.Dc=!0;this.FC=this.Gs=this.Bf=this.Xp=this.hb=this.EJ=this.YJ=this.ZJ=this.PA=this.ZS=this.QA=0;l&&(this.og=f[l[0]],this.qo=l[1],this.ZJ=this.b.ul()*l[3],this.QA=l[2],this.De=l[2],this.De+=this.ZJ,this.ZS=l[4],0!==this.De&&(this.YJ=this.b.ul()*l[5],this.Cc=l[4]/this.De*a,this.Cc+=this.YJ/this.De*
a),this.EJ=this.b.ul()*l[7],this.PA=l[6],this.Ec=l[6],this.Ec+=this.EJ,this.Dc=!!l[8]);5===this.og&&(this.Ec=d.Ga(this.Ec));this.Hg();this.Dc&&this.eg()}g(){super.g()}Nc(){return{i:this.Cc,e:this.Dc,mv:this.og,w:this.qo,p:this.De,mag:this.Ec,iv:this.hb,iv2:this.Xp,r:this.FC,lkv:this.Bf,lkv2:this.Gs}}xc(g){this.Cc=g.i;this.Hl(g.e);this.og=g.mv;this.qo=g.w;this.De=g.p;this.Ec=g.mag;this.hb=g.iv;this.Xp=g.iv2;this.FC=g.r;this.Bf=g.lkv;this.Gs=g.lkv2}Hg(){const g=this.J.j();switch(this.og){case 0:this.hb=
g.X();break;case 1:this.hb=g.Y();break;case 2:this.hb=g.O();this.FC=g.R()/g.O();break;case 3:this.hb=g.O();break;case 4:this.hb=g.R();break;case 5:this.hb=g.ta();break;case 6:this.hb=g.Cd();break;case 7:this.hb=0;break;case 8:this.hb=g.X();this.Xp=g.Y();break;case 9:this.hb=g.Qa()}this.Bf=this.hb;this.Gs=this.Xp}Nh(g){g%=a;switch(this.qo){case 0:return Math.sin(g);case 1:return g<=e?g/e:g<=c?1-2*(g-e)/Math.PI:(g-c)/e-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Gd(){const g=
this.b.Mm(this.J);this.Dc&&0!==g&&(this.Cc=0===this.De?0:(this.Cc+g/this.De*a)%a,this.RS())}RS(){const g=this.J.j();switch(this.og){case 0:g.X()!==this.Bf&&(this.hb+=g.X()-this.Bf);g.bg(this.hb+this.Nh(this.Cc)*this.Ec);this.Bf=g.X();break;case 1:g.Y()!==this.Bf&&(this.hb+=g.Y()-this.Bf);g.Re(this.hb+this.Nh(this.Cc)*this.Ec);this.Bf=g.Y();break;case 2:g.tf(this.hb+this.Nh(this.Cc)*this.Ec);g.sf(g.O()*this.FC);break;case 3:g.tf(this.hb+this.Nh(this.Cc)*this.Ec);break;case 4:g.sf(this.hb+this.Nh(this.Cc)*
this.Ec);break;case 5:g.ta()!==this.Bf&&(this.hb=d.me(this.hb+(g.ta()-this.Bf)));g.yc(this.hb+this.Nh(this.Cc)*this.Ec);this.Bf=g.ta();break;case 6:g.re(this.hb+this.Nh(this.Cc)*this.Ec/100);break;case 8:g.X()!==this.Bf&&(this.hb+=g.X()-this.Bf);g.Y()!==this.Gs&&(this.Xp+=g.Y()-this.Gs);g.bg(this.hb+Math.cos(g.ta())*this.Nh(this.Cc)*this.Ec);g.Re(this.Xp+Math.sin(g.ta())*this.Nh(this.Cc)*this.Ec);this.Bf=g.X();this.Gs=g.Y();break;case 9:g.Se(this.hb+this.Nh(this.Cc)*this.Ec)}g.Ba()}gca(g){this.De=
g}bca(g){this.Ec=g}cca(g){5===this.og&&(g=d.Ga(g));this.bca(g)}SG(){let g=this.Ec;5===this.og&&(g=d.ne(g));return g}fca(g){5===this.og&&5!==g&&(this.Ec=d.ne(this.Ec));this.og=g;this.Hg()}hca(g){this.Cc=d.W(g,0,2*Math.PI);this.RS()}Hl(g){(this.Dc=!!g)?this.eg():this.Ap()}Vb(g){switch(g){case 0:return this.og;case 1:return this.qo;case 2:return this.QA;case 6:return this.PA;case 8:return this.Dc}}Pe(g,l){switch(g){case 0:this.og=f[l];this.Hg();break;case 1:this.qo=l;break;case 2:this.QA=l;this.De=this.QA+
this.ZJ;this.Dc||(0!==this.De?(this.Cc=this.ZS/this.De*a,this.Cc+=this.YJ/this.De*a):this.Cc=0);break;case 6:this.PA=l;this.Ec=this.PA+this.EJ;5===this.og&&(this.Ec=d.Ga(this.Ec));break;case 8:this.Dc=!!l}}Fg(){return self.P0}};const k=new WeakMap;self.P0=class extends b{constructor(){super();k.set(this,b.tn().ga)}get value(){const g=k.get(this);return g.Nh(g.Cc)*g.Ec}set isEnabled(g){k.get(this).Hl(!!g)}get isEnabled(){return k.get(this).Dc}}}
{"use strict";const d=self.m;d.fb.Jr.D={Xf(){return this.Dc},oia(b){return this.og===b},ria(b,a){return d.compare(this.De,b,a)},nia(b,a){return d.compare(this.SG(),b,a)},yia(b){return this.qo===b}}}"use strict";self.m.fb.Jr.cb={yl(d){this.Hl(0!==d)},Opa(d){this.gca(d)},Fpa(d){this.cca(d)},Kpa(d){this.fca(d)},aqa(d){this.qo=d},Ppa(d){const b=2*Math.PI;this.hca(d*b%b)},ira(){this.Hg()}};"use strict";
self.m.fb.Jr.wd={Lia(){return this.Cc/(2*Math.PI)},lma(){return this.De},sla(){return this.SG()},lra(){return this.Nh(this.Cc)*this.SG()}};{"use strict";const d=self.m;d.fb.Co=class extends d.Gz{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.fb.Co.dg=class extends d.Iz{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m;d.fb.Co.Instance=class extends d.Hz{constructor(b,a){super(b);this.yl(!0);a&&(this.yl(a[0]),this.Gr(a[1]))}g(){super.g()}yl(b){this.J.oca(!!b)}Xf(){return this.J.tR()}Gr(b){const a=this.J.Fh();if(b.trim()){var e=a.get("solidTags");e||(e=new Set,a.set("solidTags",e));e.clear();for(const c of b.split(" "))c&&e.add(c.toLowerCase())}else a.delete("solidTags")}Nc(){return{e:this.Xf()}}xc(b){this.yl(b.e)}Vb(b){switch(b){case 0:return this.Xf()}}Pe(b,a){switch(b){case 0:this.yl(a)}}}}"use strict";
self.m.fb.Co.D={Xf(){return this.Xf()}};"use strict";self.m.fb.Co.cb={yl(d){this.yl(d)},Gr(d){this.Gr(d)}};"use strict";self.m.fb.Co.wd={};{"use strict";const d=self.m;d.fb.Io=class extends d.Gz{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.fb.Io.dg=class extends d.Iz{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m,b=self.wh,a=self.bF;d.fb.Io.Instance=class extends d.Hz{constructor(c,f){super(c);this.$w=this.Zw=this.Yw=this.ax=this.AB=this.Qw=this.xw=this.Pv=this.vx=!1;this.Gb=this.Fb=0;this.zj=200;this.vf=600;this.jg=500;this.yn=this.Fn=3;this.Dc=this.Pl=!0;f&&(this.zj=f[0],this.vf=f[1],this.jg=f[2],this.Fn=f[3],this.yn=f[4],this.Pl=!!f[5],this.Dc=!!f[6]);this.Dc&&this.eg();this.Pl&&this.vG()}vG(){if(!this.pd){var c=this.b.Cb();this.pd=new d.Uq(d.Ub.Jc(c,"keydown",f=>this.bH(f.data)),
d.Ub.Jc(c,"keyup",f=>this.cH(f.data)),d.Ub.Jc(c,"window-blur",()=>this.Ur()),d.Ub.Jc(c,"keyboard-blur",()=>this.Ur()))}}JS(){this.pd&&(this.pd.g(),this.pd=null)}g(){super.g()}Nc(){return{dx:this.Fb,dy:this.Gb,e:this.Dc,ms:this.zj,acc:this.vf,dec:this.jg,d:this.Fn,am:this.yn,dc:this.Pl,ii:this.AB}}xc(c){this.Fb=c.dx;this.Gb=c.dy;this.Hl(c.e);this.zj=c.ms;this.vf=c.acc;this.jg=c.dec;this.Fn=c.d;this.yn=c.am;this.Pl=c.dc;this.AB=c.ii;this.$w=this.Zw=this.Yw=this.ax=this.Qw=this.xw=this.Pv=this.vx=!1;
this.Pl?this.vG():this.JS()}bH(c){switch(c.key){case "ArrowLeft":this.xw=!0;break;case "ArrowUp":this.vx=!0;break;case "ArrowRight":this.Qw=!0;break;case "ArrowDown":this.Pv=!0}}cH(c){switch(c.key){case "ArrowLeft":this.xw=!1;break;case "ArrowUp":this.vx=!1;break;case "ArrowRight":this.Qw=!1;break;case "ArrowDown":this.Pv=!1}}Ur(){this.Qw=this.xw=this.Pv=this.vx=!1}Gd(){var c=this.b.Mm(this.J);const f=this.b.Uh;var k=this.xw||this.Zw,g=this.Qw||this.$w,l=this.vx||this.ax,p=this.Pv||this.Yw;this.Yw=
this.ax=this.$w=this.Zw=!1;if(this.Dc){var r=f.qn(this.J);if(r&&(f.Ez(this.J,r),!f.Z3(this.J)))return;this.AB&&(k=g=l=p=!1);0===this.Fn?k=g=!1:1===this.Fn&&(l=p=!1);2===this.Fn&&(l||p)&&(k=g=!1);k===g&&(0>this.Fb?this.Fb=Math.min(this.Fb+this.jg*c,0):0<this.Fb&&(this.Fb=Math.max(this.Fb-this.jg*c,0)));l===p&&(0>this.Gb?this.Gb=Math.min(this.Gb+this.jg*c,0):0<this.Gb&&(this.Gb=Math.max(this.Gb-this.jg*c,0)));var v=r=0;k&&!g&&(r=0<this.Fb?-(this.vf+this.jg):-this.vf);g&&!k&&(r=0>this.Fb?this.vf+this.jg:
this.vf);l&&!p&&(v=0<this.Gb?-(this.vf+this.jg):-this.vf);p&&!l&&(v=0>this.Gb?this.vf+this.jg:this.vf);this.Fb+=r*c;this.Gb+=v*c;if(0!==this.Fb||0!==this.Gb){g=Math.atan2(this.Gb,this.Fb);k=this.zj*Math.cos(g);g=this.zj*Math.sin(g);Math.sqrt(this.Fb*this.Fb+this.Gb*this.Gb)>this.zj&&(this.Fb=k,this.Gb=g);var q=Math.abs(k)*c;p=Math.abs(g)*c;k=this.J.j();const x=k.X();l=k.Y();g=k.ta();q=d.W(this.Fb*c+.5*r*c*c,-q,q);k.tO(q);k.Ba();if(r=f.qn(this.J))f.WO(this.J,0>this.Fb?1:-1,0,Math.max(Math.abs(Math.floor(q)),
1))||(k.bg(x),k.Ba()),this.Fb=0,f.Ez(this.J,r);c=d.W(this.Gb*c+.5*v*c*c,-p,p);k.uO(c);k.Ba();if(r=f.qn(this.J))f.WO(this.J,0,0>this.Gb?1:-1,Math.max(Math.abs(Math.floor(c)),1))||(k.Re(l),k.Ba()),this.Gb=0,f.Ez(this.J,r);c=d.BD(this.Fb);v=d.BD(this.Gb);0===c&&0===v||!this.J.yb().$o()||(1===this.yn?k.yc(d.Ga(90*Math.round(d.ne(Math.atan2(v,c))/90))):2===this.yn?k.yc(d.Ga(45*Math.round(d.ne(Math.atan2(v,c))/45))):3===this.yn&&k.yc(Math.atan2(v,c)));k.Ba();k.ta()!=g&&(r=f.qn(this.J))&&(k.yc(g),k.Ba(),
f.Ez(this.J,r))}}}Vb(c){switch(c){case 0:return this.zj;case 1:return this.vf;case 2:return this.jg;case 3:return this.Fn;case 4:return this.yn;case 5:return this.Pl;case 6:return this.Dc}}Pe(c,f){switch(c){case 0:this.wS(f);break;case 1:this.oH(f);break;case 2:this.lS(f);break;case 3:this.Fn=f;break;case 4:this.yn=f;break;case 5:this.mS(!!f);break;case 6:this.Hl(!!f)}}GS(){this.Gb=this.Fb=0}$R(){this.Fb*=-1;this.Gb*=-1}zR(){const c=Math.hypot(this.Fb,this.Gb);c>this.zj&&this.uH(c)}uH(c){c=d.W(c,
0,this.zj);const f=Math.atan2(this.Gb,this.Fb);this.Fb=c*Math.cos(f);this.Gb=c*Math.sin(f)}lA(){return Math.hypot(this.Fb,this.Gb)}wS(c){this.zj=Math.max(c,0)}oH(c){this.vf=Math.max(c,0)}lS(c){this.jg=Math.max(c,0)}w9(){return Math.atan2(this.Gb,this.Fb)}rca(c){this.Fb=c;this.zR()}sca(c){this.Gb=c;this.zR()}Aca(c){if(this.Dc)switch(c){case 0:this.Zw=!0;break;case 1:this.$w=!0;break;case 2:this.ax=!0;break;case 3:this.Yw=!0}}mS(c){c=!!c;this.Pl!==c&&((this.Pl=c)?this.vG():(this.JS(),this.Ur()))}Xba(c){this.AB=
!!c}Hl(c){(this.Dc=!!c)?this.eg():(this.Yw=this.ax=this.$w=this.Zw=!1,this.Ap())}Fg(){return self.H0}};const e=new WeakMap;self.H0=class extends a{constructor(){super();e.set(this,a.tn().ga)}stop(){e.get(this).GS()}reverse(){e.get(this).$R()}get speed(){return e.get(this).lA()}set speed(c){b.Mi(c);e.get(this).uH(c)}get acceleration(){return e.get(this).vf}set acceleration(c){b.Mi(c);e.get(this).oH(c)}get isEnabled(){return e.get(this).Dc}set isEnabled(c){e.get(this).Hl(!!c)}}}
{"use strict";const d=self.m;d.fb.Io.D={Fka(){return 1E-10<this.lA()},sia(b,a){return d.compare(this.lA(),b,a)},Xf(){return this.Dc}}}"use strict";self.m.fb.Io.cb={uf(){this.GS()},eoa(){this.$R()},cpa(d){this.Xba(d)},Upa(d){this.uH(d)},Hpa(d){this.wS(d)},Boa(d){this.oH(d)},Noa(d){this.lS(d)},d6(d){this.Aca(d)},yl(d){this.Hl(d)},Ypa(d){this.rca(d)},Zpa(d){this.sca(d)},Poa(d){this.mS(!!d)}};
{"use strict";const d=self.m;d.fb.Io.wd={iqa(){return this.lA()},xla(){return this.zj},Mga(){return this.vf},Nia(){return this.jg},Hla(){return d.ne(this.w9())},mra(){return this.Fb},nra(){return this.Gb}}}{"use strict";const d=self.m;d.fb.Oj=class extends d.Gz{constructor(b){super(b)}g(){super.g()}}}{"use strict";const d=self.m;d.fb.Oj.dg=class extends d.Iz{constructor(b){super(b)}g(){super.g()}qc(){}}}
{"use strict";const d=self.m;d.fb.Oj.Instance=class extends d.Hz{constructor(b,a){super(b);this.Rl=this.Pk=this.yk=0;this.FA=this.ls=!0;this.kV=!1;this.Gf=0;this.Jk=d.B(d.mr);this.Tn=this.J.j().Cd()||1;a&&(this.yk=a[0],this.Pk=a[1],this.Rl=a[2],this.ls=!!a[3],this.Gf=(this.FA=!!a[4])?0:3);this.FA&&(0===this.yk?(this.Gf=1,0===this.Pk&&(this.Gf=2)):(this.J.j().re(0),this.b.S()));this.eg()}g(){super.g()}Nc(){return{fit:this.yk,wt:this.Pk,fot:this.Rl,d:this.ls,s:this.Gf,st:this.Jk.aa(),mo:this.Tn}}xc(b){this.yk=
b.fit;this.Pk=b.wt;this.Rl=b.fot;this.ls=b.d;this.Gf=b.s;this.Jk.Set(b.st);this.Tn=b.mo}Gd(){this.Jk.wc(this.b.Mm(this.J));const b=this.J.j();0===this.Gf&&(b.re(this.Jk.aa()/this.yk*this.Tn),this.b.S(),b.Cd()>=this.Tn&&(b.re(this.Tn),this.Gf=1,this.Jk.Mc(),this.ka(d.fb.Oj.D.a3)));1===this.Gf&&this.Jk.aa()>=this.Pk&&(this.Gf=2,this.Jk.Mc(),this.ka(d.fb.Oj.D.I3));2===this.Gf&&0!==this.Rl&&(b.re(this.Tn-this.Jk.aa()/this.Rl*this.Tn),this.b.S(),0>=b.Cd()&&(this.Gf=3,this.Jk.Mc(),this.ka(d.fb.Oj.D.b3),
this.ls&&this.b.Jm(this.J)))}pn(){this.Gf=0;this.Jk.Mc();0===this.yk?(this.Gf=1,0===this.Pk&&(this.Gf=2)):(this.J.j().re(0),this.b.S())}Vb(b){switch(b){case 0:return this.yk;case 1:return this.Pk;case 2:return this.Rl;case 3:return this.ls}}Pe(b,a){switch(b){case 0:this.yk=a;break;case 1:this.Pk=a;break;case 2:this.Rl=a;break;case 3:this.ls=!!a}}}}"use strict";self.m.fb.Oj.D={b3(){return!0},a3(){return!0},I3(){return!0}};"use strict";
self.m.fb.Oj.cb={mqa(){this.FA||this.kV||(this.Tn=this.J.j().Cd()||1,this.kV=!0);3===this.Gf&&this.pn()},aoa(){this.pn()},Voa(d){0>d&&(d=0);this.yk=d},$pa(d){0>d&&(d=0);this.Pk=d},Woa(d){0>d&&(d=0);this.Rl=d}};"use strict";self.m.fb.Oj.wd={cja(){return this.yk},ura(){return this.Pk},dja(){return this.Rl}};
{const d=self.m;self.mM=function(){return[d.A.Audio,d.A.jd,d.A.Keyboard,d.A.Touch,d.A.Eb,d.A.zl,d.A.rc,d.fb.Jr,d.A.Qi,d.fb.Co,d.fb.Io,d.fb.Oj,d.A.gb.D.LO,d.A.Audio.cb.Play,d.A.Audio.cb.uf,d.A.rc.cb.N4,d.A.gb.wd.random,d.A.gb.cb.U5,d.A.Qi.D.vM,d.A.Qi.cb.Re,d.A.gb.D.NZ,d.A.Qi.wd.tG,d.A.rc.cb.Re,d.A.rc.wd.tG,d.A.zl.cb.Hr,d.A.gb.D.MZ,d.A.gb.cb.fX,d.A.gb.cb.DM,d.A.rc.cb.M4,d.A.gb.wd.RV,d.A.Keyboard.D.ZN,d.A.rc.cb.i6,d.fb.Io.cb.d6,d.A.gb.D.XX,d.A.rc.D.S2,d.A.Touch.D.a2,d.A.gb.D.LM,d.A.rc.cb.AY,d.A.Touch.D.PO,
d.A.gb.cb.o0,d.A.rc.D.vM,d.A.rc.cb.o5,d.A.rc.cb.yc,d.A.Eb.cb.s5,d.A.gb.wd.aga,d.A.rc.D.xO,d.A.rc.D.WX,d.A.rc.cb.re,d.A.gb.cb.rG,d.A.Audio.cb.q6,d.A.Audio.D.CO,d.A.Keyboard.D.HO,d.A.jd.cb.TX,d.A.Eb.cb.LX,d.A.Eb.D.DO,d.A.Eb.wd.d2,d.A.Eb.D.FO,d.A.Audio.cb.X5]};self.zX=[{Audio:0},{jd:0},{Keyboard:0},{Touch:0},{Eb:0},{Oja:0},{ela:0},{soa:0},{Gqa:0},{Oha:0},{aja:0},{rja:0},{dqa:0},{Play:0},{hqa:0},{Uqa:0},{Vqa:0},{yla:0},{eqa:0},{Mha:0},{Nha:0},{Rha:0},{cia:0},{Hja:0},{roa:0},{Bsa:0},{"8Direction":0},{Mma:0},
{Oj:0},{Iqa:0},{Qqa:0},{Sqa:0},{foa:0},{Eha:0},{bja:0},{Hqa:0},{dla:0},{Nja:0},{woa:0}]}
{function d(b,a){return"string"===typeof b||"string"===typeof a?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a):b&&a?1:0}self.yX=[()=>-6,()=>"GameTheme",()=>"MenuTheme",b=>{const a=b.Pd(0).Bh();return()=>Math.round(a(0,22))},()=>-4,()=>0,()=>1832,()=>1320,b=>{const a=b.Pd(0),e=b.Pd(1).lj;return()=>a.OM()-e.ld()},b=>{const a=b.Pd(0),e=b.Pd(1).lj;return()=>a.OM()-e.ld()-6},b=>{const a=b.Pd(0).lj;return()=>d("SCORE:",a.ld())},
b=>{const a=b.Pd(0).lj;return()=>d("TIME: ",a.ld())},()=>1,b=>{const a=b.Pd(0).Bh();return()=>a(3,5)},()=>585,()=>-300,b=>{const a=b.Pd(0).Bh();return()=>a("car1","car2","car3","car4","car5","car6","car7","car8","car9","car10","car11","car12","car13","car14","car15")},b=>{const a=b.Pd(0).Bh();return()=>a(4,6)},()=>465,b=>{const a=b.Pd(0).Bh();return()=>a(5,7)},()=>335,b=>{const a=b.Pd(0).Bh();return()=>a(4,8)},()=>215,()=>-.3,()=>-24,()=>4,()=>-8,()=>-230,()=>2200,()=>"Sound",()=>-200,()=>10,b=>{const a=
b.Pd(0).Bh();return()=>a(0,360)},b=>{const a=b.Pd(0).lj;return()=>a.ld()},b=>{const a=b.Pd(0).Bh();return()=>a()+"HighScore"},b=>{const a=b.Pd(0).Bh();return()=>a()+"LastScore"},()=>"Default",()=>.8,()=>"Gas",()=>-12,()=>"Engine",()=>"Brake",b=>{const a=b.Pd(0).Bh();return()=>a()},b=>{const a=b.Pd(0).lj;return()=>d("HIGH SCORE ",a.ld())},b=>{const a=b.Pd(0).lj;return()=>d("LAST SCORE ",a.ld())},()=>"Crash",()=>"ON",()=>-100,()=>"OFF"]};
